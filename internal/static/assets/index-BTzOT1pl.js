(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const rs=!1,ns=(e,t)=>e===t,ss=Symbol("solid-track"),Tt={equals:ns};let Dn=Ln;const Oe=1,It=2,Vn={owned:null,cleanups:null,context:null,owner:null};var re=null;let Wt=null,as=null,ee=null,ie=null,Ee=null,Vt=0;function jt(e,t){const r=ee,n=re,o=e.length===0,s=t===void 0?n:t,u=o?Vn:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=o?e:()=>e(()=>De(()=>Le(u)));re=u,ee=null;try{return He(a,!0)}finally{ee=r,re=n}}function Ne(e,t){t=t?Object.assign({},Tt,t):Tt;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=o=>(typeof o=="function"&&(o=o(r.value)),Un(r,o));return[Fn.bind(r),n]}function Se(e,t,r){const n=cr(e,t,!1,Oe);Ke(n)}function zn(e,t,r){Dn=ls;const n=cr(e,t,!1,Oe);n.user=!0,Ee?Ee.push(n):Ke(n)}function ke(e,t,r){r=r?Object.assign({},Tt,r):Tt;const n=cr(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Ke(n),Fn.bind(n)}function De(e){if(ee===null)return e();const t=ee;ee=null;try{return e()}finally{ee=t}}function is(e){return re===null||(re.cleanups===null?re.cleanups=[e]:re.cleanups.push(e)),e}function os(e){const t=ke(e),r=ke(()=>ir(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function Fn(){if(this.sources&&this.state)if(this.state===Oe)Ke(this);else{const e=ie;ie=null,He(()=>qt(this),!1),ie=e}if(ee){const e=this.observers?this.observers.length:0;ee.sources?(ee.sources.push(this),ee.sourceSlots.push(e)):(ee.sources=[this],ee.sourceSlots=[e]),this.observers?(this.observers.push(ee),this.observerSlots.push(ee.sources.length-1)):(this.observers=[ee],this.observerSlots=[ee.sources.length-1])}return this.value}function Un(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&He(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],u=Wt&&Wt.running;u&&Wt.disposed.has(s),(u?!s.tState:!s.state)&&(s.pure?ie.push(s):Ee.push(s),s.observers&&Kn(s)),u||(s.state=Oe)}if(ie.length>1e6)throw ie=[],new Error},!1)),t}function Ke(e){if(!e.fn)return;Le(e);const t=Vt;us(e,e.value,t)}function us(e,t,r){let n;const o=re,s=ee;ee=re=e;try{n=e.fn(t)}catch(u){return e.pure&&(e.state=Oe,e.owned&&e.owned.forEach(Le),e.owned=null),e.updatedAt=r+1,Hn(u)}finally{ee=s,re=o}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Un(e,n):e.value=n,e.updatedAt=r)}function cr(e,t,r,n=Oe,o){const s={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:re,context:re?re.context:null,pure:r};return re===null||re!==Vn&&(re.owned?re.owned.push(s):re.owned=[s]),s}function Ct(e){if(e.state===0)return;if(e.state===It)return qt(e);if(e.suspense&&De(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Vt);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===Oe)Ke(e);else if(e.state===It){const n=ie;ie=null,He(()=>qt(e,t[0]),!1),ie=n}}function He(e,t){if(ie)return e();let r=!1;t||(ie=[]),Ee?r=!0:Ee=[],Vt++;try{const n=e();return cs(r),n}catch(n){r||(Ee=null),ie=null,Hn(n)}}function cs(e){if(ie&&(Ln(ie),ie=null),e)return;const t=Ee;Ee=null,t.length&&He(()=>Dn(t),!1)}function Ln(e){for(let t=0;t<e.length;t++)Ct(e[t])}function ls(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:Ct(n)}for(t=0;t<r;t++)Ct(e[t])}function qt(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const o=n.state;o===Oe?n!==t&&(!n.updatedAt||n.updatedAt<Vt)&&Ct(n):o===It&&qt(n,t)}}}function Kn(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=It,r.pure?ie.push(r):Ee.push(r),r.observers&&Kn(r))}}function Le(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),o=r.observers;if(o&&o.length){const s=o.pop(),u=r.observerSlots.pop();n<o.length&&(s.sourceSlots[u]=n,o[n]=s,r.observerSlots[n]=u)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Le(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ds(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Hn(e,t=re){throw ds(e)}function ir(e){if(typeof e=="function"&&!e.length)return ir(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=ir(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}const fs=Symbol("fallback");function pr(e){for(let t=0;t<e.length;t++)e[t]()}function hs(e,t,r={}){let n=[],o=[],s=[],u=0,a=t.length>1?[]:null;return is(()=>pr(s)),()=>{let f=e()||[],y=f.length,p,b;return f[ss],De(()=>{let _,$,E,d,h,i,l,v,c;if(y===0)u!==0&&(pr(s),s=[],n=[],o=[],u=0,a&&(a=[])),r.fallback&&(n=[fs],o[0]=jt(g=>(s[0]=g,r.fallback())),u=1);else if(u===0){for(o=new Array(y),b=0;b<y;b++)n[b]=f[b],o[b]=jt(w);u=y}else{for(E=new Array(y),d=new Array(y),a&&(h=new Array(y)),i=0,l=Math.min(u,y);i<l&&n[i]===f[i];i++);for(l=u-1,v=y-1;l>=i&&v>=i&&n[l]===f[v];l--,v--)E[v]=o[l],d[v]=s[l],a&&(h[v]=a[l]);for(_=new Map,$=new Array(v+1),b=v;b>=i;b--)c=f[b],p=_.get(c),$[b]=p===void 0?-1:p,_.set(c,b);for(p=i;p<=l;p++)c=n[p],b=_.get(c),b!==void 0&&b!==-1?(E[b]=o[p],d[b]=s[p],a&&(h[b]=a[p]),b=$[b],_.set(c,b)):s[p]();for(b=i;b<y;b++)b in E?(o[b]=E[b],s[b]=d[b],a&&(a[b]=h[b],a[b](b))):o[b]=jt(w);o=o.slice(0,u=y),n=f.slice(0)}return o});function w(_){if(s[b]=_,a){const[$,E]=Ne(b);return a[b]=E,t(f[b],$)}return t(f[b])}}}function he(e,t){return De(()=>e(t||{}))}const ms=e=>`Stale read from <${e}>.`;function ps(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ke(hs(()=>e.each,e.children,t||void 0))}function ys(e){const t=e.keyed,r=ke(()=>e.when,void 0,void 0),n=t?r:ke(r,void 0,{equals:(o,s)=>!o==!s});return ke(()=>{const o=n();if(o){const s=e.children;return typeof s=="function"&&s.length>0?De(()=>s(t?o:()=>{if(!De(n))throw ms("Show");return r()})):s}return e.fallback},void 0,void 0)}const gs=e=>ke(()=>e());function vs(e,t,r){let n=r.length,o=t.length,s=n,u=0,a=0,f=t[o-1].nextSibling,y=null;for(;u<o||a<s;){if(t[u]===r[a]){u++,a++;continue}for(;t[o-1]===r[s-1];)o--,s--;if(o===u){const p=s<n?a?r[a-1].nextSibling:r[s-a]:f;for(;a<s;)e.insertBefore(r[a++],p)}else if(s===a)for(;u<o;)(!y||!y.has(t[u]))&&t[u].remove(),u++;else if(t[u]===r[s-1]&&r[a]===t[o-1]){const p=t[--o].nextSibling;e.insertBefore(r[a++],t[u++].nextSibling),e.insertBefore(r[--s],p),t[o]=r[s]}else{if(!y){y=new Map;let b=a;for(;b<s;)y.set(r[b],b++)}const p=y.get(t[u]);if(p!=null)if(a<p&&p<s){let b=u,w=1,_;for(;++b<o&&b<s&&!((_=y.get(t[b]))==null||_!==p+w);)w++;if(w>p-a){const $=t[u];for(;a<p;)e.insertBefore(r[a++],$)}else e.replaceChild(r[a++],t[u++])}else u++;else t[u++].remove()}}}const yr="_$DX_DELEGATE";function _s(e,t,r,n={}){let o;return jt(s=>{o=s,t===document?e():te(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{o(),t.textContent=""}}function le(e,t,r,n){let o;const s=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},u=()=>(o||(o=s())).cloneNode(!0);return u.cloneNode=u,u}function $s(e,t=window.document){const r=t[yr]||(t[yr]=new Set);for(let n=0,o=e.length;n<o;n++){const s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,Es))}}function zt(e,t){t==null?e.removeAttribute("class"):e.className=t}function ws(e,t,r,n){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function bs(e,t,r){e.style.setProperty(t,r)}function te(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return At(e,t,n,r);Se(o=>At(e,t(),o,r),n)}function Es(e){let t=e.target;const r=`$$${e.type}`,n=e.target,o=e.currentTarget,s=f=>Object.defineProperty(e,"target",{configurable:!0,value:f}),u=()=>{const f=t[r];if(f&&!t.disabled){const y=t[`${r}Data`];if(y!==void 0?f.call(t,y,e):f.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},a=()=>{for(;u()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const f=e.composedPath();s(f[0]);for(let y=0;y<f.length-2&&(t=f[y],!!u());y++){if(t._$host){t=t._$host,a();break}if(t.parentNode===o)break}}else a();s(n)}function At(e,t,r,n,o){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,u=n!==void 0;if(e=u&&r[0]&&r[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===r))return r;if(u){let a=r[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),r=qe(e,r,n,a)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||s==="boolean")r=qe(e,r,n);else{if(s==="function")return Se(()=>{let a=t();for(;typeof a=="function";)a=a();r=At(e,a,r,n)}),()=>r;if(Array.isArray(t)){const a=[],f=r&&Array.isArray(r);if(or(a,t,r,o))return Se(()=>r=At(e,a,r,n,!0)),()=>r;if(a.length===0){if(r=qe(e,r,n),u)return r}else f?r.length===0?gr(e,a,n):vs(e,r,a):(r&&qe(e),gr(e,a));r=a}else if(t.nodeType){if(Array.isArray(r)){if(u)return r=qe(e,r,n,t);qe(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function or(e,t,r,n){let o=!1;for(let s=0,u=t.length;s<u;s++){let a=t[s],f=r&&r[e.length],y;if(!(a==null||a===!0||a===!1))if((y=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))o=or(e,a,f)||o;else if(y==="function")if(n){for(;typeof a=="function";)a=a();o=or(e,Array.isArray(a)?a:[a],Array.isArray(f)?f:[f])||o}else e.push(a),o=!0;else{const p=String(a);f&&f.nodeType===3&&f.data===p?e.push(f):e.push(document.createTextNode(p))}}return o}function gr(e,t,r=null){for(let n=0,o=t.length;n<o;n++)e.insertBefore(t[n],r)}function qe(e,t,r,n){if(r===void 0)return e.textContent="";const o=n||document.createTextNode("");if(t.length){let s=!1;for(let u=t.length-1;u>=0;u--){const a=t[u];if(o!==a){const f=a.parentNode===e;!s&&!u?f?e.replaceChild(o,a):e.insertBefore(o,r):f&&a.remove()}else s=!0}}else e.insertBefore(o,r);return[o]}function Ss(e="/api/events"){const[t,r]=Ne([]),[n,o]=Ne(!1),[s,u]=Ne(null);let a=null,f=0,y=0;const p=5,b=()=>{if(!a)try{u(null),a=new EventSource(e),o(!0),y=0,a.addEventListener("message",_=>{try{const $=JSON.parse(_.data),E={id:`event-${++f}`,kind:$.schema||"unknown",event:JSON.stringify($),timestamp:Date.now()};r(d=>[E,...d]),y=0}catch($){console.error("Error parsing SSE message:",$),u(`Failed to parse event: ${$ instanceof Error?$.message:String($)}`)}}),a.addEventListener("open",()=>{o(!0),u(null),y=0,console.log("SSE connection established")}),a.addEventListener("error",()=>{const _=a?.readyState;o(!1),y++,_===EventSource.CLOSED?u("Connection closed. Server may be unavailable."):y>=p?(u("Connection failed. Unable to reach server."),a&&(a.close(),a=null)):_===EventSource.CONNECTING?u(`Reconnecting... (attempt ${y}/${p})`):u(`Connection error. Reconnecting... (attempt ${y}/${p})`),console.error("SSE connection error, readyState:",_,"attempts:",y)}),a.onerror=()=>{o(!1),u("Failed to maintain connection to event stream")}}catch(_){u(`Failed to connect: ${_ instanceof Error?_.message:String(_)}`),o(!1)}},w=()=>{a&&(a.close(),a=null,o(!1))};return zn(()=>(b(),()=>{w()})),{events:t,isConnected:n,error:s,connect:b,disconnect:w}}var Ps=le('<div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-red-500"></div><span class="text-sm text-red-400">Error: '),Ns=le('<div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div><span class=text-sm>');const ks=e=>{if(e.subscription.error())return(()=>{var r=Ps(),n=r.firstChild,o=n.nextSibling;return o.firstChild,te(o,()=>e.subscription.error(),null),r})();const t=()=>e.subscription.isConnected();return(()=>{var r=Ns(),n=r.firstChild,o=n.nextSibling;return te(o,()=>t()?"Connected":"Disconnected"),Se(s=>{var u=!!t(),a=!t();return u!==s.e&&n.classList.toggle("bg-green-500",s.e=u),a!==s.t&&n.classList.toggle("bg-red-500",s.t=a),s},{e:void 0,t:void 0}),r})()};var Os=le('<header class="fixed w-full px-8 py-4 bg-main dark:bg-main flex items-center justify-between"><h1 class=text-2xl>Goplow');const Rs=e=>(()=>{var t=Os();return t.firstChild,te(t,(()=>{var r=gs(()=>!!e.subscription);return()=>r()&&he(ks,{get subscription(){return e.subscription}})})(),null),t})();var js=le('<main class="flex-grow px-8 py-16"><div>');const Ts=e=>{const t=os(()=>e.children);return(()=>{var r=js(),n=r.firstChild;return te(n,t),r})()};function Is(e){return{...e,kind:e.kind.split("/").pop()||"event"}}function vr(e){try{const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=atob(t),n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return new TextDecoder("utf-8").decode(n)}catch{return e}}function Cs(e){const t={...e.data};let r,n;if(t.payload)if(typeof t.payload=="string")try{const o=vr(t.payload);r=JSON.parse(o)}catch{r=void 0}else typeof t.payload=="object"&&(r=t.payload);if(t.context)if(typeof t.context=="string")try{const o=vr(t.context);n=JSON.parse(o)}catch{n=void 0}else typeof t.context=="object"&&(n=t.context);return{...e,data:{...t,payload:r,context:n}}}const qs=e=>e.match(/\/([^\/]+)\/jsonschema\//)?.[1]??"",As=e=>{const{kind:t,payload:r}=e.data;return t?t==="Structured Event"?("action"in e.data?e.data.action:void 0)??"Unknown Action":t==="Self-Describing Event"?r?typeof r.data=="object"&&!Array.isArray(r.data)&&"schema"in r.data?qs(r.data.schema):"":"Unknown Self-Describing Event":"Page View":"Unknown Event"};function Gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ge={exports:{}},Bt={},$e={},je={},xt={},Qt={},Xt={},_r;function Mt(){return _r||(_r=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(i){if(super(),!e.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((l,v)=>`${l}${v}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((l,v)=>(v instanceof r&&(l[v.str]=(l[v.str]||0)+1),l),{})}}e._Code=n,e.nil=new n("");function o(h,...i){const l=[h[0]];let v=0;for(;v<i.length;)a(l,i[v]),l.push(h[++v]);return new n(l)}e._=o;const s=new n("+");function u(h,...i){const l=[_(h[0])];let v=0;for(;v<i.length;)l.push(s),a(l,i[v]),l.push(s,_(h[++v]));return f(l),new n(l)}e.str=u;function a(h,i){i instanceof n?h.push(...i._items):i instanceof r?h.push(i):h.push(b(i))}e.addCodeArg=a;function f(h){let i=1;for(;i<h.length-1;){if(h[i]===s){const l=y(h[i-1],h[i+1]);if(l!==void 0){h.splice(i-1,3,l);continue}h[i++]="+"}i++}}function y(h,i){if(i==='""')return h;if(h==='""')return i;if(typeof h=="string")return i instanceof r||h[h.length-1]!=='"'?void 0:typeof i!="string"?`${h.slice(0,-1)}${i}"`:i[0]==='"'?h.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(h instanceof r))return`"${h}${i.slice(1)}`}function p(h,i){return i.emptyStr()?h:h.emptyStr()?i:u`${h}${i}`}e.strConcat=p;function b(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:_(Array.isArray(h)?h.join(","):h)}function w(h){return new n(_(h))}e.stringify=w;function _(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function $(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):o`[${h}]`}e.getProperty=$;function E(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=E;function d(h){return new n(h.toString())}e.regexpCode=d})(Xt)),Xt}var Yt={},$r;function wr(){return $r||($r=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Mt();class r extends Error{constructor(y){super(`CodeGen: "code" for ${y} not defined`),this.value=y.value}}var n;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:y,parent:p}={}){this._names={},this._prefixes=y,this._parent=p}toName(y){return y instanceof t.Name?y:this.name(y)}name(y){return new t.Name(this._newName(y))}_newName(y){const p=this._names[y]||this._nameGroup(y);return`${y}${p.index++}`}_nameGroup(y){var p,b;if(!((b=(p=this._parent)===null||p===void 0?void 0:p._prefixes)===null||b===void 0)&&b.has(y)||this._prefixes&&!this._prefixes.has(y))throw new Error(`CodeGen: prefix "${y}" is not allowed in this scope`);return this._names[y]={prefix:y,index:0}}}e.Scope=o;class s extends t.Name{constructor(y,p){super(p),this.prefix=y}setValue(y,{property:p,itemIndex:b}){this.value=y,this.scopePath=(0,t._)`.${new t.Name(p)}[${b}]`}}e.ValueScopeName=s;const u=(0,t._)`\n`;class a extends o{constructor(y){super(y),this._values={},this._scope=y.scope,this.opts={...y,_n:y.lines?u:t.nil}}get(){return this._scope}name(y){return new s(y,this._newName(y))}value(y,p){var b;if(p.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(y),{prefix:_}=w,$=(b=p.key)!==null&&b!==void 0?b:p.ref;let E=this._values[_];if(E){const i=E.get($);if(i)return i}else E=this._values[_]=new Map;E.set($,w);const d=this._scope[_]||(this._scope[_]=[]),h=d.length;return d[h]=p.ref,w.setValue(p,{property:_,itemIndex:h}),w}getValue(y,p){const b=this._values[y];if(b)return b.get(p)}scopeRefs(y,p=this._values){return this._reduceValues(p,b=>{if(b.scopePath===void 0)throw new Error(`CodeGen: name "${b}" has no value`);return(0,t._)`${y}${b.scopePath}`})}scopeCode(y=this._values,p,b){return this._reduceValues(y,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},p,b)}_reduceValues(y,p,b={},w){let _=t.nil;for(const $ in y){const E=y[$];if(!E)continue;const d=b[$]=b[$]||new Map;E.forEach(h=>{if(d.has(h))return;d.set(h,n.Started);let i=p(h);if(i){const l=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${l} ${h} = ${i};${this.opts._n}`}else if(i=w?.(h))_=(0,t._)`${_}${i}${this.opts._n}`;else throw new r(h);d.set(h,n.Completed)})}return _}}e.ValueScope=a})(Yt)),Yt}var br;function J(){return br||(br=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Mt(),r=wr();var n=Mt();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var o=wr();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(m,P){return this}}class u extends s{constructor(m,P,T){super(),this.varKind=m,this.name=P,this.rhs=T}render({es5:m,_n:P}){const T=m?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${L};`+P}optimizeNames(m,P){if(m[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,m,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(m,P,T){super(),this.lhs=m,this.rhs=P,this.sideEffects=T}render({_n:m}){return`${this.lhs} = ${this.rhs};`+m}optimizeNames(m,P){if(!(this.lhs instanceof t.Name&&!m[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,m,P),this}get names(){const m=this.lhs instanceof t.Name?{}:{...this.lhs.names};return F(m,this.rhs)}}class f extends a{constructor(m,P,T,L){super(m,T,L),this.op=P}render({_n:m}){return`${this.lhs} ${this.op}= ${this.rhs};`+m}}class y extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`${this.label}:`+m}}class p extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`break${this.label?` ${this.label}`:""};`+m}}class b extends s{constructor(m){super(),this.error=m}render({_n:m}){return`throw ${this.error};`+m}get names(){return this.error.names}}class w extends s{constructor(m){super(),this.code=m}render({_n:m}){return`${this.code};`+m}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(m,P){return this.code=U(this.code,m,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends s{constructor(m=[]){super(),this.nodes=m}render(m){return this.nodes.reduce((P,T)=>P+T.render(m),"")}optimizeNodes(){const{nodes:m}=this;let P=m.length;for(;P--;){const T=m[P].optimizeNodes();Array.isArray(T)?m.splice(P,1,...T):T?m[P]=T:m.splice(P,1)}return m.length>0?this:void 0}optimizeNames(m,P){const{nodes:T}=this;let L=T.length;for(;L--;){const H=T[L];H.optimizeNames(m,P)||(X(m,H.names),T.splice(L,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((m,P)=>V(m,P.names),{})}}class $ extends _{render(m){return"{"+m._n+super.render(m)+"}"+m._n}}class E extends _{}class d extends ${}d.kind="else";class h extends ${constructor(m,P){super(P),this.condition=m}render(m){let P=`if(${this.condition})`+super.render(m);return this.else&&(P+="else "+this.else.render(m)),P}optimizeNodes(){super.optimizeNodes();const m=this.condition;if(m===!0)return this.nodes;let P=this.else;if(P){const T=P.optimizeNodes();P=this.else=Array.isArray(T)?new d(T):T}if(P)return m===!1?P instanceof h?P:P.nodes:this.nodes.length?this:new h(oe(m),P instanceof h?[P]:P.nodes);if(!(m===!1||!this.nodes.length))return this}optimizeNames(m,P){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(m,P),!!(super.optimizeNames(m,P)||this.else))return this.condition=U(this.condition,m,P),this}get names(){const m=super.names;return F(m,this.condition),this.else&&V(m,this.else.names),m}}h.kind="if";class i extends ${}i.kind="for";class l extends i{constructor(m){super(),this.iteration=m}render(m){return`for(${this.iteration})`+super.render(m)}optimizeNames(m,P){if(super.optimizeNames(m,P))return this.iteration=U(this.iteration,m,P),this}get names(){return V(super.names,this.iteration.names)}}class v extends i{constructor(m,P,T,L){super(),this.varKind=m,this.name=P,this.from=T,this.to=L}render(m){const P=m.es5?r.varKinds.var:this.varKind,{name:T,from:L,to:H}=this;return`for(${P} ${T}=${L}; ${T}<${H}; ${T}++)`+super.render(m)}get names(){const m=F(super.names,this.from);return F(m,this.to)}}class c extends i{constructor(m,P,T,L){super(),this.loop=m,this.varKind=P,this.name=T,this.iterable=L}render(m){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(m)}optimizeNames(m,P){if(super.optimizeNames(m,P))return this.iterable=U(this.iterable,m,P),this}get names(){return V(super.names,this.iterable.names)}}class g extends ${constructor(m,P,T){super(),this.name=m,this.args=P,this.async=T}render(m){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(m)}}g.kind="func";class S extends _{render(m){return"return "+super.render(m)}}S.kind="return";class j extends ${render(m){let P="try"+super.render(m);return this.catch&&(P+=this.catch.render(m)),this.finally&&(P+=this.finally.render(m)),P}optimizeNodes(){var m,P;return super.optimizeNodes(),(m=this.catch)===null||m===void 0||m.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(m,P){var T,L;return super.optimizeNames(m,P),(T=this.catch)===null||T===void 0||T.optimizeNames(m,P),(L=this.finally)===null||L===void 0||L.optimizeNames(m,P),this}get names(){const m=super.names;return this.catch&&V(m,this.catch.names),this.finally&&V(m,this.finally.names),m}}class A extends ${constructor(m){super(),this.error=m}render(m){return`catch(${this.error})`+super.render(m)}}A.kind="catch";class z extends ${render(m){return"finally"+super.render(m)}}z.kind="finally";class I{constructor(m,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=m,this._scope=new r.Scope({parent:m}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(m){return this._scope.name(m)}scopeName(m){return this._extScope.name(m)}scopeValue(m,P){const T=this._extScope.value(m,P);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(m,P){return this._extScope.getValue(m,P)}scopeRefs(m){return this._extScope.scopeRefs(m,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(m,P,T,L){const H=this._scope.toName(P);return T!==void 0&&L&&(this._constants[H.str]=T),this._leafNode(new u(m,H,T)),H}const(m,P,T){return this._def(r.varKinds.const,m,P,T)}let(m,P,T){return this._def(r.varKinds.let,m,P,T)}var(m,P,T){return this._def(r.varKinds.var,m,P,T)}assign(m,P,T){return this._leafNode(new a(m,P,T))}add(m,P){return this._leafNode(new f(m,e.operators.ADD,P))}code(m){return typeof m=="function"?m():m!==t.nil&&this._leafNode(new w(m)),this}object(...m){const P=["{"];for(const[T,L]of m)P.length>1&&P.push(","),P.push(T),(T!==L||this.opts.es5)&&(P.push(":"),(0,t.addCodeArg)(P,L));return P.push("}"),new t._Code(P)}if(m,P,T){if(this._blockNode(new h(m)),P&&T)this.code(P).else().code(T).endIf();else if(P)this.code(P).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(m){return this._elseNode(new h(m))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(h,d)}_for(m,P){return this._blockNode(m),P&&this.code(P).endFor(),this}for(m,P){return this._for(new l(m),P)}forRange(m,P,T,L,H=this.opts.es5?r.varKinds.var:r.varKinds.let){const Q=this._scope.toName(m);return this._for(new v(H,Q,P,T),()=>L(Q))}forOf(m,P,T,L=r.varKinds.const){const H=this._scope.toName(m);if(this.opts.es5){const Q=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,t._)`${Q}.length`,B=>{this.var(H,(0,t._)`${Q}[${B}]`),T(H)})}return this._for(new c("of",L,H,P),()=>T(H))}forIn(m,P,T,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(m,(0,t._)`Object.keys(${P})`,T);const H=this._scope.toName(m);return this._for(new c("in",L,H,P),()=>T(H))}endFor(){return this._endBlockNode(i)}label(m){return this._leafNode(new y(m))}break(m){return this._leafNode(new p(m))}return(m){const P=new S;if(this._blockNode(P),this.code(m),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(m,P,T){if(!P&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new j;if(this._blockNode(L),this.code(m),P){const H=this.name("e");this._currNode=L.catch=new A(H),P(H)}return T&&(this._currNode=L.finally=new z,this.code(T)),this._endBlockNode(A,z)}throw(m){return this._leafNode(new b(m))}block(m,P){return this._blockStarts.push(this._nodes.length),m&&this.code(m).endBlock(P),this}endBlock(m){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-P;if(T<0||m!==void 0&&T!==m)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${m} expected`);return this._nodes.length=P,this}func(m,P=t.nil,T,L){return this._blockNode(new g(m,P,T)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(m=1){for(;m-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(m){return this._currNode.nodes.push(m),this}_blockNode(m){this._currNode.nodes.push(m),this._nodes.push(m)}_endBlockNode(m,P){const T=this._currNode;if(T instanceof m||P&&T instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${m.kind}/${P.kind}`:m.kind}"`)}_elseNode(m){const P=this._currNode;if(!(P instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=m,this}get _root(){return this._nodes[0]}get _currNode(){const m=this._nodes;return m[m.length-1]}set _currNode(m){const P=this._nodes;P[P.length-1]=m}}e.CodeGen=I;function V(R,m){for(const P in m)R[P]=(R[P]||0)+(m[P]||0);return R}function F(R,m){return m instanceof t._CodeOrName?V(R,m.names):R}function U(R,m,P){if(R instanceof t.Name)return T(R);if(!L(R))return R;return new t._Code(R._items.reduce((H,Q)=>(Q instanceof t.Name&&(Q=T(Q)),Q instanceof t._Code?H.push(...Q._items):H.push(Q),H),[]));function T(H){const Q=P[H.str];return Q===void 0||m[H.str]!==1?H:(delete m[H.str],Q)}function L(H){return H instanceof t._Code&&H._items.some(Q=>Q instanceof t.Name&&m[Q.str]===1&&P[Q.str]!==void 0)}}function X(R,m){for(const P in m)R[P]=(R[P]||0)-(m[P]||0)}function oe(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${q(R)}`}e.not=oe;const ue=k(e.operators.AND);function Z(...R){return R.reduce(ue)}e.and=Z;const ye=k(e.operators.OR);function M(...R){return R.reduce(ye)}e.or=M;function k(R){return(m,P)=>m===t.nil?P:P===t.nil?m:(0,t._)`${q(m)} ${R} ${q(P)}`}function q(R){return R instanceof t.Name?R:(0,t._)`(${R})`}})(Qt)),Qt}var G={},Er;function x(){if(Er)return G;Er=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const e=J(),t=Mt();function r(c){const g={};for(const S of c)g[S]=!0;return g}G.toHash=r;function n(c,g){return typeof g=="boolean"?g:Object.keys(g).length===0?!0:(o(c,g),!s(g,c.self.RULES.all))}G.alwaysValidSchema=n;function o(c,g=c.schema){const{opts:S,self:j}=c;if(!S.strictSchema||typeof g=="boolean")return;const A=j.RULES.keywords;for(const z in g)A[z]||v(c,`unknown keyword: "${z}"`)}G.checkUnknownRules=o;function s(c,g){if(typeof c=="boolean")return!c;for(const S in c)if(g[S])return!0;return!1}G.schemaHasRules=s;function u(c,g){if(typeof c=="boolean")return!c;for(const S in c)if(S!=="$ref"&&g.all[S])return!0;return!1}G.schemaHasRulesButRef=u;function a({topSchemaRef:c,schemaPath:g},S,j,A){if(!A){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,e._)`${S}`}return(0,e._)`${c}${g}${(0,e.getProperty)(j)}`}G.schemaRefOrVal=a;function f(c){return b(decodeURIComponent(c))}G.unescapeFragment=f;function y(c){return encodeURIComponent(p(c))}G.escapeFragment=y;function p(c){return typeof c=="number"?`${c}`:c.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=p;function b(c){return c.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=b;function w(c,g){if(Array.isArray(c))for(const S of c)g(S);else g(c)}G.eachItem=w;function _({mergeNames:c,mergeToName:g,mergeValues:S,resultToName:j}){return(A,z,I,V)=>{const F=I===void 0?z:I instanceof e.Name?(z instanceof e.Name?c(A,z,I):g(A,z,I),I):z instanceof e.Name?(g(A,I,z),z):S(z,I);return V===e.Name&&!(F instanceof e.Name)?j(A,F):F}}G.mergeEvaluated={props:_({mergeNames:(c,g,S)=>c.if((0,e._)`${S} !== true && ${g} !== undefined`,()=>{c.if((0,e._)`${g} === true`,()=>c.assign(S,!0),()=>c.assign(S,(0,e._)`${S} || {}`).code((0,e._)`Object.assign(${S}, ${g})`))}),mergeToName:(c,g,S)=>c.if((0,e._)`${S} !== true`,()=>{g===!0?c.assign(S,!0):(c.assign(S,(0,e._)`${S} || {}`),E(c,S,g))}),mergeValues:(c,g)=>c===!0?!0:{...c,...g},resultToName:$}),items:_({mergeNames:(c,g,S)=>c.if((0,e._)`${S} !== true && ${g} !== undefined`,()=>c.assign(S,(0,e._)`${g} === true ? true : ${S} > ${g} ? ${S} : ${g}`)),mergeToName:(c,g,S)=>c.if((0,e._)`${S} !== true`,()=>c.assign(S,g===!0?!0:(0,e._)`${S} > ${g} ? ${S} : ${g}`)),mergeValues:(c,g)=>c===!0?!0:Math.max(c,g),resultToName:(c,g)=>c.var("items",g)})};function $(c,g){if(g===!0)return c.var("props",!0);const S=c.var("props",(0,e._)`{}`);return g!==void 0&&E(c,S,g),S}G.evaluatedPropsToName=$;function E(c,g,S){Object.keys(S).forEach(j=>c.assign((0,e._)`${g}${(0,e.getProperty)(j)}`,!0))}G.setEvaluated=E;const d={};function h(c,g){return c.scopeValue("func",{ref:g,code:d[g.code]||(d[g.code]=new t._Code(g.code))})}G.useFunc=h;var i;(function(c){c[c.Num=0]="Num",c[c.Str=1]="Str"})(i||(G.Type=i={}));function l(c,g,S){if(c instanceof e.Name){const j=g===i.Num;return S?j?(0,e._)`"[" + ${c} + "]"`:(0,e._)`"['" + ${c} + "']"`:j?(0,e._)`"/" + ${c}`:(0,e._)`"/" + ${c}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,e.getProperty)(c).toString():"/"+p(c)}G.getErrorPath=l;function v(c,g,S=c.opts.strictSchema){if(S){if(g=`strict mode: ${g}`,S===!0)throw new Error(g);c.self.logger.warn(g)}}return G.checkStrictMode=v,G}var Je={},Sr;function Re(){if(Sr)return Je;Sr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=J(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Je.default=t,Je}var Pr;function Ft(){return Pr||(Pr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J(),r=x(),n=Re();e.keywordError={message:({keyword:d})=>(0,t.str)`must pass "${d}" keyword validation`},e.keyword$DataError={message:({keyword:d,schemaType:h})=>h?(0,t.str)`"${d}" keyword must be ${h} ($data)`:(0,t.str)`"${d}" keyword is invalid ($data)`};function o(d,h=e.keywordError,i,l){const{it:v}=d,{gen:c,compositeRule:g,allErrors:S}=v,j=b(d,h,i);l??(g||S)?f(c,j):y(v,(0,t._)`[${j}]`)}e.reportError=o;function s(d,h=e.keywordError,i){const{it:l}=d,{gen:v,compositeRule:c,allErrors:g}=l,S=b(d,h,i);f(v,S),c||g||y(l,n.default.vErrors)}e.reportExtraError=s;function u(d,h){d.assign(n.default.errors,h),d.if((0,t._)`${n.default.vErrors} !== null`,()=>d.if(h,()=>d.assign((0,t._)`${n.default.vErrors}.length`,h),()=>d.assign(n.default.vErrors,null)))}e.resetErrorsCount=u;function a({gen:d,keyword:h,schemaValue:i,data:l,errsCount:v,it:c}){if(v===void 0)throw new Error("ajv implementation error");const g=d.name("err");d.forRange("i",v,n.default.errors,S=>{d.const(g,(0,t._)`${n.default.vErrors}[${S}]`),d.if((0,t._)`${g}.instancePath === undefined`,()=>d.assign((0,t._)`${g}.instancePath`,(0,t.strConcat)(n.default.instancePath,c.errorPath))),d.assign((0,t._)`${g}.schemaPath`,(0,t.str)`${c.errSchemaPath}/${h}`),c.opts.verbose&&(d.assign((0,t._)`${g}.schema`,i),d.assign((0,t._)`${g}.data`,l))})}e.extendErrors=a;function f(d,h){const i=d.const("err",h);d.if((0,t._)`${n.default.vErrors} === null`,()=>d.assign(n.default.vErrors,(0,t._)`[${i}]`),(0,t._)`${n.default.vErrors}.push(${i})`),d.code((0,t._)`${n.default.errors}++`)}function y(d,h){const{gen:i,validateName:l,schemaEnv:v}=d;v.$async?i.throw((0,t._)`new ${d.ValidationError}(${h})`):(i.assign((0,t._)`${l}.errors`,h),i.return(!1))}const p={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function b(d,h,i){const{createErrors:l}=d.it;return l===!1?(0,t._)`{}`:w(d,h,i)}function w(d,h,i={}){const{gen:l,it:v}=d,c=[_(v,i),$(d,i)];return E(d,h,c),l.object(...c)}function _({errorPath:d},{instancePath:h}){const i=h?(0,t.str)`${d}${(0,r.getErrorPath)(h,r.Type.Str)}`:d;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,i)]}function $({keyword:d,it:{errSchemaPath:h}},{schemaPath:i,parentSchema:l}){let v=l?h:(0,t.str)`${h}/${d}`;return i&&(v=(0,t.str)`${v}${(0,r.getErrorPath)(i,r.Type.Str)}`),[p.schemaPath,v]}function E(d,{params:h,message:i},l){const{keyword:v,data:c,schemaValue:g,it:S}=d,{opts:j,propertyName:A,topSchemaRef:z,schemaPath:I}=S;l.push([p.keyword,v],[p.params,typeof h=="function"?h(d):h||(0,t._)`{}`]),j.messages&&l.push([p.message,typeof i=="function"?i(d):i]),j.verbose&&l.push([p.schema,g],[p.parentSchema,(0,t._)`${z}${I}`],[n.default.data,c]),A&&l.push([p.propertyName,A])}})(xt)),xt}var Nr;function Ms(){if(Nr)return je;Nr=1,Object.defineProperty(je,"__esModule",{value:!0}),je.boolOrEmptySchema=je.topBoolOrEmptySchema=void 0;const e=Ft(),t=J(),r=Re(),n={message:"boolean schema is false"};function o(a){const{gen:f,schema:y,validateName:p}=a;y===!1?u(a,!1):typeof y=="object"&&y.$async===!0?f.return(r.default.data):(f.assign((0,t._)`${p}.errors`,null),f.return(!0))}je.topBoolOrEmptySchema=o;function s(a,f){const{gen:y,schema:p}=a;p===!1?(y.var(f,!1),u(a)):y.var(f,!0)}je.boolOrEmptySchema=s;function u(a,f){const{gen:y,data:p}=a,b={gen:y,keyword:"false schema",data:p,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(b,n,void 0,f)}return je}var ae={},Te={},kr;function Jn(){if(kr)return Te;kr=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.getRules=Te.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(o){return typeof o=="string"&&t.has(o)}Te.isJSONType=r;function n(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}return Te.getRules=n,Te}var we={},Or;function Wn(){if(Or)return we;Or=1,Object.defineProperty(we,"__esModule",{value:!0}),we.shouldUseRule=we.shouldUseGroup=we.schemaHasRulesForType=void 0;function e({schema:n,self:o},s){const u=o.RULES.types[s];return u&&u!==!0&&t(n,u)}we.schemaHasRulesForType=e;function t(n,o){return o.rules.some(s=>r(n,s))}we.shouldUseGroup=t;function r(n,o){var s;return n[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(u=>n[u]!==void 0))}return we.shouldUseRule=r,we}var Rr;function Dt(){if(Rr)return ae;Rr=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.reportTypeError=ae.checkDataTypes=ae.checkDataType=ae.coerceAndCheckDataType=ae.getJSONTypes=ae.getSchemaTypes=ae.DataType=void 0;const e=Jn(),t=Wn(),r=Ft(),n=J(),o=x();var s;(function(i){i[i.Correct=0]="Correct",i[i.Wrong=1]="Wrong"})(s||(ae.DataType=s={}));function u(i){const l=a(i.type);if(l.includes("null")){if(i.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!l.length&&i.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');i.nullable===!0&&l.push("null")}return l}ae.getSchemaTypes=u;function a(i){const l=Array.isArray(i)?i:i?[i]:[];if(l.every(e.isJSONType))return l;throw new Error("type must be JSONType or JSONType[]: "+l.join(","))}ae.getJSONTypes=a;function f(i,l){const{gen:v,data:c,opts:g}=i,S=p(l,g.coerceTypes),j=l.length>0&&!(S.length===0&&l.length===1&&(0,t.schemaHasRulesForType)(i,l[0]));if(j){const A=$(l,c,g.strictNumbers,s.Wrong);v.if(A,()=>{S.length?b(i,l,S):d(i)})}return j}ae.coerceAndCheckDataType=f;const y=new Set(["string","number","integer","boolean","null"]);function p(i,l){return l?i.filter(v=>y.has(v)||l==="array"&&v==="array"):[]}function b(i,l,v){const{gen:c,data:g,opts:S}=i,j=c.let("dataType",(0,n._)`typeof ${g}`),A=c.let("coerced",(0,n._)`undefined`);S.coerceTypes==="array"&&c.if((0,n._)`${j} == 'object' && Array.isArray(${g}) && ${g}.length == 1`,()=>c.assign(g,(0,n._)`${g}[0]`).assign(j,(0,n._)`typeof ${g}`).if($(l,g,S.strictNumbers),()=>c.assign(A,g))),c.if((0,n._)`${A} !== undefined`);for(const I of v)(y.has(I)||I==="array"&&S.coerceTypes==="array")&&z(I);c.else(),d(i),c.endIf(),c.if((0,n._)`${A} !== undefined`,()=>{c.assign(g,A),w(i,A)});function z(I){switch(I){case"string":c.elseIf((0,n._)`${j} == "number" || ${j} == "boolean"`).assign(A,(0,n._)`"" + ${g}`).elseIf((0,n._)`${g} === null`).assign(A,(0,n._)`""`);return;case"number":c.elseIf((0,n._)`${j} == "boolean" || ${g} === null
              || (${j} == "string" && ${g} && ${g} == +${g})`).assign(A,(0,n._)`+${g}`);return;case"integer":c.elseIf((0,n._)`${j} === "boolean" || ${g} === null
              || (${j} === "string" && ${g} && ${g} == +${g} && !(${g} % 1))`).assign(A,(0,n._)`+${g}`);return;case"boolean":c.elseIf((0,n._)`${g} === "false" || ${g} === 0 || ${g} === null`).assign(A,!1).elseIf((0,n._)`${g} === "true" || ${g} === 1`).assign(A,!0);return;case"null":c.elseIf((0,n._)`${g} === "" || ${g} === 0 || ${g} === false`),c.assign(A,null);return;case"array":c.elseIf((0,n._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${g} === null`).assign(A,(0,n._)`[${g}]`)}}}function w({gen:i,parentData:l,parentDataProperty:v},c){i.if((0,n._)`${l} !== undefined`,()=>i.assign((0,n._)`${l}[${v}]`,c))}function _(i,l,v,c=s.Correct){const g=c===s.Correct?n.operators.EQ:n.operators.NEQ;let S;switch(i){case"null":return(0,n._)`${l} ${g} null`;case"array":S=(0,n._)`Array.isArray(${l})`;break;case"object":S=(0,n._)`${l} && typeof ${l} == "object" && !Array.isArray(${l})`;break;case"integer":S=j((0,n._)`!(${l} % 1) && !isNaN(${l})`);break;case"number":S=j();break;default:return(0,n._)`typeof ${l} ${g} ${i}`}return c===s.Correct?S:(0,n.not)(S);function j(A=n.nil){return(0,n.and)((0,n._)`typeof ${l} == "number"`,A,v?(0,n._)`isFinite(${l})`:n.nil)}}ae.checkDataType=_;function $(i,l,v,c){if(i.length===1)return _(i[0],l,v,c);let g;const S=(0,o.toHash)(i);if(S.array&&S.object){const j=(0,n._)`typeof ${l} != "object"`;g=S.null?j:(0,n._)`!${l} || ${j}`,delete S.null,delete S.array,delete S.object}else g=n.nil;S.number&&delete S.integer;for(const j in S)g=(0,n.and)(g,_(j,l,v,c));return g}ae.checkDataTypes=$;const E={message:({schema:i})=>`must be ${i}`,params:({schema:i,schemaValue:l})=>typeof i=="string"?(0,n._)`{type: ${i}}`:(0,n._)`{type: ${l}}`};function d(i){const l=h(i);(0,r.reportError)(l,E)}ae.reportTypeError=d;function h(i){const{gen:l,data:v,schema:c}=i,g=(0,o.schemaRefOrVal)(i,c,"type");return{gen:l,keyword:"type",data:v,schema:c.type,schemaCode:g,schemaValue:g,parentSchema:c,params:{},it:i}}return ae}var ze={},jr;function Ds(){if(jr)return ze;jr=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.assignDefaults=void 0;const e=J(),t=x();function r(o,s){const{properties:u,items:a}=o.schema;if(s==="object"&&u)for(const f in u)n(o,f,u[f].default);else s==="array"&&Array.isArray(a)&&a.forEach((f,y)=>n(o,y,f.default))}ze.assignDefaults=r;function n(o,s,u){const{gen:a,compositeRule:f,data:y,opts:p}=o;if(u===void 0)return;const b=(0,e._)`${y}${(0,e.getProperty)(s)}`;if(f){(0,t.checkStrictMode)(o,`default is ignored for: ${b}`);return}let w=(0,e._)`${b} === undefined`;p.useDefaults==="empty"&&(w=(0,e._)`${w} || ${b} === null || ${b} === ""`),a.if(w,(0,e._)`${b} = ${(0,e.stringify)(u)}`)}return ze}var ve={},Y={},Tr;function _e(){if(Tr)return Y;Tr=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=J(),t=x(),r=Re(),n=x();function o(i,l){const{gen:v,data:c,it:g}=i;v.if(p(v,c,l,g.opts.ownProperties),()=>{i.setParams({missingProperty:(0,e._)`${l}`},!0),i.error()})}Y.checkReportMissingProp=o;function s({gen:i,data:l,it:{opts:v}},c,g){return(0,e.or)(...c.map(S=>(0,e.and)(p(i,l,S,v.ownProperties),(0,e._)`${g} = ${S}`)))}Y.checkMissingProp=s;function u(i,l){i.setParams({missingProperty:l},!0),i.error()}Y.reportMissingProp=u;function a(i){return i.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=a;function f(i,l,v){return(0,e._)`${a(i)}.call(${l}, ${v})`}Y.isOwnProperty=f;function y(i,l,v,c){const g=(0,e._)`${l}${(0,e.getProperty)(v)} !== undefined`;return c?(0,e._)`${g} && ${f(i,l,v)}`:g}Y.propertyInData=y;function p(i,l,v,c){const g=(0,e._)`${l}${(0,e.getProperty)(v)} === undefined`;return c?(0,e.or)(g,(0,e.not)(f(i,l,v))):g}Y.noPropertyInData=p;function b(i){return i?Object.keys(i).filter(l=>l!=="__proto__"):[]}Y.allSchemaProperties=b;function w(i,l){return b(l).filter(v=>!(0,t.alwaysValidSchema)(i,l[v]))}Y.schemaProperties=w;function _({schemaCode:i,data:l,it:{gen:v,topSchemaRef:c,schemaPath:g,errorPath:S},it:j},A,z,I){const V=I?(0,e._)`${i}, ${l}, ${c}${g}`:l,F=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,S)],[r.default.parentData,j.parentData],[r.default.parentDataProperty,j.parentDataProperty],[r.default.rootData,r.default.rootData]];j.opts.dynamicRef&&F.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const U=(0,e._)`${V}, ${v.object(...F)}`;return z!==e.nil?(0,e._)`${A}.call(${z}, ${U})`:(0,e._)`${A}(${U})`}Y.callValidateCode=_;const $=(0,e._)`new RegExp`;function E({gen:i,it:{opts:l}},v){const c=l.unicodeRegExp?"u":"",{regExp:g}=l.code,S=g(v,c);return i.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,e._)`${g.code==="new RegExp"?$:(0,n.useFunc)(i,g)}(${v}, ${c})`})}Y.usePattern=E;function d(i){const{gen:l,data:v,keyword:c,it:g}=i,S=l.name("valid");if(g.allErrors){const A=l.let("valid",!0);return j(()=>l.assign(A,!1)),A}return l.var(S,!0),j(()=>l.break()),S;function j(A){const z=l.const("len",(0,e._)`${v}.length`);l.forRange("i",0,z,I=>{i.subschema({keyword:c,dataProp:I,dataPropType:t.Type.Num},S),l.if((0,e.not)(S),A)})}}Y.validateArray=d;function h(i){const{gen:l,schema:v,keyword:c,it:g}=i;if(!Array.isArray(v))throw new Error("ajv implementation error");if(v.some(z=>(0,t.alwaysValidSchema)(g,z))&&!g.opts.unevaluated)return;const j=l.let("valid",!1),A=l.name("_valid");l.block(()=>v.forEach((z,I)=>{const V=i.subschema({keyword:c,schemaProp:I,compositeRule:!0},A);l.assign(j,(0,e._)`${j} || ${A}`),i.mergeValidEvaluated(V,A)||l.if((0,e.not)(j))})),i.result(j,()=>i.reset(),()=>i.error(!0))}return Y.validateUnion=h,Y}var Ir;function Vs(){if(Ir)return ve;Ir=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.validateKeywordUsage=ve.validSchemaType=ve.funcKeywordCode=ve.macroKeywordCode=void 0;const e=J(),t=Re(),r=_e(),n=Ft();function o(w,_){const{gen:$,keyword:E,schema:d,parentSchema:h,it:i}=w,l=_.macro.call(i.self,d,h,i),v=y($,E,l);i.opts.validateSchema!==!1&&i.self.validateSchema(l,!0);const c=$.name("valid");w.subschema({schema:l,schemaPath:e.nil,errSchemaPath:`${i.errSchemaPath}/${E}`,topSchemaRef:v,compositeRule:!0},c),w.pass(c,()=>w.error(!0))}ve.macroKeywordCode=o;function s(w,_){var $;const{gen:E,keyword:d,schema:h,parentSchema:i,$data:l,it:v}=w;f(v,_);const c=!l&&_.compile?_.compile.call(v.self,h,i,v):_.validate,g=y(E,d,c),S=E.let("valid");w.block$data(S,j),w.ok(($=_.valid)!==null&&$!==void 0?$:S);function j(){if(_.errors===!1)I(),_.modifying&&u(w),V(()=>w.error());else{const F=_.async?A():z();_.modifying&&u(w),V(()=>a(w,F))}}function A(){const F=E.let("ruleErrs",null);return E.try(()=>I((0,e._)`await `),U=>E.assign(S,!1).if((0,e._)`${U} instanceof ${v.ValidationError}`,()=>E.assign(F,(0,e._)`${U}.errors`),()=>E.throw(U))),F}function z(){const F=(0,e._)`${g}.errors`;return E.assign(F,null),I(e.nil),F}function I(F=_.async?(0,e._)`await `:e.nil){const U=v.opts.passContext?t.default.this:t.default.self,X=!("compile"in _&&!l||_.schema===!1);E.assign(S,(0,e._)`${F}${(0,r.callValidateCode)(w,g,U,X)}`,_.modifying)}function V(F){var U;E.if((0,e.not)((U=_.valid)!==null&&U!==void 0?U:S),F)}}ve.funcKeywordCode=s;function u(w){const{gen:_,data:$,it:E}=w;_.if(E.parentData,()=>_.assign($,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function a(w,_){const{gen:$}=w;$.if((0,e._)`Array.isArray(${_})`,()=>{$.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${_} : ${t.default.vErrors}.concat(${_})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(w)},()=>w.error())}function f({schemaEnv:w},_){if(_.async&&!w.$async)throw new Error("async keyword in sync schema")}function y(w,_,$){if($===void 0)throw new Error(`keyword "${_}" failed to compile`);return w.scopeValue("keyword",typeof $=="function"?{ref:$}:{ref:$,code:(0,e.stringify)($)})}function p(w,_,$=!1){return!_.length||_.some(E=>E==="array"?Array.isArray(w):E==="object"?w&&typeof w=="object"&&!Array.isArray(w):typeof w==E||$&&typeof w>"u")}ve.validSchemaType=p;function b({schema:w,opts:_,self:$,errSchemaPath:E},d,h){if(Array.isArray(d.keyword)?!d.keyword.includes(h):d.keyword!==h)throw new Error("ajv implementation error");const i=d.dependencies;if(i?.some(l=>!Object.prototype.hasOwnProperty.call(w,l)))throw new Error(`parent schema must have dependencies of ${h}: ${i.join(",")}`);if(d.validateSchema&&!d.validateSchema(w[h])){const v=`keyword "${h}" value is invalid at path "${E}": `+$.errorsText(d.validateSchema.errors);if(_.validateSchema==="log")$.logger.error(v);else throw new Error(v)}}return ve.validateKeywordUsage=b,ve}var be={},Cr;function zs(){if(Cr)return be;Cr=1,Object.defineProperty(be,"__esModule",{value:!0}),be.extendSubschemaMode=be.extendSubschemaData=be.getSubschema=void 0;const e=J(),t=x();function r(s,{keyword:u,schemaProp:a,schema:f,schemaPath:y,errSchemaPath:p,topSchemaRef:b}){if(u!==void 0&&f!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const w=s.schema[u];return a===void 0?{schema:w,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(u)}`,errSchemaPath:`${s.errSchemaPath}/${u}`}:{schema:w[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(u)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${u}/${(0,t.escapeFragment)(a)}`}}if(f!==void 0){if(y===void 0||p===void 0||b===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:y,topSchemaRef:b,errSchemaPath:p}}throw new Error('either "keyword" or "schema" must be passed')}be.getSubschema=r;function n(s,u,{dataProp:a,dataPropType:f,data:y,dataTypes:p,propertyName:b}){if(y!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:w}=u;if(a!==void 0){const{errorPath:$,dataPathArr:E,opts:d}=u,h=w.let("data",(0,e._)`${u.data}${(0,e.getProperty)(a)}`,!0);_(h),s.errorPath=(0,e.str)`${$}${(0,t.getErrorPath)(a,f,d.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...E,s.parentDataProperty]}if(y!==void 0){const $=y instanceof e.Name?y:w.let("data",y,!0);_($),b!==void 0&&(s.propertyName=b)}p&&(s.dataTypes=p);function _($){s.data=$,s.dataLevel=u.dataLevel+1,s.dataTypes=[],u.definedProperties=new Set,s.parentData=u.data,s.dataNames=[...u.dataNames,$]}}be.extendSubschemaData=n;function o(s,{jtdDiscriminator:u,jtdMetadata:a,compositeRule:f,createErrors:y,allErrors:p}){f!==void 0&&(s.compositeRule=f),y!==void 0&&(s.createErrors=y),p!==void 0&&(s.allErrors=p),s.jtdDiscriminator=u,s.jtdMetadata=a}return be.extendSubschemaMode=o,be}var ce={},Zt,qr;function Bn(){return qr||(qr=1,Zt=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var u=s[o];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}),Zt}var er={exports:{}},Ar;function Fs(){if(Ar)return er.exports;Ar=1;var e=er.exports=function(n,o,s){typeof o=="function"&&(s=o,o={}),s=o.cb||s;var u=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};t(o,u,a,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,o,s,u,a,f,y,p,b,w){if(u&&typeof u=="object"&&!Array.isArray(u)){o(u,a,f,y,p,b,w);for(var _ in u){var $=u[_];if(Array.isArray($)){if(_ in e.arrayKeywords)for(var E=0;E<$.length;E++)t(n,o,s,$[E],a+"/"+_+"/"+E,f,a,_,u,E)}else if(_ in e.propsKeywords){if($&&typeof $=="object")for(var d in $)t(n,o,s,$[d],a+"/"+_+"/"+r(d),f,a,_,u,d)}else(_ in e.keywords||n.allKeys&&!(_ in e.skipKeywords))&&t(n,o,s,$,a+"/"+_,f,a,_,u)}s(u,a,f,y,p,b,w)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return er.exports}var Mr;function Ut(){if(Mr)return ce;Mr=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.getSchemaRefs=ce.resolveUrl=ce.normalizeId=ce._getFullPath=ce.getFullPath=ce.inlineRef=void 0;const e=x(),t=Bn(),r=Fs(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(E,d=!0){return typeof E=="boolean"?!0:d===!0?!u(E):d?a(E)<=d:!1}ce.inlineRef=o;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(E){for(const d in E){if(s.has(d))return!0;const h=E[d];if(Array.isArray(h)&&h.some(u)||typeof h=="object"&&u(h))return!0}return!1}function a(E){let d=0;for(const h in E){if(h==="$ref")return 1/0;if(d++,!n.has(h)&&(typeof E[h]=="object"&&(0,e.eachItem)(E[h],i=>d+=a(i)),d===1/0))return 1/0}return d}function f(E,d="",h){h!==!1&&(d=b(d));const i=E.parse(d);return y(E,i)}ce.getFullPath=f;function y(E,d){return E.serialize(d).split("#")[0]+"#"}ce._getFullPath=y;const p=/#\/?$/;function b(E){return E?E.replace(p,""):""}ce.normalizeId=b;function w(E,d,h){return h=b(h),E.resolve(d,h)}ce.resolveUrl=w;const _=/^[a-z_][-a-z0-9._]*$/i;function $(E,d){if(typeof E=="boolean")return{};const{schemaId:h,uriResolver:i}=this.opts,l=b(E[h]||d),v={"":l},c=f(i,l,!1),g={},S=new Set;return r(E,{allKeys:!0},(z,I,V,F)=>{if(F===void 0)return;const U=c+I;let X=v[F];typeof z[h]=="string"&&(X=oe.call(this,z[h])),ue.call(this,z.$anchor),ue.call(this,z.$dynamicAnchor),v[I]=X;function oe(Z){const ye=this.opts.uriResolver.resolve;if(Z=b(X?ye(X,Z):Z),S.has(Z))throw A(Z);S.add(Z);let M=this.refs[Z];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?j(z,M.schema,Z):Z!==b(U)&&(Z[0]==="#"?(j(z,g[Z],Z),g[Z]=z):this.refs[Z]=U),Z}function ue(Z){if(typeof Z=="string"){if(!_.test(Z))throw new Error(`invalid anchor "${Z}"`);oe.call(this,`#${Z}`)}}}),g;function j(z,I,V){if(I!==void 0&&!t(z,I))throw A(V)}function A(z){return new Error(`reference "${z}" resolves to more than one schema`)}}return ce.getSchemaRefs=$,ce}var Dr;function Lt(){if(Dr)return $e;Dr=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.getData=$e.KeywordCxt=$e.validateFunctionCode=void 0;const e=Ms(),t=Dt(),r=Wn(),n=Dt(),o=Ds(),s=Vs(),u=zs(),a=J(),f=Re(),y=Ut(),p=x(),b=Ft();function w(N){if(c(N)&&(S(N),v(N))){d(N);return}_(N,()=>(0,e.topBoolOrEmptySchema)(N))}$e.validateFunctionCode=w;function _({gen:N,validateName:O,schema:C,schemaEnv:D,opts:K},W){K.code.es5?N.func(O,(0,a._)`${f.default.data}, ${f.default.valCxt}`,D.$async,()=>{N.code((0,a._)`"use strict"; ${i(C,K)}`),E(N,K),N.code(W)}):N.func(O,(0,a._)`${f.default.data}, ${$(K)}`,D.$async,()=>N.code(i(C,K)).code(W))}function $(N){return(0,a._)`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${N.dynamicRef?(0,a._)`, ${f.default.dynamicAnchors}={}`:a.nil}}={}`}function E(N,O){N.if(f.default.valCxt,()=>{N.var(f.default.instancePath,(0,a._)`${f.default.valCxt}.${f.default.instancePath}`),N.var(f.default.parentData,(0,a._)`${f.default.valCxt}.${f.default.parentData}`),N.var(f.default.parentDataProperty,(0,a._)`${f.default.valCxt}.${f.default.parentDataProperty}`),N.var(f.default.rootData,(0,a._)`${f.default.valCxt}.${f.default.rootData}`),O.dynamicRef&&N.var(f.default.dynamicAnchors,(0,a._)`${f.default.valCxt}.${f.default.dynamicAnchors}`)},()=>{N.var(f.default.instancePath,(0,a._)`""`),N.var(f.default.parentData,(0,a._)`undefined`),N.var(f.default.parentDataProperty,(0,a._)`undefined`),N.var(f.default.rootData,f.default.data),O.dynamicRef&&N.var(f.default.dynamicAnchors,(0,a._)`{}`)})}function d(N){const{schema:O,opts:C,gen:D}=N;_(N,()=>{C.$comment&&O.$comment&&F(N),z(N),D.let(f.default.vErrors,null),D.let(f.default.errors,0),C.unevaluated&&h(N),j(N),U(N)})}function h(N){const{gen:O,validateName:C}=N;N.evaluated=O.const("evaluated",(0,a._)`${C}.evaluated`),O.if((0,a._)`${N.evaluated}.dynamicProps`,()=>O.assign((0,a._)`${N.evaluated}.props`,(0,a._)`undefined`)),O.if((0,a._)`${N.evaluated}.dynamicItems`,()=>O.assign((0,a._)`${N.evaluated}.items`,(0,a._)`undefined`))}function i(N,O){const C=typeof N=="object"&&N[O.schemaId];return C&&(O.code.source||O.code.process)?(0,a._)`/*# sourceURL=${C} */`:a.nil}function l(N,O){if(c(N)&&(S(N),v(N))){g(N,O);return}(0,e.boolOrEmptySchema)(N,O)}function v({schema:N,self:O}){if(typeof N=="boolean")return!N;for(const C in N)if(O.RULES.all[C])return!0;return!1}function c(N){return typeof N.schema!="boolean"}function g(N,O){const{schema:C,gen:D,opts:K}=N;K.$comment&&C.$comment&&F(N),I(N),V(N);const W=D.const("_errs",f.default.errors);j(N,W),D.var(O,(0,a._)`${W} === ${f.default.errors}`)}function S(N){(0,p.checkUnknownRules)(N),A(N)}function j(N,O){if(N.opts.jtd)return oe(N,[],!1,O);const C=(0,t.getSchemaTypes)(N.schema),D=(0,t.coerceAndCheckDataType)(N,C);oe(N,C,!D,O)}function A(N){const{schema:O,errSchemaPath:C,opts:D,self:K}=N;O.$ref&&D.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(O,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${C}"`)}function z(N){const{schema:O,opts:C}=N;O.default!==void 0&&C.useDefaults&&C.strictSchema&&(0,p.checkStrictMode)(N,"default is ignored in the schema root")}function I(N){const O=N.schema[N.opts.schemaId];O&&(N.baseId=(0,y.resolveUrl)(N.opts.uriResolver,N.baseId,O))}function V(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:N,schemaEnv:O,schema:C,errSchemaPath:D,opts:K}){const W=C.$comment;if(K.$comment===!0)N.code((0,a._)`${f.default.self}.logger.log(${W})`);else if(typeof K.$comment=="function"){const ne=(0,a.str)`${D}/$comment`,ge=N.scopeValue("root",{ref:O.root});N.code((0,a._)`${f.default.self}.opts.$comment(${W}, ${ne}, ${ge}.schema)`)}}function U(N){const{gen:O,schemaEnv:C,validateName:D,ValidationError:K,opts:W}=N;C.$async?O.if((0,a._)`${f.default.errors} === 0`,()=>O.return(f.default.data),()=>O.throw((0,a._)`new ${K}(${f.default.vErrors})`)):(O.assign((0,a._)`${D}.errors`,f.default.vErrors),W.unevaluated&&X(N),O.return((0,a._)`${f.default.errors} === 0`))}function X({gen:N,evaluated:O,props:C,items:D}){C instanceof a.Name&&N.assign((0,a._)`${O}.props`,C),D instanceof a.Name&&N.assign((0,a._)`${O}.items`,D)}function oe(N,O,C,D){const{gen:K,schema:W,data:ne,allErrors:ge,opts:de,self:fe}=N,{RULES:se}=fe;if(W.$ref&&(de.ignoreKeywordsWithRef||!(0,p.schemaHasRulesButRef)(W,se))){K.block(()=>L(N,"$ref",se.all.$ref.definition));return}de.jtd||Z(N,O),K.block(()=>{for(const pe of se.rules)Ce(pe);Ce(se.post)});function Ce(pe){(0,r.shouldUseGroup)(W,pe)&&(pe.type?(K.if((0,n.checkDataType)(pe.type,ne,de.strictNumbers)),ue(N,pe),O.length===1&&O[0]===pe.type&&C&&(K.else(),(0,n.reportTypeError)(N)),K.endIf()):ue(N,pe),ge||K.if((0,a._)`${f.default.errors} === ${D||0}`))}}function ue(N,O){const{gen:C,schema:D,opts:{useDefaults:K}}=N;K&&(0,o.assignDefaults)(N,O.type),C.block(()=>{for(const W of O.rules)(0,r.shouldUseRule)(D,W)&&L(N,W.keyword,W.definition,O.type)})}function Z(N,O){N.schemaEnv.meta||!N.opts.strictTypes||(ye(N,O),N.opts.allowUnionTypes||M(N,O),k(N,N.dataTypes))}function ye(N,O){if(O.length){if(!N.dataTypes.length){N.dataTypes=O;return}O.forEach(C=>{R(N.dataTypes,C)||P(N,`type "${C}" not allowed by context "${N.dataTypes.join(",")}"`)}),m(N,O)}}function M(N,O){O.length>1&&!(O.length===2&&O.includes("null"))&&P(N,"use allowUnionTypes to allow union type keyword")}function k(N,O){const C=N.self.RULES.all;for(const D in C){const K=C[D];if(typeof K=="object"&&(0,r.shouldUseRule)(N.schema,K)){const{type:W}=K.definition;W.length&&!W.some(ne=>q(O,ne))&&P(N,`missing type "${W.join(",")}" for keyword "${D}"`)}}}function q(N,O){return N.includes(O)||O==="number"&&N.includes("integer")}function R(N,O){return N.includes(O)||O==="integer"&&N.includes("number")}function m(N,O){const C=[];for(const D of N.dataTypes)R(O,D)?C.push(D):O.includes("integer")&&D==="number"&&C.push("integer");N.dataTypes=C}function P(N,O){const C=N.schemaEnv.baseId+N.errSchemaPath;O+=` at "${C}" (strictTypes)`,(0,p.checkStrictMode)(N,O,N.opts.strictTypes)}class T{constructor(O,C,D){if((0,s.validateKeywordUsage)(O,C,D),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=D,this.data=O.data,this.schema=O.schema[D],this.$data=C.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(O,this.schema,D,this.$data),this.schemaType=C.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=C,this.$data)this.schemaCode=O.gen.const("vSchema",B(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=O.gen.const("_errs",f.default.errors))}result(O,C,D){this.failResult((0,a.not)(O),C,D)}failResult(O,C,D){this.gen.if(O),D?D():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,C){this.failResult((0,a.not)(O),void 0,C)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:C}=this;this.fail((0,a._)`${C} !== undefined && (${(0,a.or)(this.invalid$data(),O)})`)}error(O,C,D){if(C){this.setParams(C),this._error(O,D),this.setParams({});return}this._error(O,D)}_error(O,C){(O?b.reportExtraError:b.reportError)(this,this.def.error,C)}$dataError(){(0,b.reportError)(this,this.def.$dataError||b.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,b.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,C){C?Object.assign(this.params,O):this.params=O}block$data(O,C,D=a.nil){this.gen.block(()=>{this.check$data(O,D),C()})}check$data(O=a.nil,C=a.nil){if(!this.$data)return;const{gen:D,schemaCode:K,schemaType:W,def:ne}=this;D.if((0,a.or)((0,a._)`${K} === undefined`,C)),O!==a.nil&&D.assign(O,!0),(W.length||ne.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),O!==a.nil&&D.assign(O,!1)),D.else()}invalid$data(){const{gen:O,schemaCode:C,schemaType:D,def:K,it:W}=this;return(0,a.or)(ne(),ge());function ne(){if(D.length){if(!(C instanceof a.Name))throw new Error("ajv implementation error");const de=Array.isArray(D)?D:[D];return(0,a._)`${(0,n.checkDataTypes)(de,C,W.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function ge(){if(K.validateSchema){const de=O.scopeValue("validate$data",{ref:K.validateSchema});return(0,a._)`!${de}(${C})`}return a.nil}}subschema(O,C){const D=(0,u.getSubschema)(this.it,O);(0,u.extendSubschemaData)(D,this.it,O),(0,u.extendSubschemaMode)(D,O);const K={...this.it,...D,items:void 0,props:void 0};return l(K,C),K}mergeEvaluated(O,C){const{it:D,gen:K}=this;D.opts.unevaluated&&(D.props!==!0&&O.props!==void 0&&(D.props=p.mergeEvaluated.props(K,O.props,D.props,C)),D.items!==!0&&O.items!==void 0&&(D.items=p.mergeEvaluated.items(K,O.items,D.items,C)))}mergeValidEvaluated(O,C){const{it:D,gen:K}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return K.if(C,()=>this.mergeEvaluated(O,a.Name)),!0}}$e.KeywordCxt=T;function L(N,O,C,D){const K=new T(N,C,O);"code"in C?C.code(K,D):K.$data&&C.validate?(0,s.funcKeywordCode)(K,C):"macro"in C?(0,s.macroKeywordCode)(K,C):(C.compile||C.validate)&&(0,s.funcKeywordCode)(K,C)}const H=/^\/(?:[^~]|~0|~1)*$/,Q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(N,{dataLevel:O,dataNames:C,dataPathArr:D}){let K,W;if(N==="")return f.default.rootData;if(N[0]==="/"){if(!H.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);K=N,W=f.default.rootData}else{const fe=Q.exec(N);if(!fe)throw new Error(`Invalid JSON-pointer: ${N}`);const se=+fe[1];if(K=fe[2],K==="#"){if(se>=O)throw new Error(de("property/index",se));return D[O-se]}if(se>O)throw new Error(de("data",se));if(W=C[O-se],!K)return W}let ne=W;const ge=K.split("/");for(const fe of ge)fe&&(W=(0,a._)`${W}${(0,a.getProperty)((0,p.unescapeJsonPointer)(fe))}`,ne=(0,a._)`${ne} && ${W}`);return ne;function de(fe,se){return`Cannot access ${fe} ${se} levels up, current level is ${O}`}}return $e.getData=B,$e}var We={},Vr;function lr(){if(Vr)return We;Vr=1,Object.defineProperty(We,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return We.default=e,We}var Be={},zr;function Kt(){if(zr)return Be;zr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=Ut();class t extends Error{constructor(n,o,s,u){super(u||`can't resolve reference ${s} from id ${o}`),this.missingRef=(0,e.resolveUrl)(n,o,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Be.default=t,Be}var me={},Fr;function dr(){if(Fr)return me;Fr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.resolveSchema=me.getCompilingSchema=me.resolveRef=me.compileSchema=me.SchemaEnv=void 0;const e=J(),t=lr(),r=Re(),n=Ut(),o=x(),s=Lt();class u{constructor(h){var i;this.refs={},this.dynamicAnchors={};let l;typeof h.schema=="object"&&(l=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(i=h.baseId)!==null&&i!==void 0?i:(0,n.normalizeId)(l?.[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=l?.$async,this.refs={}}}me.SchemaEnv=u;function a(d){const h=p.call(this,d);if(h)return h;const i=(0,n.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:l,lines:v}=this.opts.code,{ownProperties:c}=this.opts,g=new e.CodeGen(this.scope,{es5:l,lines:v,ownProperties:c});let S;d.$async&&(S=g.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const j=g.scopeName("validate");d.validateName=j;const A={gen:g,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:g.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,e.stringify)(d.schema)}:{ref:d.schema}),validateName:j,ValidationError:S,schema:d.schema,schemaEnv:d,rootId:i,baseId:d.baseId||i,schemaPath:e.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let z;try{this._compilations.add(d),(0,s.validateFunctionCode)(A),g.optimize(this.opts.code.optimize);const I=g.toString();z=`${g.scopeRefs(r.default.scope)}return ${I}`,this.opts.code.process&&(z=this.opts.code.process(z,d));const F=new Function(`${r.default.self}`,`${r.default.scope}`,z)(this,this.scope.get());if(this.scope.value(j,{ref:F}),F.errors=null,F.schema=d.schema,F.schemaEnv=d,d.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:j,validateCode:I,scopeValues:g._values}),this.opts.unevaluated){const{props:U,items:X}=A;F.evaluated={props:U instanceof e.Name?void 0:U,items:X instanceof e.Name?void 0:X,dynamicProps:U instanceof e.Name,dynamicItems:X instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return d.validate=F,d}catch(I){throw delete d.validate,delete d.validateName,z&&this.logger.error("Error compiling schema, function code:",z),I}finally{this._compilations.delete(d)}}me.compileSchema=a;function f(d,h,i){var l;i=(0,n.resolveUrl)(this.opts.uriResolver,h,i);const v=d.refs[i];if(v)return v;let c=w.call(this,d,i);if(c===void 0){const g=(l=d.localRefs)===null||l===void 0?void 0:l[i],{schemaId:S}=this.opts;g&&(c=new u({schema:g,schemaId:S,root:d,baseId:h}))}if(c!==void 0)return d.refs[i]=y.call(this,c)}me.resolveRef=f;function y(d){return(0,n.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:a.call(this,d)}function p(d){for(const h of this._compilations)if(b(h,d))return h}me.getCompilingSchema=p;function b(d,h){return d.schema===h.schema&&d.root===h.root&&d.baseId===h.baseId}function w(d,h){let i;for(;typeof(i=this.refs[h])=="string";)h=i;return i||this.schemas[h]||_.call(this,d,h)}function _(d,h){const i=this.opts.uriResolver.parse(h),l=(0,n._getFullPath)(this.opts.uriResolver,i);let v=(0,n.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&l===v)return E.call(this,i,d);const c=(0,n.normalizeId)(l),g=this.refs[c]||this.schemas[c];if(typeof g=="string"){const S=_.call(this,d,g);return typeof S?.schema!="object"?void 0:E.call(this,i,S)}if(typeof g?.schema=="object"){if(g.validate||a.call(this,g),c===(0,n.normalizeId)(h)){const{schema:S}=g,{schemaId:j}=this.opts,A=S[j];return A&&(v=(0,n.resolveUrl)(this.opts.uriResolver,v,A)),new u({schema:S,schemaId:j,root:d,baseId:v})}return E.call(this,i,g)}}me.resolveSchema=_;const $=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(d,{baseId:h,schema:i,root:l}){var v;if(((v=d.fragment)===null||v===void 0?void 0:v[0])!=="/")return;for(const S of d.fragment.slice(1).split("/")){if(typeof i=="boolean")return;const j=i[(0,o.unescapeFragment)(S)];if(j===void 0)return;i=j;const A=typeof i=="object"&&i[this.opts.schemaId];!$.has(S)&&A&&(h=(0,n.resolveUrl)(this.opts.uriResolver,h,A))}let c;if(typeof i!="boolean"&&i.$ref&&!(0,o.schemaHasRulesButRef)(i,this.RULES)){const S=(0,n.resolveUrl)(this.opts.uriResolver,h,i.$ref);c=_.call(this,l,S)}const{schemaId:g}=this.opts;if(c=c||new u({schema:i,schemaId:g,root:l,baseId:h}),c.schema!==c.root.schema)return c}return me}const Us="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ls="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ks="object",Hs=["$data"],Gs={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Js=!1,Ws={$id:Us,description:Ls,type:Ks,required:Hs,properties:Gs,additionalProperties:Js};var xe={},Fe={exports:{}},tr,Ur;function xn(){if(Ur)return tr;Ur=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(w){let _="",$=0,E=0;for(E=0;E<w.length;E++)if($=w[E].charCodeAt(0),$!==48){if(!($>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102))return"";_+=w[E];break}for(E+=1;E<w.length;E++){if($=w[E].charCodeAt(0),!($>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102))return"";_+=w[E]}return _}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function o(w){return w.length=0,!0}function s(w,_,$){if(w.length){const E=r(w);if(E!=="")_.push(E);else return $.error=!0,!1;w.length=0}return!0}function u(w){let _=0;const $={error:!1,address:"",zone:""},E=[],d=[];let h=!1,i=!1,l=s;for(let v=0;v<w.length;v++){const c=w[v];if(!(c==="["||c==="]"))if(c===":"){if(h===!0&&(i=!0),!l(d,E,$))break;if(++_>7){$.error=!0;break}v>0&&w[v-1]===":"&&(h=!0),E.push(":");continue}else if(c==="%"){if(!l(d,E,$))break;l=o}else{d.push(c);continue}}return d.length&&(l===o?$.zone=d.join(""):i?E.push(d.join("")):E.push(r(d))),$.address=E.join(""),$}function a(w){if(f(w,":")<2)return{host:w,isIPV6:!1};const _=u(w);if(_.error)return{host:w,isIPV6:!1};{let $=_.address,E=_.address;return _.zone&&($+="%"+_.zone,E+="%25"+_.zone),{host:$,isIPV6:!0,escapedHost:E}}}function f(w,_){let $=0;for(let E=0;E<w.length;E++)w[E]===_&&$++;return $}function y(w){let _=w;const $=[];let E=-1,d=0;for(;d=_.length;){if(d===1){if(_===".")break;if(_==="/"){$.push("/");break}else{$.push(_);break}}else if(d===2){if(_[0]==="."){if(_[1]===".")break;if(_[1]==="/"){_=_.slice(2);continue}}else if(_[0]==="/"&&(_[1]==="."||_[1]==="/")){$.push("/");break}}else if(d===3&&_==="/.."){$.length!==0&&$.pop(),$.push("/");break}if(_[0]==="."){if(_[1]==="."){if(_[2]==="/"){_=_.slice(3);continue}}else if(_[1]==="/"){_=_.slice(2);continue}}else if(_[0]==="/"&&_[1]==="."){if(_[2]==="/"){_=_.slice(2);continue}else if(_[2]==="."&&_[3]==="/"){_=_.slice(3),$.length!==0&&$.pop();continue}}if((E=_.indexOf("/",1))===-1){$.push(_);break}else $.push(_.slice(0,E)),_=_.slice(E)}return $.join("")}function p(w,_){const $=_!==!0?escape:unescape;return w.scheme!==void 0&&(w.scheme=$(w.scheme)),w.userinfo!==void 0&&(w.userinfo=$(w.userinfo)),w.host!==void 0&&(w.host=$(w.host)),w.path!==void 0&&(w.path=$(w.path)),w.query!==void 0&&(w.query=$(w.query)),w.fragment!==void 0&&(w.fragment=$(w.fragment)),w}function b(w){const _=[];if(w.userinfo!==void 0&&(_.push(w.userinfo),_.push("@")),w.host!==void 0){let $=unescape(w.host);if(!t($)){const E=a($);E.isIPV6===!0?$=`[${E.escapedHost}]`:$=w.host}_.push($)}return(typeof w.port=="number"||typeof w.port=="string")&&(_.push(":"),_.push(String(w.port))),_.length?_.join(""):void 0}return tr={nonSimpleDomain:n,recomposeAuthority:b,normalizeComponentEncoding:p,removeDotSegments:y,isIPv4:t,isUUID:e,normalizeIPv6:a,stringArrayToHexStripped:r},tr}var rr,Lr;function Bs(){if(Lr)return rr;Lr=1;const{isUUID:e}=xn(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(c){return r.indexOf(c)!==-1}function o(c){return c.secure===!0?!0:c.secure===!1?!1:c.scheme?c.scheme.length===3&&(c.scheme[0]==="w"||c.scheme[0]==="W")&&(c.scheme[1]==="s"||c.scheme[1]==="S")&&(c.scheme[2]==="s"||c.scheme[2]==="S"):!1}function s(c){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c}function u(c){const g=String(c.scheme).toLowerCase()==="https";return(c.port===(g?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}function a(c){return c.secure=o(c),c.resourceName=(c.path||"/")+(c.query?"?"+c.query:""),c.path=void 0,c.query=void 0,c}function f(c){if((c.port===(o(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){const[g,S]=c.resourceName.split("?");c.path=g&&g!=="/"?g:void 0,c.query=S,c.resourceName=void 0}return c.fragment=void 0,c}function y(c,g){if(!c.path)return c.error="URN can not be parsed",c;const S=c.path.match(t);if(S){const j=g.scheme||c.scheme||"urn";c.nid=S[1].toLowerCase(),c.nss=S[2];const A=`${j}:${g.nid||c.nid}`,z=v(A);c.path=void 0,z&&(c=z.parse(c,g))}else c.error=c.error||"URN can not be parsed.";return c}function p(c,g){if(c.nid===void 0)throw new Error("URN without nid cannot be serialized");const S=g.scheme||c.scheme||"urn",j=c.nid.toLowerCase(),A=`${S}:${g.nid||j}`,z=v(A);z&&(c=z.serialize(c,g));const I=c,V=c.nss;return I.path=`${j||g.nid}:${V}`,g.skipEscape=!0,I}function b(c,g){const S=c;return S.uuid=S.nss,S.nss=void 0,!g.tolerant&&(!S.uuid||!e(S.uuid))&&(S.error=S.error||"UUID is not valid."),S}function w(c){const g=c;return g.nss=(c.uuid||"").toLowerCase(),g}const _={scheme:"http",domainHost:!0,parse:s,serialize:u},$={scheme:"https",domainHost:_.domainHost,parse:s,serialize:u},E={scheme:"ws",domainHost:!0,parse:a,serialize:f},d={scheme:"wss",domainHost:E.domainHost,parse:E.parse,serialize:E.serialize},l={http:_,https:$,ws:E,wss:d,urn:{scheme:"urn",parse:y,serialize:p,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:b,serialize:w,skipNormalize:!0}};Object.setPrototypeOf(l,null);function v(c){return c&&(l[c]||l[c.toLowerCase()])||void 0}return rr={wsIsSecure:o,SCHEMES:l,isValidSchemeName:n,getSchemeHandler:v},rr}var Kr;function xs(){if(Kr)return Fe.exports;Kr=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:o,nonSimpleDomain:s}=xn(),{SCHEMES:u,getSchemeHandler:a}=Bs();function f(d,h){return typeof d=="string"?d=w($(d,h),h):typeof d=="object"&&(d=$(w(d,h),h)),d}function y(d,h,i){const l=i?Object.assign({scheme:"null"},i):{scheme:"null"},v=p($(d,l),$(h,l),l,!0);return l.skipEscape=!0,w(v,l)}function p(d,h,i,l){const v={};return l||(d=$(w(d,i),i),h=$(w(h,i),i)),i=i||{},!i.tolerant&&h.scheme?(v.scheme=h.scheme,v.userinfo=h.userinfo,v.host=h.host,v.port=h.port,v.path=t(h.path||""),v.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(v.userinfo=h.userinfo,v.host=h.host,v.port=h.port,v.path=t(h.path||""),v.query=h.query):(h.path?(h.path[0]==="/"?v.path=t(h.path):((d.userinfo!==void 0||d.host!==void 0||d.port!==void 0)&&!d.path?v.path="/"+h.path:d.path?v.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+h.path:v.path=h.path,v.path=t(v.path)),v.query=h.query):(v.path=d.path,h.query!==void 0?v.query=h.query:v.query=d.query),v.userinfo=d.userinfo,v.host=d.host,v.port=d.port),v.scheme=d.scheme),v.fragment=h.fragment,v}function b(d,h,i){return typeof d=="string"?(d=unescape(d),d=w(n($(d,i),!0),{...i,skipEscape:!0})):typeof d=="object"&&(d=w(n(d,!0),{...i,skipEscape:!0})),typeof h=="string"?(h=unescape(h),h=w(n($(h,i),!0),{...i,skipEscape:!0})):typeof h=="object"&&(h=w(n(h,!0),{...i,skipEscape:!0})),d.toLowerCase()===h.toLowerCase()}function w(d,h){const i={host:d.host,scheme:d.scheme,userinfo:d.userinfo,port:d.port,path:d.path,query:d.query,nid:d.nid,nss:d.nss,uuid:d.uuid,fragment:d.fragment,reference:d.reference,resourceName:d.resourceName,secure:d.secure,error:""},l=Object.assign({},h),v=[],c=a(l.scheme||i.scheme);c&&c.serialize&&c.serialize(i,l),i.path!==void 0&&(l.skipEscape?i.path=unescape(i.path):(i.path=escape(i.path),i.scheme!==void 0&&(i.path=i.path.split("%3A").join(":")))),l.reference!=="suffix"&&i.scheme&&v.push(i.scheme,":");const g=r(i);if(g!==void 0&&(l.reference!=="suffix"&&v.push("//"),v.push(g),i.path&&i.path[0]!=="/"&&v.push("/")),i.path!==void 0){let S=i.path;!l.absolutePath&&(!c||!c.absolutePath)&&(S=t(S)),g===void 0&&S[0]==="/"&&S[1]==="/"&&(S="/%2F"+S.slice(2)),v.push(S)}return i.query!==void 0&&v.push("?",i.query),i.fragment!==void 0&&v.push("#",i.fragment),v.join("")}const _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function $(d,h){const i=Object.assign({},h),l={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let v=!1;i.reference==="suffix"&&(i.scheme?d=i.scheme+":"+d:d="//"+d);const c=d.match(_);if(c){if(l.scheme=c[1],l.userinfo=c[3],l.host=c[4],l.port=parseInt(c[5],10),l.path=c[6]||"",l.query=c[7],l.fragment=c[8],isNaN(l.port)&&(l.port=c[5]),l.host)if(o(l.host)===!1){const j=e(l.host);l.host=j.host.toLowerCase(),v=j.isIPV6}else v=!0;l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&l.query===void 0&&!l.path?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==l.reference&&(l.error=l.error||"URI is not a "+i.reference+" reference.");const g=a(i.scheme||l.scheme);if(!i.unicodeSupport&&(!g||!g.unicodeSupport)&&l.host&&(i.domainHost||g&&g.domainHost)&&v===!1&&s(l.host))try{l.host=URL.domainToASCII(l.host.toLowerCase())}catch(S){l.error=l.error||"Host's domain name can not be converted to ASCII: "+S}(!g||g&&!g.skipNormalize)&&(d.indexOf("%")!==-1&&(l.scheme!==void 0&&(l.scheme=unescape(l.scheme)),l.host!==void 0&&(l.host=unescape(l.host))),l.path&&(l.path=escape(unescape(l.path))),l.fragment&&(l.fragment=encodeURI(decodeURIComponent(l.fragment)))),g&&g.parse&&g.parse(l,i)}else l.error=l.error||"URI can not be parsed.";return l}const E={SCHEMES:u,normalize:f,resolve:y,resolveComponent:p,equal:b,serialize:w,parse:$};return Fe.exports=E,Fe.exports.default=E,Fe.exports.fastUri=E,Fe.exports}var Hr;function Qs(){if(Hr)return xe;Hr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=xs();return e.code='require("ajv/dist/runtime/uri").default',xe.default=e,xe}var Gr;function Xs(){return Gr||(Gr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Lt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=lr(),o=Kt(),s=Jn(),u=dr(),a=J(),f=Ut(),y=Dt(),p=x(),b=Ws,w=Qs(),_=(M,k)=>new RegExp(M,k);_.code="new RegExp";const $=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},i=200;function l(M){var k,q,R,m,P,T,L,H,Q,B,N,O,C,D,K,W,ne,ge,de,fe,se,Ce,pe,Ht,Gt;const Ve=M.strict,Jt=(k=M.code)===null||k===void 0?void 0:k.optimize,hr=Jt===!0||Jt===void 0?1:Jt||0,mr=(R=(q=M.code)===null||q===void 0?void 0:q.regExp)!==null&&R!==void 0?R:_,ts=(m=M.uriResolver)!==null&&m!==void 0?m:w.default;return{strictSchema:(T=(P=M.strictSchema)!==null&&P!==void 0?P:Ve)!==null&&T!==void 0?T:!0,strictNumbers:(H=(L=M.strictNumbers)!==null&&L!==void 0?L:Ve)!==null&&H!==void 0?H:!0,strictTypes:(B=(Q=M.strictTypes)!==null&&Q!==void 0?Q:Ve)!==null&&B!==void 0?B:"log",strictTuples:(O=(N=M.strictTuples)!==null&&N!==void 0?N:Ve)!==null&&O!==void 0?O:"log",strictRequired:(D=(C=M.strictRequired)!==null&&C!==void 0?C:Ve)!==null&&D!==void 0?D:!1,code:M.code?{...M.code,optimize:hr,regExp:mr}:{optimize:hr,regExp:mr},loopRequired:(K=M.loopRequired)!==null&&K!==void 0?K:i,loopEnum:(W=M.loopEnum)!==null&&W!==void 0?W:i,meta:(ne=M.meta)!==null&&ne!==void 0?ne:!0,messages:(ge=M.messages)!==null&&ge!==void 0?ge:!0,inlineRefs:(de=M.inlineRefs)!==null&&de!==void 0?de:!0,schemaId:(fe=M.schemaId)!==null&&fe!==void 0?fe:"$id",addUsedSchema:(se=M.addUsedSchema)!==null&&se!==void 0?se:!0,validateSchema:(Ce=M.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(pe=M.validateFormats)!==null&&pe!==void 0?pe:!0,unicodeRegExp:(Ht=M.unicodeRegExp)!==null&&Ht!==void 0?Ht:!0,int32range:(Gt=M.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:ts}}class v{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...l(k)};const{es5:q,lines:R}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:q,lines:R}),this.logger=V(k.logger);const m=k.validateFormats;k.validateFormats=!1,this.RULES=(0,s.getRules)(),c.call(this,d,k,"NOT SUPPORTED"),c.call(this,h,k,"DEPRECATED","warn"),this._metaOpts=z.call(this),k.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&A.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),S.call(this),k.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:q,schemaId:R}=this.opts;let m=b;R==="id"&&(m={...b},m.id=m.$id,delete m.$id),q&&k&&this.addMetaSchema(m,m[R],!1)}defaultMeta(){const{meta:k,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[q]||k:void 0}validate(k,q){let R;if(typeof k=="string"){if(R=this.getSchema(k),!R)throw new Error(`no schema with key or ref "${k}"`)}else R=this.compile(k);const m=R(q);return"$async"in R||(this.errors=R.errors),m}compile(k,q){const R=this._addSchema(k,q);return R.validate||this._compileSchemaEnv(R)}compileAsync(k,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:R}=this.opts;return m.call(this,k,q);async function m(B,N){await P.call(this,B.$schema);const O=this._addSchema(B,N);return O.validate||T.call(this,O)}async function P(B){B&&!this.getSchema(B)&&await m.call(this,{$ref:B},!0)}async function T(B){try{return this._compileSchemaEnv(B)}catch(N){if(!(N instanceof o.default))throw N;return L.call(this,N),await H.call(this,N.missingSchema),T.call(this,B)}}function L({missingSchema:B,missingRef:N}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${N} cannot be resolved`)}async function H(B){const N=await Q.call(this,B);this.refs[B]||await P.call(this,N.$schema),this.refs[B]||this.addSchema(N,B,q)}async function Q(B){const N=this._loading[B];if(N)return N;try{return await(this._loading[B]=R(B))}finally{delete this._loading[B]}}}addSchema(k,q,R,m=this.opts.validateSchema){if(Array.isArray(k)){for(const T of k)this.addSchema(T,void 0,R,m);return this}let P;if(typeof k=="object"){const{schemaId:T}=this.opts;if(P=k[T],P!==void 0&&typeof P!="string")throw new Error(`schema ${T} must be string`)}return q=(0,f.normalizeId)(q||P),this._checkUnique(q),this.schemas[q]=this._addSchema(k,R,q,m,!0),this}addMetaSchema(k,q,R=this.opts.validateSchema){return this.addSchema(k,q,!0,R),this}validateSchema(k,q){if(typeof k=="boolean")return!0;let R;if(R=k.$schema,R!==void 0&&typeof R!="string")throw new Error("$schema must be a string");if(R=R||this.opts.defaultMeta||this.defaultMeta(),!R)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const m=this.validate(R,k);if(!m&&q){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return m}getSchema(k){let q;for(;typeof(q=g.call(this,k))=="string";)k=q;if(q===void 0){const{schemaId:R}=this.opts,m=new u.SchemaEnv({schema:{},schemaId:R});if(q=u.resolveSchema.call(this,m,k),!q)return;this.refs[k]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=g.call(this,k);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const q=k;this._cache.delete(q);let R=k[this.opts.schemaId];return R&&(R=(0,f.normalizeId)(R),delete this.schemas[R],delete this.refs[R]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const q of k)this.addKeyword(q);return this}addKeyword(k,q){let R;if(typeof k=="string")R=k,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=R);else if(typeof k=="object"&&q===void 0){if(q=k,R=q.keyword,Array.isArray(R)&&!R.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,R,q),!q)return(0,p.eachItem)(R,P=>X.call(this,P)),this;ue.call(this,q);const m={...q,type:(0,y.getJSONTypes)(q.type),schemaType:(0,y.getJSONTypes)(q.schemaType)};return(0,p.eachItem)(R,m.type.length===0?P=>X.call(this,P,m):P=>m.type.forEach(T=>X.call(this,P,m,T))),this}getKeyword(k){const q=this.RULES.all[k];return typeof q=="object"?q.definition:!!q}removeKeyword(k){const{RULES:q}=this;delete q.keywords[k],delete q.all[k];for(const R of q.rules){const m=R.rules.findIndex(P=>P.keyword===k);m>=0&&R.rules.splice(m,1)}return this}addFormat(k,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[k]=q,this}errorsText(k=this.errors,{separator:q=", ",dataVar:R="data"}={}){return!k||k.length===0?"No errors":k.map(m=>`${R}${m.instancePath} ${m.message}`).reduce((m,P)=>m+q+P)}$dataMetaSchema(k,q){const R=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const m of q){const P=m.split("/").slice(1);let T=k;for(const L of P)T=T[L];for(const L in R){const H=R[L];if(typeof H!="object")continue;const{$data:Q}=H.definition,B=T[L];Q&&B&&(T[L]=ye(B))}}return k}_removeAllSchemas(k,q){for(const R in k){const m=k[R];(!q||q.test(R))&&(typeof m=="string"?delete k[R]:m&&!m.meta&&(this._cache.delete(m.schema),delete k[R]))}}_addSchema(k,q,R,m=this.opts.validateSchema,P=this.opts.addUsedSchema){let T;const{schemaId:L}=this.opts;if(typeof k=="object")T=k[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(k);if(H!==void 0)return H;R=(0,f.normalizeId)(T||R);const Q=f.getSchemaRefs.call(this,k,R);return H=new u.SchemaEnv({schema:k,schemaId:L,meta:q,baseId:R,localRefs:Q}),this._cache.set(H.schema,H),P&&!R.startsWith("#")&&(R&&this._checkUnique(R),this.refs[R]=H),m&&this.validateSchema(k,!0),H}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):u.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const q=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,k)}finally{this.opts=q}}}v.ValidationError=n.default,v.MissingRefError=o.default,e.default=v;function c(M,k,q,R="error"){for(const m in M){const P=m;P in k&&this.logger[R](`${q}: option ${m}. ${M[P]}`)}}function g(M){return M=(0,f.normalizeId)(M),this.schemas[M]||this.refs[M]}function S(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const k in M)this.addSchema(M[k],k)}function j(){for(const M in this.opts.formats){const k=this.opts.formats[M];k&&this.addFormat(M,k)}}function A(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const k in M){const q=M[k];q.keyword||(q.keyword=k),this.addKeyword(q)}}function z(){const M={...this.opts};for(const k of $)delete M[k];return M}const I={log(){},warn(){},error(){}};function V(M){if(M===!1)return I;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function U(M,k){const{RULES:q}=this;if((0,p.eachItem)(M,R=>{if(q.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!F.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!k&&k.$data&&!("code"in k||"validate"in k))throw new Error('$data keyword must have "code" or "validate" function')}function X(M,k,q){var R;const m=k?.post;if(q&&m)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let T=m?P.post:P.rules.find(({type:H})=>H===q);if(T||(T={type:q,rules:[]},P.rules.push(T)),P.keywords[M]=!0,!k)return;const L={keyword:M,definition:{...k,type:(0,y.getJSONTypes)(k.type),schemaType:(0,y.getJSONTypes)(k.schemaType)}};k.before?oe.call(this,T,L,k.before):T.rules.push(L),P.all[M]=L,(R=k.implements)===null||R===void 0||R.forEach(H=>this.addKeyword(H))}function oe(M,k,q){const R=M.rules.findIndex(m=>m.keyword===q);R>=0?M.rules.splice(R,0,k):(M.rules.push(k),this.logger.warn(`rule ${q} is not defined`))}function ue(M){let{metaSchema:k}=M;k!==void 0&&(M.$data&&this.opts.$data&&(k=ye(k)),M.validateSchema=this.compile(k,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(M){return{anyOf:[M,Z]}}})(Bt)),Bt}var Qe={},Xe={},Ye={},Jr;function Ys(){if(Jr)return Ye;Jr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ye.default=e,Ye}var Pe={},Wr;function Zs(){if(Wr)return Pe;Wr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.callRef=Pe.getValidate=void 0;const e=Kt(),t=_e(),r=J(),n=Re(),o=dr(),s=x(),u={keyword:"$ref",schemaType:"string",code(y){const{gen:p,schema:b,it:w}=y,{baseId:_,schemaEnv:$,validateName:E,opts:d,self:h}=w,{root:i}=$;if((b==="#"||b==="#/")&&_===i.baseId)return v();const l=o.resolveRef.call(h,i,_,b);if(l===void 0)throw new e.default(w.opts.uriResolver,_,b);if(l instanceof o.SchemaEnv)return c(l);return g(l);function v(){if($===i)return f(y,E,$,$.$async);const S=p.scopeValue("root",{ref:i});return f(y,(0,r._)`${S}.validate`,i,i.$async)}function c(S){const j=a(y,S);f(y,j,S,S.$async)}function g(S){const j=p.scopeValue("schema",d.code.source===!0?{ref:S,code:(0,r.stringify)(S)}:{ref:S}),A=p.name("valid"),z=y.subschema({schema:S,dataTypes:[],schemaPath:r.nil,topSchemaRef:j,errSchemaPath:b},A);y.mergeEvaluated(z),y.ok(A)}}};function a(y,p){const{gen:b}=y;return p.validate?b.scopeValue("validate",{ref:p.validate}):(0,r._)`${b.scopeValue("wrapper",{ref:p})}.validate`}Pe.getValidate=a;function f(y,p,b,w){const{gen:_,it:$}=y,{allErrors:E,schemaEnv:d,opts:h}=$,i=h.passContext?n.default.this:r.nil;w?l():v();function l(){if(!d.$async)throw new Error("async schema referenced by sync schema");const S=_.let("valid");_.try(()=>{_.code((0,r._)`await ${(0,t.callValidateCode)(y,p,i)}`),g(p),E||_.assign(S,!0)},j=>{_.if((0,r._)`!(${j} instanceof ${$.ValidationError})`,()=>_.throw(j)),c(j),E||_.assign(S,!1)}),y.ok(S)}function v(){y.result((0,t.callValidateCode)(y,p,i),()=>g(p),()=>c(p))}function c(S){const j=(0,r._)`${S}.errors`;_.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${j} : ${n.default.vErrors}.concat(${j})`),_.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function g(S){var j;if(!$.opts.unevaluated)return;const A=(j=b?.validate)===null||j===void 0?void 0:j.evaluated;if($.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&($.props=s.mergeEvaluated.props(_,A.props,$.props));else{const z=_.var("props",(0,r._)`${S}.evaluated.props`);$.props=s.mergeEvaluated.props(_,z,$.props,r.Name)}if($.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&($.items=s.mergeEvaluated.items(_,A.items,$.items));else{const z=_.var("items",(0,r._)`${S}.evaluated.items`);$.items=s.mergeEvaluated.items(_,z,$.items,r.Name)}}}return Pe.callRef=f,Pe.default=u,Pe}var Br;function ea(){if(Br)return Xe;Br=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=Ys(),t=Zs(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Xe.default=r,Xe}var Ze={},et={},xr;function ta(){if(xr)return et;xr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:s,schemaCode:u})=>(0,e.str)`must be ${r[s].okStr} ${u}`,params:({keyword:s,schemaCode:u})=>(0,e._)`{comparison: ${r[s].okStr}, limit: ${u}}`},o={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:u,data:a,schemaCode:f}=s;s.fail$data((0,e._)`${a} ${r[u].fail} ${f} || isNaN(${a})`)}};return et.default=o,et}var tt={},Qr;function ra(){if(Qr)return tt;Qr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=J(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:o,data:s,schemaCode:u,it:a}=n,f=a.opts.multipleOfPrecision,y=o.let("res"),p=f?(0,e._)`Math.abs(Math.round(${y}) - ${y}) > 1e-${f}`:(0,e._)`${y} !== parseInt(${y})`;n.fail$data((0,e._)`(${u} === 0 || (${y} = ${s}/${u}, ${p}))`)}};return tt.default=r,tt}var rt={},nt={},Xr;function na(){if(Xr)return nt;Xr=1,Object.defineProperty(nt,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,o=0,s;for(;o<r;)n++,s=t.charCodeAt(o++),s>=55296&&s<=56319&&o<r&&(s=t.charCodeAt(o),(s&64512)===56320&&o++);return n}return nt.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',nt}var Yr;function sa(){if(Yr)return rt;Yr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=J(),t=x(),r=na(),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:u}){const a=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${u} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:u,data:a,schemaCode:f,it:y}=s,p=u==="maxLength"?e.operators.GT:e.operators.LT,b=y.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(s.gen,r.default)}(${a})`;s.fail$data((0,e._)`${b} ${p} ${f}`)}};return rt.default=o,rt}var st={},Zr;function aa(){if(Zr)return st;Zr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=_e(),t=J(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,t.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,t._)`{pattern: ${o}}`},code(o){const{data:s,$data:u,schema:a,schemaCode:f,it:y}=o,p=y.opts.unicodeRegExp?"u":"",b=u?(0,t._)`(new RegExp(${f}, ${p}))`:(0,e.usePattern)(o,a);o.fail$data((0,t._)`!${b}.test(${s})`)}};return st.default=n,st}var at={},en;function ia(){if(en)return at;en=1,Object.defineProperty(at,"__esModule",{value:!0});const e=J(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:o}){const s=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:o,data:s,schemaCode:u}=n,a=o==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${s}).length ${a} ${u}`)}};return at.default=r,at}var it={},tn;function oa(){if(tn)return it;tn=1,Object.defineProperty(it,"__esModule",{value:!0});const e=_e(),t=J(),r=x(),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:u,schema:a,schemaCode:f,data:y,$data:p,it:b}=s,{opts:w}=b;if(!p&&a.length===0)return;const _=a.length>=w.loopRequired;if(b.allErrors?$():E(),w.strictRequired){const i=s.parentSchema.properties,{definedProperties:l}=s.it;for(const v of a)if(i?.[v]===void 0&&!l.has(v)){const c=b.schemaEnv.baseId+b.errSchemaPath,g=`required property "${v}" is not defined at "${c}" (strictRequired)`;(0,r.checkStrictMode)(b,g,b.opts.strictRequired)}}function $(){if(_||p)s.block$data(t.nil,d);else for(const i of a)(0,e.checkReportMissingProp)(s,i)}function E(){const i=u.let("missing");if(_||p){const l=u.let("valid",!0);s.block$data(l,()=>h(i,l)),s.ok(l)}else u.if((0,e.checkMissingProp)(s,a,i)),(0,e.reportMissingProp)(s,i),u.else()}function d(){u.forOf("prop",f,i=>{s.setParams({missingProperty:i}),u.if((0,e.noPropertyInData)(u,y,i,w.ownProperties),()=>s.error())})}function h(i,l){s.setParams({missingProperty:i}),u.forOf(i,f,()=>{u.assign(l,(0,e.propertyInData)(u,y,i,w.ownProperties)),u.if((0,t.not)(l),()=>{s.error(),u.break()})},t.nil)}}};return it.default=o,it}var ot={},rn;function ua(){if(rn)return ot;rn=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=J(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:o}){const s=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:o,data:s,schemaCode:u}=n,a=o==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${s}.length ${a} ${u}`)}};return ot.default=r,ot}var ut={},ct={},nn;function fr(){if(nn)return ct;nn=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Bn();return e.code='require("ajv/dist/runtime/equal").default',ct.default=e,ct}var sn;function ca(){if(sn)return ut;sn=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Dt(),t=J(),r=x(),n=fr(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${u} are identical)`,params:({params:{i:u,j:a}})=>(0,t._)`{i: ${u}, j: ${a}}`},code(u){const{gen:a,data:f,$data:y,schema:p,parentSchema:b,schemaCode:w,it:_}=u;if(!y&&!p)return;const $=a.let("valid"),E=b.items?(0,e.getSchemaTypes)(b.items):[];u.block$data($,d,(0,t._)`${w} === false`),u.ok($);function d(){const v=a.let("i",(0,t._)`${f}.length`),c=a.let("j");u.setParams({i:v,j:c}),a.assign($,!0),a.if((0,t._)`${v} > 1`,()=>(h()?i:l)(v,c))}function h(){return E.length>0&&!E.some(v=>v==="object"||v==="array")}function i(v,c){const g=a.name("item"),S=(0,e.checkDataTypes)(E,g,_.opts.strictNumbers,e.DataType.Wrong),j=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${v}--;`,()=>{a.let(g,(0,t._)`${f}[${v}]`),a.if(S,(0,t._)`continue`),E.length>1&&a.if((0,t._)`typeof ${g} == "string"`,(0,t._)`${g} += "_"`),a.if((0,t._)`typeof ${j}[${g}] == "number"`,()=>{a.assign(c,(0,t._)`${j}[${g}]`),u.error(),a.assign($,!1).break()}).code((0,t._)`${j}[${g}] = ${v}`)})}function l(v,c){const g=(0,r.useFunc)(a,n.default),S=a.name("outer");a.label(S).for((0,t._)`;${v}--;`,()=>a.for((0,t._)`${c} = ${v}; ${c}--;`,()=>a.if((0,t._)`${g}(${f}[${v}], ${f}[${c}])`,()=>{u.error(),a.assign($,!1).break(S)})))}}};return ut.default=s,ut}var lt={},an;function la(){if(an)return lt;an=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=J(),t=x(),r=fr(),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:u,data:a,$data:f,schemaCode:y,schema:p}=s;f||p&&typeof p=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(u,r.default)}(${a}, ${y})`):s.fail((0,e._)`${p} !== ${a}`)}};return lt.default=o,lt}var dt={},on;function da(){if(on)return dt;on=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=J(),t=x(),r=fr(),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:u,data:a,$data:f,schema:y,schemaCode:p,it:b}=s;if(!f&&y.length===0)throw new Error("enum must have non-empty array");const w=y.length>=b.opts.loopEnum;let _;const $=()=>_??(_=(0,t.useFunc)(u,r.default));let E;if(w||f)E=u.let("valid"),s.block$data(E,d);else{if(!Array.isArray(y))throw new Error("ajv implementation error");const i=u.const("vSchema",p);E=(0,e.or)(...y.map((l,v)=>h(i,v)))}s.pass(E);function d(){u.assign(E,!1),u.forOf("v",p,i=>u.if((0,e._)`${$()}(${a}, ${i})`,()=>u.assign(E,!0).break()))}function h(i,l){const v=y[l];return typeof v=="object"&&v!==null?(0,e._)`${$()}(${a}, ${i}[${l}])`:(0,e._)`${a} === ${v}`}}};return dt.default=o,dt}var un;function fa(){if(un)return Ze;un=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=ta(),t=ra(),r=sa(),n=aa(),o=ia(),s=oa(),u=ua(),a=ca(),f=la(),y=da(),p=[e.default,t.default,r.default,n.default,o.default,s.default,u.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,y.default];return Ze.default=p,Ze}var ft={},Ae={},cn;function Qn(){if(cn)return Ae;cn=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.validateAdditionalItems=void 0;const e=J(),t=x(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:u,it:a}=s,{items:f}=u;if(!Array.isArray(f)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,f)}};function o(s,u){const{gen:a,schema:f,data:y,keyword:p,it:b}=s;b.items=!0;const w=a.const("len",(0,e._)`${y}.length`);if(f===!1)s.setParams({len:u.length}),s.pass((0,e._)`${w} <= ${u.length}`);else if(typeof f=="object"&&!(0,t.alwaysValidSchema)(b,f)){const $=a.var("valid",(0,e._)`${w} <= ${u.length}`);a.if((0,e.not)($),()=>_($)),s.ok($)}function _($){a.forRange("i",u.length,w,E=>{s.subschema({keyword:p,dataProp:E,dataPropType:t.Type.Num},$),b.allErrors||a.if((0,e.not)($),()=>a.break())})}}return Ae.validateAdditionalItems=o,Ae.default=n,Ae}var ht={},Me={},ln;function Xn(){if(ln)return Me;ln=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.validateTuple=void 0;const e=J(),t=x(),r=_e(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:u,it:a}=s;if(Array.isArray(u))return o(s,"additionalItems",u);a.items=!0,!(0,t.alwaysValidSchema)(a,u)&&s.ok((0,r.validateArray)(s))}};function o(s,u,a=s.schema){const{gen:f,parentSchema:y,data:p,keyword:b,it:w}=s;E(y),w.opts.unevaluated&&a.length&&w.items!==!0&&(w.items=t.mergeEvaluated.items(f,a.length,w.items));const _=f.name("valid"),$=f.const("len",(0,e._)`${p}.length`);a.forEach((d,h)=>{(0,t.alwaysValidSchema)(w,d)||(f.if((0,e._)`${$} > ${h}`,()=>s.subschema({keyword:b,schemaProp:h,dataProp:h},_)),s.ok(_))});function E(d){const{opts:h,errSchemaPath:i}=w,l=a.length,v=l===d.minItems&&(l===d.maxItems||d[u]===!1);if(h.strictTuples&&!v){const c=`"${b}" is ${l}-tuple, but minItems or maxItems/${u} are not specified or different at path "${i}"`;(0,t.checkStrictMode)(w,c,h.strictTuples)}}}return Me.validateTuple=o,Me.default=n,Me}var dn;function ha(){if(dn)return ht;dn=1,Object.defineProperty(ht,"__esModule",{value:!0});const e=Xn(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return ht.default=t,ht}var mt={},fn;function ma(){if(fn)return mt;fn=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=J(),t=x(),r=_e(),n=Qn(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>(0,e.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,e._)`{limit: ${u}}`},code(u){const{schema:a,parentSchema:f,it:y}=u,{prefixItems:p}=f;y.items=!0,!(0,t.alwaysValidSchema)(y,a)&&(p?(0,n.validateAdditionalItems)(u,p):u.ok((0,r.validateArray)(u)))}};return mt.default=s,mt}var pt={},hn;function pa(){if(hn)return pt;hn=1,Object.defineProperty(pt,"__esModule",{value:!0});const e=J(),t=x(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:o,max:s}})=>s===void 0?(0,e.str)`must contain at least ${o} valid item(s)`:(0,e.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,e._)`{minContains: ${o}}`:(0,e._)`{minContains: ${o}, maxContains: ${s}}`},code(o){const{gen:s,schema:u,parentSchema:a,data:f,it:y}=o;let p,b;const{minContains:w,maxContains:_}=a;y.opts.next?(p=w===void 0?1:w,b=_):p=1;const $=s.const("len",(0,e._)`${f}.length`);if(o.setParams({min:p,max:b}),b===void 0&&p===0){(0,t.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(b!==void 0&&p>b){(0,t.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,t.alwaysValidSchema)(y,u)){let l=(0,e._)`${$} >= ${p}`;b!==void 0&&(l=(0,e._)`${l} && ${$} <= ${b}`),o.pass(l);return}y.items=!0;const E=s.name("valid");b===void 0&&p===1?h(E,()=>s.if(E,()=>s.break())):p===0?(s.let(E,!0),b!==void 0&&s.if((0,e._)`${f}.length > 0`,d)):(s.let(E,!1),d()),o.result(E,()=>o.reset());function d(){const l=s.name("_valid"),v=s.let("count",0);h(l,()=>s.if(l,()=>i(v)))}function h(l,v){s.forRange("i",0,$,c=>{o.subschema({keyword:"contains",dataProp:c,dataPropType:t.Type.Num,compositeRule:!0},l),v()})}function i(l){s.code((0,e._)`${l}++`),b===void 0?s.if((0,e._)`${l} >= ${p}`,()=>s.assign(E,!0).break()):(s.if((0,e._)`${l} > ${b}`,()=>s.assign(E,!1).break()),p===1?s.assign(E,!0):s.if((0,e._)`${l} >= ${p}`,()=>s.assign(E,!0)))}}};return pt.default=n,pt}var nr={},mn;function ya(){return mn||(mn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J(),r=x(),n=_e();e.error={message:({params:{property:f,depsCount:y,deps:p}})=>{const b=y===1?"property":"properties";return(0,t.str)`must have ${b} ${p} when property ${f} is present`},params:({params:{property:f,depsCount:y,deps:p,missingProperty:b}})=>(0,t._)`{property: ${f},
    missingProperty: ${b},
    depsCount: ${y},
    deps: ${p}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(f){const[y,p]=s(f);u(f,y),a(f,p)}};function s({schema:f}){const y={},p={};for(const b in f){if(b==="__proto__")continue;const w=Array.isArray(f[b])?y:p;w[b]=f[b]}return[y,p]}function u(f,y=f.schema){const{gen:p,data:b,it:w}=f;if(Object.keys(y).length===0)return;const _=p.let("missing");for(const $ in y){const E=y[$];if(E.length===0)continue;const d=(0,n.propertyInData)(p,b,$,w.opts.ownProperties);f.setParams({property:$,depsCount:E.length,deps:E.join(", ")}),w.allErrors?p.if(d,()=>{for(const h of E)(0,n.checkReportMissingProp)(f,h)}):(p.if((0,t._)`${d} && (${(0,n.checkMissingProp)(f,E,_)})`),(0,n.reportMissingProp)(f,_),p.else())}}e.validatePropertyDeps=u;function a(f,y=f.schema){const{gen:p,data:b,keyword:w,it:_}=f,$=p.name("valid");for(const E in y)(0,r.alwaysValidSchema)(_,y[E])||(p.if((0,n.propertyInData)(p,b,E,_.opts.ownProperties),()=>{const d=f.subschema({keyword:w,schemaProp:E},$);f.mergeValidEvaluated(d,$)},()=>p.var($,!0)),f.ok($))}e.validateSchemaDeps=a,e.default=o})(nr)),nr}var yt={},pn;function ga(){if(pn)return yt;pn=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=J(),t=x(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:o})=>(0,e._)`{propertyName: ${o.propertyName}}`},code(o){const{gen:s,schema:u,data:a,it:f}=o;if((0,t.alwaysValidSchema)(f,u))return;const y=s.name("valid");s.forIn("key",a,p=>{o.setParams({propertyName:p}),o.subschema({keyword:"propertyNames",data:p,dataTypes:["string"],propertyName:p,compositeRule:!0},y),s.if((0,e.not)(y),()=>{o.error(!0),f.allErrors||s.break()})}),o.ok(y)}};return yt.default=n,yt}var gt={},yn;function Yn(){if(yn)return gt;yn=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=_e(),t=J(),r=Re(),n=x(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>(0,t._)`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:a,schema:f,parentSchema:y,data:p,errsCount:b,it:w}=u;if(!b)throw new Error("ajv implementation error");const{allErrors:_,opts:$}=w;if(w.props=!0,$.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(w,f))return;const E=(0,e.allSchemaProperties)(y.properties),d=(0,e.allSchemaProperties)(y.patternProperties);h(),u.ok((0,t._)`${b} === ${r.default.errors}`);function h(){a.forIn("key",p,g=>{!E.length&&!d.length?v(g):a.if(i(g),()=>v(g))})}function i(g){let S;if(E.length>8){const j=(0,n.schemaRefOrVal)(w,y.properties,"properties");S=(0,e.isOwnProperty)(a,j,g)}else E.length?S=(0,t.or)(...E.map(j=>(0,t._)`${g} === ${j}`)):S=t.nil;return d.length&&(S=(0,t.or)(S,...d.map(j=>(0,t._)`${(0,e.usePattern)(u,j)}.test(${g})`))),(0,t.not)(S)}function l(g){a.code((0,t._)`delete ${p}[${g}]`)}function v(g){if($.removeAdditional==="all"||$.removeAdditional&&f===!1){l(g);return}if(f===!1){u.setParams({additionalProperty:g}),u.error(),_||a.break();return}if(typeof f=="object"&&!(0,n.alwaysValidSchema)(w,f)){const S=a.name("valid");$.removeAdditional==="failing"?(c(g,S,!1),a.if((0,t.not)(S),()=>{u.reset(),l(g)})):(c(g,S),_||a.if((0,t.not)(S),()=>a.break()))}}function c(g,S,j){const A={keyword:"additionalProperties",dataProp:g,dataPropType:n.Type.Str};j===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(A,S)}}};return gt.default=s,gt}var vt={},gn;function va(){if(gn)return vt;gn=1,Object.defineProperty(vt,"__esModule",{value:!0});const e=Lt(),t=_e(),r=x(),n=Yn(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:u,schema:a,parentSchema:f,data:y,it:p}=s;p.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(p,n.default,"additionalProperties"));const b=(0,t.allSchemaProperties)(a);for(const d of b)p.definedProperties.add(d);p.opts.unevaluated&&b.length&&p.props!==!0&&(p.props=r.mergeEvaluated.props(u,(0,r.toHash)(b),p.props));const w=b.filter(d=>!(0,r.alwaysValidSchema)(p,a[d]));if(w.length===0)return;const _=u.name("valid");for(const d of w)$(d)?E(d):(u.if((0,t.propertyInData)(u,y,d,p.opts.ownProperties)),E(d),p.allErrors||u.else().var(_,!0),u.endIf()),s.it.definedProperties.add(d),s.ok(_);function $(d){return p.opts.useDefaults&&!p.compositeRule&&a[d].default!==void 0}function E(d){s.subschema({keyword:"properties",schemaProp:d,dataProp:d},_)}}};return vt.default=o,vt}var _t={},vn;function _a(){if(vn)return _t;vn=1,Object.defineProperty(_t,"__esModule",{value:!0});const e=_e(),t=J(),r=x(),n=x(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:u,schema:a,data:f,parentSchema:y,it:p}=s,{opts:b}=p,w=(0,e.allSchemaProperties)(a),_=w.filter(v=>(0,r.alwaysValidSchema)(p,a[v]));if(w.length===0||_.length===w.length&&(!p.opts.unevaluated||p.props===!0))return;const $=b.strictSchema&&!b.allowMatchingProperties&&y.properties,E=u.name("valid");p.props!==!0&&!(p.props instanceof t.Name)&&(p.props=(0,n.evaluatedPropsToName)(u,p.props));const{props:d}=p;h();function h(){for(const v of w)$&&i(v),p.allErrors?l(v):(u.var(E,!0),l(v),u.if(E))}function i(v){for(const c in $)new RegExp(v).test(c)&&(0,r.checkStrictMode)(p,`property ${c} matches pattern ${v} (use allowMatchingProperties)`)}function l(v){u.forIn("key",f,c=>{u.if((0,t._)`${(0,e.usePattern)(s,v)}.test(${c})`,()=>{const g=_.includes(v);g||s.subschema({keyword:"patternProperties",schemaProp:v,dataProp:c,dataPropType:n.Type.Str},E),p.opts.unevaluated&&d!==!0?u.assign((0,t._)`${d}[${c}]`,!0):!g&&!p.allErrors&&u.if((0,t.not)(E),()=>u.break())})})}}};return _t.default=o,_t}var $t={},_n;function $a(){if(_n)return $t;_n=1,Object.defineProperty($t,"__esModule",{value:!0});const e=x(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:o,it:s}=r;if((0,e.alwaysValidSchema)(s,o)){r.fail();return}const u=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),r.failResult(u,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return $t.default=t,$t}var wt={},$n;function wa(){if($n)return wt;$n=1,Object.defineProperty(wt,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_e().validateUnion,error:{message:"must match a schema in anyOf"}};return wt.default=t,wt}var bt={},wn;function ba(){if(wn)return bt;wn=1,Object.defineProperty(bt,"__esModule",{value:!0});const e=J(),t=x(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:o})=>(0,e._)`{passingSchemas: ${o.passing}}`},code(o){const{gen:s,schema:u,parentSchema:a,it:f}=o;if(!Array.isArray(u))throw new Error("ajv implementation error");if(f.opts.discriminator&&a.discriminator)return;const y=u,p=s.let("valid",!1),b=s.let("passing",null),w=s.name("_valid");o.setParams({passing:b}),s.block(_),o.result(p,()=>o.reset(),()=>o.error(!0));function _(){y.forEach(($,E)=>{let d;(0,t.alwaysValidSchema)(f,$)?s.var(w,!0):d=o.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},w),E>0&&s.if((0,e._)`${w} && ${p}`).assign(p,!1).assign(b,(0,e._)`[${b}, ${E}]`).else(),s.if(w,()=>{s.assign(p,!0),s.assign(b,E),d&&o.mergeEvaluated(d,e.Name)})})}}};return bt.default=n,bt}var Et={},bn;function Ea(){if(bn)return Et;bn=1,Object.defineProperty(Et,"__esModule",{value:!0});const e=x(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:o,it:s}=r;if(!Array.isArray(o))throw new Error("ajv implementation error");const u=n.name("valid");o.forEach((a,f)=>{if((0,e.alwaysValidSchema)(s,a))return;const y=r.subschema({keyword:"allOf",schemaProp:f},u);r.ok(u),r.mergeEvaluated(y)})}};return Et.default=t,Et}var St={},En;function Sa(){if(En)return St;En=1,Object.defineProperty(St,"__esModule",{value:!0});const e=J(),t=x(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:u,parentSchema:a,it:f}=s;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(f,'"if" without "then" and "else" is ignored');const y=o(f,"then"),p=o(f,"else");if(!y&&!p)return;const b=u.let("valid",!0),w=u.name("_valid");if(_(),s.reset(),y&&p){const E=u.let("ifClause");s.setParams({ifClause:E}),u.if(w,$("then",E),$("else",E))}else y?u.if(w,$("then")):u.if((0,e.not)(w),$("else"));s.pass(b,()=>s.error(!0));function _(){const E=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},w);s.mergeEvaluated(E)}function $(E,d){return()=>{const h=s.subschema({keyword:E},w);u.assign(b,w),s.mergeValidEvaluated(h,b),d?u.assign(d,(0,e._)`${E}`):s.setParams({ifClause:E})}}}};function o(s,u){const a=s.schema[u];return a!==void 0&&!(0,t.alwaysValidSchema)(s,a)}return St.default=n,St}var Pt={},Sn;function Pa(){if(Sn)return Pt;Sn=1,Object.defineProperty(Pt,"__esModule",{value:!0});const e=x(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:o}){n.if===void 0&&(0,e.checkStrictMode)(o,`"${r}" without "if" is ignored`)}};return Pt.default=t,Pt}var Pn;function Na(){if(Pn)return ft;Pn=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=Qn(),t=ha(),r=Xn(),n=ma(),o=pa(),s=ya(),u=ga(),a=Yn(),f=va(),y=_a(),p=$a(),b=wa(),w=ba(),_=Ea(),$=Sa(),E=Pa();function d(h=!1){const i=[p.default,b.default,w.default,_.default,$.default,E.default,u.default,a.default,s.default,f.default,y.default];return h?i.push(t.default,n.default):i.push(e.default,r.default),i.push(o.default),i}return ft.default=d,ft}var Nt={},kt={},Nn;function ka(){if(Nn)return kt;Nn=1,Object.defineProperty(kt,"__esModule",{value:!0});const e=J(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,o){const{gen:s,data:u,$data:a,schema:f,schemaCode:y,it:p}=n,{opts:b,errSchemaPath:w,schemaEnv:_,self:$}=p;if(!b.validateFormats)return;a?E():d();function E(){const h=s.scopeValue("formats",{ref:$.formats,code:b.code.formats}),i=s.const("fDef",(0,e._)`${h}[${y}]`),l=s.let("fType"),v=s.let("format");s.if((0,e._)`typeof ${i} == "object" && !(${i} instanceof RegExp)`,()=>s.assign(l,(0,e._)`${i}.type || "string"`).assign(v,(0,e._)`${i}.validate`),()=>s.assign(l,(0,e._)`"string"`).assign(v,i)),n.fail$data((0,e.or)(c(),g()));function c(){return b.strictSchema===!1?e.nil:(0,e._)`${y} && !${v}`}function g(){const S=_.$async?(0,e._)`(${i}.async ? await ${v}(${u}) : ${v}(${u}))`:(0,e._)`${v}(${u})`,j=(0,e._)`(typeof ${v} == "function" ? ${S} : ${v}.test(${u}))`;return(0,e._)`${v} && ${v} !== true && ${l} === ${o} && !${j}`}}function d(){const h=$.formats[f];if(!h){c();return}if(h===!0)return;const[i,l,v]=g(h);i===o&&n.pass(S());function c(){if(b.strictSchema===!1){$.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${f}" ignored in schema at path "${w}"`}}function g(j){const A=j instanceof RegExp?(0,e.regexpCode)(j):b.code.formats?(0,e._)`${b.code.formats}${(0,e.getProperty)(f)}`:void 0,z=s.scopeValue("formats",{key:f,ref:j,code:A});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,e._)`${z}.validate`]:["string",j,z]}function S(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!_.$async)throw new Error("async format in sync schema");return(0,e._)`await ${v}(${u})`}return typeof l=="function"?(0,e._)`${v}(${u})`:(0,e._)`${v}.test(${u})`}}}};return kt.default=r,kt}var kn;function Oa(){if(kn)return Nt;kn=1,Object.defineProperty(Nt,"__esModule",{value:!0});const t=[ka().default];return Nt.default=t,Nt}var Ie={},On;function Ra(){return On||(On=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.contentVocabulary=Ie.metadataVocabulary=void 0,Ie.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ie.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Ie}var Rn;function ja(){if(Rn)return Qe;Rn=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=ea(),t=fa(),r=Na(),n=Oa(),o=Ra(),s=[e.default,t.default,(0,r.default)(),n.default,o.metadataVocabulary,o.contentVocabulary];return Qe.default=s,Qe}var Ot={},Ue={},jn;function Ta(){if(jn)return Ue;jn=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(Ue.DiscrError=e={})),Ue}var Tn;function Ia(){if(Tn)return Ot;Tn=1,Object.defineProperty(Ot,"__esModule",{value:!0});const e=J(),t=Ta(),r=dr(),n=Kt(),o=x(),u={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:f}})=>a===t.DiscrError.Tag?`tag "${f}" must be string`:`value of tag "${f}" must be in oneOf`,params:({params:{discrError:a,tag:f,tagName:y}})=>(0,e._)`{error: ${a}, tag: ${y}, tagValue: ${f}}`},code(a){const{gen:f,data:y,schema:p,parentSchema:b,it:w}=a,{oneOf:_}=b;if(!w.opts.discriminator)throw new Error("discriminator: requires discriminator option");const $=p.propertyName;if(typeof $!="string")throw new Error("discriminator: requires propertyName");if(p.mapping)throw new Error("discriminator: mapping is not supported");if(!_)throw new Error("discriminator: requires oneOf keyword");const E=f.let("valid",!1),d=f.const("tag",(0,e._)`${y}${(0,e.getProperty)($)}`);f.if((0,e._)`typeof ${d} == "string"`,()=>h(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:d,tagName:$})),a.ok(E);function h(){const v=l();f.if(!1);for(const c in v)f.elseIf((0,e._)`${d} === ${c}`),f.assign(E,i(v[c]));f.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:d,tagName:$}),f.endIf()}function i(v){const c=f.name("valid"),g=a.subschema({keyword:"oneOf",schemaProp:v},c);return a.mergeEvaluated(g,e.Name),c}function l(){var v;const c={},g=j(b);let S=!0;for(let I=0;I<_.length;I++){let V=_[I];if(V?.$ref&&!(0,o.schemaHasRulesButRef)(V,w.self.RULES)){const U=V.$ref;if(V=r.resolveRef.call(w.self,w.schemaEnv.root,w.baseId,U),V instanceof r.SchemaEnv&&(V=V.schema),V===void 0)throw new n.default(w.opts.uriResolver,w.baseId,U)}const F=(v=V?.properties)===null||v===void 0?void 0:v[$];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${$}"`);S=S&&(g||j(V)),A(F,I)}if(!S)throw new Error(`discriminator: "${$}" must be required`);return c;function j({required:I}){return Array.isArray(I)&&I.includes($)}function A(I,V){if(I.const)z(I.const,V);else if(I.enum)for(const F of I.enum)z(F,V);else throw new Error(`discriminator: "properties/${$}" must have "const" or "enum"`)}function z(I,V){if(typeof I!="string"||I in c)throw new Error(`discriminator: "${$}" values must be unique strings`);c[I]=V}}}};return Ot.default=u,Ot}const Ca="http://json-schema.org/draft-07/schema#",qa="http://json-schema.org/draft-07/schema#",Aa="Core schema meta-schema",Ma={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Da=["object","boolean"],Va={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},za={$schema:Ca,$id:qa,title:Aa,definitions:Ma,type:Da,properties:Va,default:!0};var In;function Zn(){return In||(In=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Xs(),n=ja(),o=Ia(),s=za,u=["/properties"],a="http://json-schema.org/draft-07/schema";class f extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach($=>this.addVocabulary($)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const $=this.opts.$data?this.$dataMetaSchema(s,u):s;this.addMetaSchema($,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=f,e.exports=t=f,e.exports.Ajv=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var y=Lt();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return y.KeywordCxt}});var p=J();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var b=lr();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return b.default}});var w=Kt();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})})(Ge,Ge.exports)),Ge.exports}var Fa=Zn();const Ua=Gn(Fa);var Rt={exports:{}},sr={},Cn;function La(){return Cn||(Cn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(I,V){return{validate:I,compare:V}}e.fullFormats={date:t(s,u),time:t(f(!0),y),"date-time":t(w(!0),_),"iso-time":t(f(),p),"iso-date-time":t(w(),$),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:z,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:l,int32:{type:"number",validate:g},int64:{type:"number",validate:S},float:{type:"number",validate:j},double:{type:"number",validate:j},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,u),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,y),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,p),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,$),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(I){return I%4===0&&(I%100!==0||I%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(I){const V=n.exec(I);if(!V)return!1;const F=+V[1],U=+V[2],X=+V[3];return U>=1&&U<=12&&X>=1&&X<=(U===2&&r(F)?29:o[U])}function u(I,V){if(I&&V)return I>V?1:I<V?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function f(I){return function(F){const U=a.exec(F);if(!U)return!1;const X=+U[1],oe=+U[2],ue=+U[3],Z=U[4],ye=U[5]==="-"?-1:1,M=+(U[6]||0),k=+(U[7]||0);if(M>23||k>59||I&&!Z)return!1;if(X<=23&&oe<=59&&ue<60)return!0;const q=oe-k*ye,R=X-M*ye-(q<0?1:0);return(R===23||R===-1)&&(q===59||q===-1)&&ue<61}}function y(I,V){if(!(I&&V))return;const F=new Date("2020-01-01T"+I).valueOf(),U=new Date("2020-01-01T"+V).valueOf();if(F&&U)return F-U}function p(I,V){if(!(I&&V))return;const F=a.exec(I),U=a.exec(V);if(F&&U)return I=F[1]+F[2]+F[3],V=U[1]+U[2]+U[3],I>V?1:I<V?-1:0}const b=/t|\s/i;function w(I){const V=f(I);return function(U){const X=U.split(b);return X.length===2&&s(X[0])&&V(X[1])}}function _(I,V){if(!(I&&V))return;const F=new Date(I).valueOf(),U=new Date(V).valueOf();if(F&&U)return F-U}function $(I,V){if(!(I&&V))return;const[F,U]=I.split(b),[X,oe]=V.split(b),ue=u(F,X);if(ue!==void 0)return ue||y(U,oe)}const E=/\/|:/,d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(I){return E.test(I)&&d.test(I)}const i=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function l(I){return i.lastIndex=0,i.test(I)}const v=-2147483648,c=2**31-1;function g(I){return Number.isInteger(I)&&I<=c&&I>=v}function S(I){return Number.isInteger(I)}function j(){return!0}const A=/[^\\]\\Z/;function z(I){if(A.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}})(sr)),sr}var ar={},qn;function Ka(){return qn||(qn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Zn(),r=J(),n=r.operators,o={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:f})=>(0,r.str)`should be ${o[a].okStr} ${f}`,params:({keyword:a,schemaCode:f})=>(0,r._)`{comparison: ${o[a].okStr}, limit: ${f}}`};e.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:f,data:y,schemaCode:p,keyword:b,it:w}=a,{opts:_,self:$}=w;if(!_.validateFormats)return;const E=new t.KeywordCxt(w,$.RULES.all.format.definition,"format");E.$data?d():h();function d(){const l=f.scopeValue("formats",{ref:$.formats,code:_.code.formats}),v=f.const("fmt",(0,r._)`${l}[${E.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${v} != "object"`,(0,r._)`${v} instanceof RegExp`,(0,r._)`typeof ${v}.compare != "function"`,i(v)))}function h(){const l=E.schema,v=$.formats[l];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${b}": format "${l}" does not define "compare" function`);const c=f.scopeValue("formats",{key:l,ref:v,code:_.code.formats?(0,r._)`${_.code.formats}${(0,r.getProperty)(l)}`:void 0});a.fail$data(i(c))}function i(l){return(0,r._)`${l}.compare(${y}, ${p}) ${o[b].fail} 0`}},dependencies:["format"]};const u=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=u})(ar)),ar}var An;function Ha(){return An||(An=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=La(),n=Ka(),o=J(),s=new o.Name("fullFormats"),u=new o.Name("fastFormats"),a=(y,p={keywords:!0})=>{if(Array.isArray(p))return f(y,p,r.fullFormats,s),y;const[b,w]=p.mode==="fast"?[r.fastFormats,u]:[r.fullFormats,s],_=p.formats||r.formatNames;return f(y,_,b,w),p.keywords&&(0,n.default)(y),y};a.get=(y,p="full")=>{const w=(p==="fast"?r.fastFormats:r.fullFormats)[y];if(!w)throw new Error(`Unknown format "${y}"`);return w};function f(y,p,b,w){var _,$;(_=($=y.opts.code).formats)!==null&&_!==void 0||($.formats=(0,o._)`require("ajv-formats/dist/formats").${w}`);for(const E of p)y.addFormat(E,b[E])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(Rt,Rt.exports)),Rt.exports}var Ga=Ha();const Ja=Gn(Ga),ur=new Ua({strict:!1,validateSchema:!1,addUsedSchema:!1});Ja(ur);function Wa(e){return e.startsWith("iglu:")?e.slice(5):null}function Ba(e){return e.includes("simplybusiness")}function Mn(e){const t=e.split("-");if(t.length!==3)return null;const r=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10);return isNaN(r)||isNaN(n)||isNaN(o)?null:{major:r,minor:n,patch:o}}function xa(e,t){return e.major!==t.major?e.major-t.major:e.minor!==t.minor?e.minor-t.minor:e.patch-t.patch}async function Qa(e){try{const t=e.split("/");if(t.length<2)return null;const r=t[0],n=t[1],o=t[3],s=Mn(o);if(!s)return null;const u=await fetch(`/api/schema-latest?vendor=${encodeURIComponent(r)}&name=${encodeURIComponent(n)}`);if(!u.ok)return null;const f=(await u.json()).latestVersion;if(!f)return null;const y=Mn(f);return y&&xa(y,s)>0?`Newer schema version ${f} is available (currently using ${o})`:null}catch{return null}}async function Xa(e){try{const t=await fetch(`/schemas/${e}`);if(!t.ok)return null;const r=await t.json();return r.$schema&&delete r.$schema,r}catch(t){return console.warn(`Failed to load schema: ${e}`,t),null}}function Ya(e,t){try{const r=ur.compile(t);return r(e)?{isValid:!0}:{isValid:!1,error:r.errors?ur.errorsText(r.errors):"Validation failed"}}catch(r){return{isValid:!1,error:`Schema compilation error: ${r instanceof Error?r.message:"Unknown error"}`}}}async function es(e,t=!1){const r=[];if(!e||typeof e!="object")return r;const n=t||e.kind==="Self-Describing Event";if(e.schema&&typeof e.schema=="string"&&n&&Ba(e.schema)){const o=Wa(e.schema);if(o){const s=await Xa(o);if(s)if(e.data!==void 0){const u=Ya(e.data,s);if(u.isValid){const a=await Qa(o);a&&(u.warning=a)}r.push(u)}else r.push({isValid:!1,error:"No data found to validate against schema"});else r.push({isValid:"unknown"})}else r.push({isValid:!1,error:"Invalid schema URI format"})}for(const[o,s]of Object.entries(e))if(s&&typeof s=="object"){const u=await es(s,n);r.push(...u)}return r}async function Za(e){const t=r=>{if(!r||typeof r!="object")return!1;if(r.kind==="Self-Describing Event")return!0;for(const n of Object.values(r))if(t(n))return!0;return!1};return t(e)?await es(e,!1):[]}async function ei(e){const t=await Za(e);if(t.length===0)return{isValid:!0};const r=t.find(o=>o.isValid===!1);if(r)return r;const n=t.find(o=>o.isValid===!0&&o.warning);return n||t[0]}const ti=e=>{const[t,r]=Ne("unknown"),[n,o]=Ne(null),[s,u]=Ne(null),a=(f,y=null,p=null)=>{r(f),o(y),u(p)};return zn(async()=>{const f=e();if(f)try{const y=await ei(f);y.isValid===!0?a(y.warning?"warning":"valid",null,y.warning||null):y.isValid===!1?a("invalid",y.error||"Validation failed"):a("unknown")}catch(y){console.error("Validation error:",y),a("invalid","Failed to validate event")}}),{validationStatus:t,validationError:n,validationWarning:s}};var ri=le("<div>");const ni=e=>{const t=()=>{switch(e.status){case"valid":return"bg-green-500";case"invalid":return"bg-red-500";case"warning":return"bg-orange-500";case"unknown":default:return"bg-gray-400 animate-pulse shadow-lg"}};return(()=>{var r=ri();return Se(()=>zt(r,`w-4 h-4 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-sm ${t()}`)),r})()};var si=le('<div><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">');const ai=e=>(()=>{var t=si();return Se(r=>{var n=`transition-transform duration-100 flex-shrink-0 ${e.class||""}`,o=!!e.isOpen;return n!==r.e&&zt(t,r.e=n),o!==r.t&&t.classList.toggle("rotate-90",r.t=o),r},{e:void 0,t:void 0}),t})();var ii=le('<button class="w-full flex items-center gap-4 p-4 hover:bg-card transition-colors duration-100 cursor-pointer"><span class="flex-grow text-left">');const oi=e=>(()=>{var t=ii(),r=t.firstChild;return ws(t,"click",e.onToggle),te(t,he(ni,{get status(){return e.status}}),r),te(r,()=>e.title),te(t,he(ai,{get isOpen(){return e.isOpen}}),null),t})();$s(["click"]);var ui=le('<div><strong class=font-bold>: </strong><span class="block sm:inline">');const ci=e=>{const t=()=>{switch(e.type){case"error":return"bg-red-600 border-red-500";case"warning":return"bg-orange-600 border-orange-500";case"info":return"bg-blue-600 border-blue-500";case"success":return"bg-green-600 border-green-500";default:return"bg-gray-600 border-gray-500"}};return(()=>{var r=ui(),n=r.firstChild,o=n.firstChild,s=n.nextSibling;return te(n,()=>e.title,o),te(s,()=>e.message),Se(()=>zt(r,`${t()} border text-white px-4 py-3 rounded-lg ${e.class||""}`)),r})()};var li=le('<div><pre class="text-sm text-gray-300 whitespace-pre-wrap break-words overflow-y-auto max-h-80 scrollbar-themed">');const di=e=>(()=>{var t=li(),r=t.firstChild;return te(r,()=>e.text),Se(()=>zt(t,`bg-code dark:bg-code p-4 pr-0 rounded-2xl ${e.class||""}`)),t})();var fi=le('<div class="transition-all duration-100 overflow-hidden">');const hi=e=>{const t=()=>e.status==="invalid"&&e.error?{type:"error",title:"Validation Error",message:e.error}:e.status==="warning"&&e.warning?{type:"warning",title:"Schema Warning",message:e.warning}:null;return(()=>{var r=fi();return te(r,()=>{const n=t();return n?he(ci,{get type(){return n.type},get title(){return n.title},get message(){return n.message},class:"mb-4 mx-4"}):null},null),te(r,he(di,{get text(){return e.codeText},class:"mx-4 mb-4"}),null),Se(n=>{var o=!!e.isOpen,s=!e.isOpen;return o!==n.e&&r.classList.toggle("max-h-[32rem]",n.e=o),s!==n.t&&r.classList.toggle("max-h-0",n.t=s),n},{e:void 0,t:void 0}),r})()};var mi=le('<div class="p-4 bg-card dark:bg-card rounded-2xl text-white overflow-hidden transition-all duration-100 shadow-inner-border dark:shadow-inner-border mb-2"style=view-transition-name:event-card>');const pi=e=>{const[t,r]=Ne(!1),n=ke(()=>{try{const p=JSON.parse(e.event);return Cs(p)}catch(p){return console.error("Failed to parse event JSON:",p),null}}),{validationStatus:o,validationError:s,validationWarning:u}=ti(n),a=n();if(!a)return null;const f=As(a),y=JSON.stringify(a,null,2);return(()=>{var p=mi();return bs(p,"animation","slideInFromTop 0.3s ease-out"),te(p,he(oi,{title:f,get status(){return o()},get isOpen(){return t()},onToggle:()=>r(!t())}),null),te(p,he(hi,{get isOpen(){return t()},get status(){return o()},get error(){return s()},get warning(){return u()},codeText:y}),null),p})()};var yi=le('<div class="grid grid-cols-1 gap-4">'),gi=le('<div class="text-center text-gray-400 py-8">'),vi=le("<div class=event-card-wrapper>");const _i=e=>(()=>{var t=yi();return te(t,he(ys,{get when(){return e.subscription.events().length>0},get fallback(){return(()=>{var r=gi();return te(r,()=>e.subscription.isConnected()?"Waiting for events...":"Connecting..."),r})()},get children(){return he(ps,{get each(){return e.subscription.events()},children:(r,n)=>{const o=Is(r),s=n()===0;return(()=>{var u=vi();return u.classList.toggle("animate-slide-in",!!s),te(u,he(pi,{get kind(){return o.kind},get event(){return o.event}})),u})()}})}})),t})();var $i=le('<div class="min-h-screen bg-main dark:bg-main overflow-hidden text-white flex flex-col overflow-y-auto">');const wi=()=>{const e=Ss("/api/events");return(()=>{var t=$i();return te(t,he(Rs,{subscription:e}),null),te(t,he(Ts,{get children(){return he(_i,{subscription:e})}}),null),t})()},bi=document.getElementById("root");_s(()=>he(wi,{}),bi);

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const Ca=!1,Da=(e,t)=>e===t,Ma=Symbol("solid-track"),wr={equals:Da};let sa=ua;const Qe=1,Er=2,aa={owned:null,cleanups:null,context:null,owner:null};var de=null;let Ur=null,ja=null,ue=null,we=null,Be=null,Ar=0;function vr(e,t){const r=ue,n=de,o=e.length===0,s=t===void 0?n:t,c=o?aa:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=o?e:()=>e(()=>dt(()=>St(c)));de=c,ue=null;try{return Pt(a,!0)}finally{ue=r,de=n}}function Xe(e,t){t=t?Object.assign({},wr,t):wr;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=o=>(typeof o=="function"&&(o=o(r.value)),ca(r,o));return[ia.bind(r),n]}function Je(e,t,r){const n=dn(e,t,!1,Qe);Tt(n)}function oa(e,t,r){sa=Fa;const n=dn(e,t,!1,Qe);n.user=!0,Be?Be.push(n):Tt(n)}function Ze(e,t,r){r=r?Object.assign({},wr,r):wr;const n=dn(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Tt(n),ia.bind(n)}function dt(e){if(ue===null)return e();const t=ue;ue=null;try{return e()}finally{ue=t}}function La(e){return de===null||(de.cleanups===null?de.cleanups=[e]:de.cleanups.push(e)),e}function qa(e){const t=Ze(e),r=Ze(()=>an(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function ia(){if(this.sources&&this.state)if(this.state===Qe)Tt(this);else{const e=we;we=null,Pt(()=>Sr(this),!1),we=e}if(ue){const e=this.observers?this.observers.length:0;ue.sources?(ue.sources.push(this),ue.sourceSlots.push(e)):(ue.sources=[this],ue.sourceSlots=[e]),this.observers?(this.observers.push(ue),this.observerSlots.push(ue.sources.length-1)):(this.observers=[ue],this.observerSlots=[ue.sources.length-1])}return this.value}function ca(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&Pt(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],c=Ur&&Ur.running;c&&Ur.disposed.has(s),(c?!s.tState:!s.state)&&(s.pure?we.push(s):Be.push(s),s.observers&&la(s)),c||(s.state=Qe)}if(we.length>1e6)throw we=[],new Error},!1)),t}function Tt(e){if(!e.fn)return;St(e);const t=Ar;za(e,e.value,t)}function za(e,t,r){let n;const o=de,s=ue;ue=de=e;try{n=e.fn(t)}catch(c){return e.pure&&(e.state=Qe,e.owned&&e.owned.forEach(St),e.owned=null),e.updatedAt=r+1,fa(c)}finally{ue=s,de=o}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?ca(e,n):e.value=n,e.updatedAt=r)}function dn(e,t,r,n=Qe,o){const s={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:de,context:de?de.context:null,pure:r};return de===null||de!==aa&&(de.owned?de.owned.push(s):de.owned=[s]),s}function br(e){if(e.state===0)return;if(e.state===Er)return Sr(e);if(e.suspense&&dt(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ar);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===Qe)Tt(e);else if(e.state===Er){const n=we;we=null,Pt(()=>Sr(e,t[0]),!1),we=n}}function Pt(e,t){if(we)return e();let r=!1;t||(we=[]),Be?r=!0:Be=[],Ar++;try{const n=e();return Ua(r),n}catch(n){r||(Be=null),we=null,fa(n)}}function Ua(e){if(we&&(ua(we),we=null),e)return;const t=Be;Be=null,t.length&&Pt(()=>sa(t),!1)}function ua(e){for(let t=0;t<e.length;t++)br(e[t])}function Fa(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:br(n)}for(t=0;t<r;t++)br(e[t])}function Sr(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const o=n.state;o===Qe?n!==t&&(!n.updatedAt||n.updatedAt<Ar)&&br(n):o===Er&&Sr(n,t)}}}function la(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Er,r.pure?we.push(r):Be.push(r),r.observers&&la(r))}}function St(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),o=r.observers;if(o&&o.length){const s=o.pop(),c=r.observerSlots.pop();n<o.length&&(s.sourceSlots[c]=n,o[n]=s,r.observerSlots[n]=c)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)St(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)St(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Va(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function fa(e,t=de){throw Va(e)}function an(e){if(typeof e=="function"&&!e.length)return an(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=an(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}const Ha=Symbol("fallback");function Rn(e){for(let t=0;t<e.length;t++)e[t]()}function xa(e,t,r={}){let n=[],o=[],s=[],c=0,a=t.length>1?[]:null;return La(()=>Rn(s)),()=>{let d=e()||[],m=d.length,y,E;return d[Ma],dt(()=>{let $,_,b,f,h,i,l,g,u;if(m===0)c!==0&&(Rn(s),s=[],n=[],o=[],c=0,a&&(a=[])),r.fallback&&(n=[Ha],o[0]=vr(v=>(s[0]=v,r.fallback())),c=1);else if(c===0){for(o=new Array(m),E=0;E<m;E++)n[E]=d[E],o[E]=vr(w);c=m}else{for(b=new Array(m),f=new Array(m),a&&(h=new Array(m)),i=0,l=Math.min(c,m);i<l&&n[i]===d[i];i++);for(l=c-1,g=m-1;l>=i&&g>=i&&n[l]===d[g];l--,g--)b[g]=o[l],f[g]=s[l],a&&(h[g]=a[l]);for($=new Map,_=new Array(g+1),E=g;E>=i;E--)u=d[E],y=$.get(u),_[E]=y===void 0?-1:y,$.set(u,E);for(y=i;y<=l;y++)u=n[y],E=$.get(u),E!==void 0&&E!==-1?(b[E]=o[y],f[E]=s[y],a&&(h[E]=a[y]),E=_[E],$.set(u,E)):s[y]();for(E=i;E<m;E++)E in b?(o[E]=b[E],s[E]=f[E],a&&(a[E]=h[E],a[E](E))):o[E]=vr(w);o=o.slice(0,c=m),n=d.slice(0)}return o});function w($){if(s[E]=$,a){const[_,b]=Xe(E);return a[E]=b,t(d[E],_)}return t(d[E])}}}function Re(e,t){return dt(()=>e(t||{}))}const Ka=e=>`Stale read from <${e}>.`;function Ga(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Ze(xa(()=>e.each,e.children,t||void 0))}function Wa(e){const t=e.keyed,r=Ze(()=>e.when,void 0,void 0),n=t?r:Ze(r,void 0,{equals:(o,s)=>!o==!s});return Ze(()=>{const o=n();if(o){const s=e.children;return typeof s=="function"&&s.length>0?dt(()=>s(t?o:()=>{if(!dt(n))throw Ka("Show");return r()})):s}return e.fallback},void 0,void 0)}const Ba=e=>Ze(()=>e());function Ja(e,t,r){let n=r.length,o=t.length,s=n,c=0,a=0,d=t[o-1].nextSibling,m=null;for(;c<o||a<s;){if(t[c]===r[a]){c++,a++;continue}for(;t[o-1]===r[s-1];)o--,s--;if(o===c){const y=s<n?a?r[a-1].nextSibling:r[s-a]:d;for(;a<s;)e.insertBefore(r[a++],y)}else if(s===a)for(;c<o;)(!m||!m.has(t[c]))&&t[c].remove(),c++;else if(t[c]===r[s-1]&&r[a]===t[o-1]){const y=t[--o].nextSibling;e.insertBefore(r[a++],t[c++].nextSibling),e.insertBefore(r[--s],y),t[o]=r[s]}else{if(!m){m=new Map;let E=a;for(;E<s;)m.set(r[E],E++)}const y=m.get(t[c]);if(y!=null)if(a<y&&y<s){let E=c,w=1,$;for(;++E<o&&E<s&&!(($=m.get(t[E]))==null||$!==y+w);)w++;if(w>y-a){const _=t[c];for(;a<y;)e.insertBefore(r[a++],_)}else e.replaceChild(r[a++],t[c++])}else c++;else t[c++].remove()}}}const On="_$DX_DELEGATE";function Ya(e,t,r,n={}){let o;return vr(s=>{o=s,t===document?e():he(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{o(),t.textContent=""}}function Pe(e,t,r,n){let o;const s=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},c=()=>(o||(o=s())).cloneNode(!0);return c.cloneNode=c,c}function Xa(e,t=window.document){const r=t[On]||(t[On]=new Set);for(let n=0,o=e.length;n<o;n++){const s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,eo))}}function Rr(e,t){t==null?e.removeAttribute("class"):e.className=t}function Za(e,t,r,n){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function Qa(e,t,r){e.style.setProperty(t,r)}function he(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Tr(e,t,n,r);Je(o=>Tr(e,t(),o,r),n)}function eo(e){let t=e.target;const r=`$$${e.type}`,n=e.target,o=e.currentTarget,s=d=>Object.defineProperty(e,"target",{configurable:!0,value:d}),c=()=>{const d=t[r];if(d&&!t.disabled){const m=t[`${r}Data`];if(m!==void 0?d.call(t,m,e):d.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},a=()=>{for(;c()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const d=e.composedPath();s(d[0]);for(let m=0;m<d.length-2&&(t=d[m],!!c());m++){if(t._$host){t=t._$host,a();break}if(t.parentNode===o)break}}else a();s(n)}function Tr(e,t,r,n,o){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,c=n!==void 0;if(e=c&&r[0]&&r[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===r))return r;if(c){let a=r[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),r=ut(e,r,n,a)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||s==="boolean")r=ut(e,r,n);else{if(s==="function")return Je(()=>{let a=t();for(;typeof a=="function";)a=a();r=Tr(e,a,r,n)}),()=>r;if(Array.isArray(t)){const a=[],d=r&&Array.isArray(r);if(on(a,t,r,o))return Je(()=>r=Tr(e,a,r,n,!0)),()=>r;if(a.length===0){if(r=ut(e,r,n),c)return r}else d?r.length===0?kn(e,a,n):Ja(e,r,a):(r&&ut(e),kn(e,a));r=a}else if(t.nodeType){if(Array.isArray(r)){if(c)return r=ut(e,r,n,t);ut(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function on(e,t,r,n){let o=!1;for(let s=0,c=t.length;s<c;s++){let a=t[s],d=r&&r[e.length],m;if(!(a==null||a===!0||a===!1))if((m=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))o=on(e,a,d)||o;else if(m==="function")if(n){for(;typeof a=="function";)a=a();o=on(e,Array.isArray(a)?a:[a],Array.isArray(d)?d:[d])||o}else e.push(a),o=!0;else{const y=String(a);d&&d.nodeType===3&&d.data===y?e.push(d):e.push(document.createTextNode(y))}}return o}function kn(e,t,r=null){for(let n=0,o=t.length;n<o;n++)e.insertBefore(t[n],r)}function ut(e,t,r,n){if(r===void 0)return e.textContent="";const o=n||document.createTextNode("");if(t.length){let s=!1;for(let c=t.length-1;c>=0;c--){const a=t[c];if(o!==a){const d=a.parentNode===e;!s&&!c?d?e.replaceChild(o,a):e.insertBefore(o,r):d&&a.remove()}else s=!0}}else e.insertBefore(o,r);return[o]}function to(e="/api/events"){const[t,r]=Xe([]),[n,o]=Xe(!1),[s,c]=Xe(null);let a=null,d=0,m=0;const y=5,E=()=>{if(!a)try{c(null),a=new EventSource(e),o(!0),m=0,a.addEventListener("message",$=>{try{const _=JSON.parse($.data),b={id:`event-${++d}`,kind:_.schema||"unknown",event:JSON.stringify(_),timestamp:Date.now()};r(f=>[b,...f]),m=0}catch(_){console.error("Error parsing SSE message:",_),c(`Failed to parse event: ${_ instanceof Error?_.message:String(_)}`)}}),a.addEventListener("open",()=>{o(!0),c(null),m=0,console.log("SSE connection established")}),a.addEventListener("error",()=>{const $=a?.readyState;o(!1),m++,$===EventSource.CLOSED?c("Connection closed. Server may be unavailable."):m>=y?(c("Connection failed. Unable to reach server."),a&&(a.close(),a=null)):$===EventSource.CONNECTING?c(`Reconnecting... (attempt ${m}/${y})`):c(`Connection error. Reconnecting... (attempt ${m}/${y})`),console.error("SSE connection error, readyState:",$,"attempts:",m)}),a.onerror=()=>{o(!1),c("Failed to maintain connection to event stream")}}catch($){c(`Failed to connect: ${$ instanceof Error?$.message:String($)}`),o(!1)}},w=()=>{a&&(a.close(),a=null,o(!1))};return oa(()=>(E(),()=>{w()})),{events:t,isConnected:n,error:s,connect:E,disconnect:w}}var ro=Pe('<div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-red-500"></div><span class="text-sm text-red-400">Error: '),no=Pe('<div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div><span class=text-sm>');const so=e=>{if(e.subscription.error())return(()=>{var r=ro(),n=r.firstChild,o=n.nextSibling;return o.firstChild,he(o,()=>e.subscription.error(),null),r})();const t=()=>e.subscription.isConnected();return(()=>{var r=no(),n=r.firstChild,o=n.nextSibling;return he(o,()=>t()?"Connected":"Disconnected"),Je(s=>{var c=!!t(),a=!t();return c!==s.e&&n.classList.toggle("bg-green-500",s.e=c),a!==s.t&&n.classList.toggle("bg-red-500",s.t=a),s},{e:void 0,t:void 0}),r})()};var ao=Pe('<header class="fixed w-full px-8 py-4 bg-main dark:bg-main flex items-center justify-between"><h1 class=text-2xl>Goplow');const oo=e=>(()=>{var t=ao();return t.firstChild,he(t,(()=>{var r=Ba(()=>!!e.subscription);return()=>r()&&Re(so,{get subscription(){return e.subscription}})})(),null),t})();var io=Pe('<main class="flex-grow px-8 py-16"><div>');const co=e=>{const t=qa(()=>e.children);return(()=>{var r=io(),n=r.firstChild;return he(n,t),r})()};function uo(e){return{...e,kind:e.kind.split("/").pop()||"event"}}function In(e){try{const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=atob(t),n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return new TextDecoder("utf-8").decode(n)}catch{return e}}function lo(e){const t={...e.data};let r,n;if(t.payload)if(typeof t.payload=="string")try{const o=In(t.payload);r=JSON.parse(o)}catch{r=void 0}else typeof t.payload=="object"&&(r=t.payload);if(t.context)if(typeof t.context=="string")try{const o=In(t.context);n=JSON.parse(o)}catch{n=void 0}else typeof t.context=="object"&&(n=t.context);return{...e,data:{...t,payload:r,context:n}}}const fo=e=>e.match(/\/([^\/]+)\/jsonschema\//)?.[1]??"",ho=e=>{const{kind:t,payload:r}=e.data;return t?t==="Structured Event"?("action"in e.data?e.data.action:void 0)??"Unknown Action":t==="Self-Describing Event"?r?typeof r.data=="object"&&!Array.isArray(r.data)&&"schema"in r.data?fo(r.data.schema):"":"Unknown Self-Describing Event":"Page View":"Unknown Event"};function da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var It={exports:{}},Fr={},xe={},nt={},Vr={},Hr={},xr={},Cn;function Pr(){return Cn||(Cn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(i){if(super(),!e.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((l,g)=>`${l}${g}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((l,g)=>(g instanceof r&&(l[g.str]=(l[g.str]||0)+1),l),{})}}e._Code=n,e.nil=new n("");function o(h,...i){const l=[h[0]];let g=0;for(;g<i.length;)a(l,i[g]),l.push(h[++g]);return new n(l)}e._=o;const s=new n("+");function c(h,...i){const l=[$(h[0])];let g=0;for(;g<i.length;)l.push(s),a(l,i[g]),l.push(s,$(h[++g]));return d(l),new n(l)}e.str=c;function a(h,i){i instanceof n?h.push(...i._items):i instanceof r?h.push(i):h.push(E(i))}e.addCodeArg=a;function d(h){let i=1;for(;i<h.length-1;){if(h[i]===s){const l=m(h[i-1],h[i+1]);if(l!==void 0){h.splice(i-1,3,l);continue}h[i++]="+"}i++}}function m(h,i){if(i==='""')return h;if(h==='""')return i;if(typeof h=="string")return i instanceof r||h[h.length-1]!=='"'?void 0:typeof i!="string"?`${h.slice(0,-1)}${i}"`:i[0]==='"'?h.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(h instanceof r))return`"${h}${i.slice(1)}`}function y(h,i){return i.emptyStr()?h:h.emptyStr()?i:c`${h}${i}`}e.strConcat=y;function E(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:$(Array.isArray(h)?h.join(","):h)}function w(h){return new n($(h))}e.stringify=w;function $(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=$;function _(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):o`[${h}]`}e.getProperty=_;function b(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=b;function f(h){return new n(h.toString())}e.regexpCode=f})(xr)),xr}var Kr={},Dn;function Mn(){return Dn||(Dn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Pr();class r extends Error{constructor(m){super(`CodeGen: "code" for ${m} not defined`),this.value=m.value}}var n;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:m,parent:y}={}){this._names={},this._prefixes=m,this._parent=y}toName(m){return m instanceof t.Name?m:this.name(m)}name(m){return new t.Name(this._newName(m))}_newName(m){const y=this._names[m]||this._nameGroup(m);return`${m}${y.index++}`}_nameGroup(m){var y,E;if(!((E=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||E===void 0)&&E.has(m)||this._prefixes&&!this._prefixes.has(m))throw new Error(`CodeGen: prefix "${m}" is not allowed in this scope`);return this._names[m]={prefix:m,index:0}}}e.Scope=o;class s extends t.Name{constructor(m,y){super(y),this.prefix=m}setValue(m,{property:y,itemIndex:E}){this.value=m,this.scopePath=(0,t._)`.${new t.Name(y)}[${E}]`}}e.ValueScopeName=s;const c=(0,t._)`\n`;class a extends o{constructor(m){super(m),this._values={},this._scope=m.scope,this.opts={...m,_n:m.lines?c:t.nil}}get(){return this._scope}name(m){return new s(m,this._newName(m))}value(m,y){var E;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(m),{prefix:$}=w,_=(E=y.key)!==null&&E!==void 0?E:y.ref;let b=this._values[$];if(b){const i=b.get(_);if(i)return i}else b=this._values[$]=new Map;b.set(_,w);const f=this._scope[$]||(this._scope[$]=[]),h=f.length;return f[h]=y.ref,w.setValue(y,{property:$,itemIndex:h}),w}getValue(m,y){const E=this._values[m];if(E)return E.get(y)}scopeRefs(m,y=this._values){return this._reduceValues(y,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,t._)`${m}${E.scopePath}`})}scopeCode(m=this._values,y,E){return this._reduceValues(m,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},y,E)}_reduceValues(m,y,E={},w){let $=t.nil;for(const _ in m){const b=m[_];if(!b)continue;const f=E[_]=E[_]||new Map;b.forEach(h=>{if(f.has(h))return;f.set(h,n.Started);let i=y(h);if(i){const l=this.opts.es5?e.varKinds.var:e.varKinds.const;$=(0,t._)`${$}${l} ${h} = ${i};${this.opts._n}`}else if(i=w?.(h))$=(0,t._)`${$}${i}${this.opts._n}`;else throw new r(h);f.set(h,n.Completed)})}return $}}e.ValueScope=a})(Kr)),Kr}var jn;function X(){return jn||(jn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Pr(),r=Mn();var n=Pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var o=Mn();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(p,S){return this}}class c extends s{constructor(p,S,I){super(),this.varKind=p,this.name=S,this.rhs=I}render({es5:p,_n:S}){const I=p?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${K};`+S}optimizeNames(p,S){if(p[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,p,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(p,S,I){super(),this.lhs=p,this.rhs=S,this.sideEffects=I}render({_n:p}){return`${this.lhs} = ${this.rhs};`+p}optimizeNames(p,S){if(!(this.lhs instanceof t.Name&&!p[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,p,S),this}get names(){const p=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(p,this.rhs)}}class d extends a{constructor(p,S,I,K){super(p,I,K),this.op=S}render({_n:p}){return`${this.lhs} ${this.op}= ${this.rhs};`+p}}class m extends s{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`${this.label}:`+p}}class y extends s{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`break${this.label?` ${this.label}`:""};`+p}}class E extends s{constructor(p){super(),this.error=p}render({_n:p}){return`throw ${this.error};`+p}get names(){return this.error.names}}class w extends s{constructor(p){super(),this.code=p}render({_n:p}){return`${this.code};`+p}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(p,S){return this.code=H(this.code,p,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class $ extends s{constructor(p=[]){super(),this.nodes=p}render(p){return this.nodes.reduce((S,I)=>S+I.render(p),"")}optimizeNodes(){const{nodes:p}=this;let S=p.length;for(;S--;){const I=p[S].optimizeNodes();Array.isArray(I)?p.splice(S,1,...I):I?p[S]=I:p.splice(S,1)}return p.length>0?this:void 0}optimizeNames(p,S){const{nodes:I}=this;let K=I.length;for(;K--;){const G=I[K];G.optimizeNames(p,S)||(te(p,G.names),I.splice(K,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((p,S)=>U(p,S.names),{})}}class _ extends ${render(p){return"{"+p._n+super.render(p)+"}"+p._n}}class b extends ${}class f extends _{}f.kind="else";class h extends _{constructor(p,S){super(S),this.condition=p}render(p){let S=`if(${this.condition})`+super.render(p);return this.else&&(S+="else "+this.else.render(p)),S}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(p===!0)return this.nodes;let S=this.else;if(S){const I=S.optimizeNodes();S=this.else=Array.isArray(I)?new f(I):I}if(S)return p===!1?S instanceof h?S:S.nodes:this.nodes.length?this:new h(ge(p),S instanceof h?[S]:S.nodes);if(!(p===!1||!this.nodes.length))return this}optimizeNames(p,S){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(p,S),!!(super.optimizeNames(p,S)||this.else))return this.condition=H(this.condition,p,S),this}get names(){const p=super.names;return V(p,this.condition),this.else&&U(p,this.else.names),p}}h.kind="if";class i extends _{}i.kind="for";class l extends i{constructor(p){super(),this.iteration=p}render(p){return`for(${this.iteration})`+super.render(p)}optimizeNames(p,S){if(super.optimizeNames(p,S))return this.iteration=H(this.iteration,p,S),this}get names(){return U(super.names,this.iteration.names)}}class g extends i{constructor(p,S,I,K){super(),this.varKind=p,this.name=S,this.from=I,this.to=K}render(p){const S=p.es5?r.varKinds.var:this.varKind,{name:I,from:K,to:G}=this;return`for(${S} ${I}=${K}; ${I}<${G}; ${I}++)`+super.render(p)}get names(){const p=V(super.names,this.from);return V(p,this.to)}}class u extends i{constructor(p,S,I,K){super(),this.loop=p,this.varKind=S,this.name=I,this.iterable=K}render(p){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(p)}optimizeNames(p,S){if(super.optimizeNames(p,S))return this.iterable=H(this.iterable,p,S),this}get names(){return U(super.names,this.iterable.names)}}class v extends _{constructor(p,S,I){super(),this.name=p,this.args=S,this.async=I}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}v.kind="func";class T extends ${render(p){return"return "+super.render(p)}}T.kind="return";class k extends _{render(p){let S="try"+super.render(p);return this.catch&&(S+=this.catch.render(p)),this.finally&&(S+=this.finally.render(p)),S}optimizeNodes(){var p,S;return super.optimizeNodes(),(p=this.catch)===null||p===void 0||p.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(p,S){var I,K;return super.optimizeNames(p,S),(I=this.catch)===null||I===void 0||I.optimizeNames(p,S),(K=this.finally)===null||K===void 0||K.optimizeNames(p,S),this}get names(){const p=super.names;return this.catch&&U(p,this.catch.names),this.finally&&U(p,this.finally.names),p}}class j extends _{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}j.kind="catch";class F extends _{render(p){return"finally"+super.render(p)}}F.kind="finally";class C{constructor(p,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=p,this._scope=new r.Scope({parent:p}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(p){return this._scope.name(p)}scopeName(p){return this._extScope.name(p)}scopeValue(p,S){const I=this._extScope.value(p,S);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(p,S){return this._extScope.getValue(p,S)}scopeRefs(p){return this._extScope.scopeRefs(p,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(p,S,I,K){const G=this._scope.toName(S);return I!==void 0&&K&&(this._constants[G.str]=I),this._leafNode(new c(p,G,I)),G}const(p,S,I){return this._def(r.varKinds.const,p,S,I)}let(p,S,I){return this._def(r.varKinds.let,p,S,I)}var(p,S,I){return this._def(r.varKinds.var,p,S,I)}assign(p,S,I){return this._leafNode(new a(p,S,I))}add(p,S){return this._leafNode(new d(p,e.operators.ADD,S))}code(p){return typeof p=="function"?p():p!==t.nil&&this._leafNode(new w(p)),this}object(...p){const S=["{"];for(const[I,K]of p)S.length>1&&S.push(","),S.push(I),(I!==K||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,K));return S.push("}"),new t._Code(S)}if(p,S,I){if(this._blockNode(new h(p)),S&&I)this.code(S).else().code(I).endIf();else if(S)this.code(S).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(p){return this._elseNode(new h(p))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(h,f)}_for(p,S){return this._blockNode(p),S&&this.code(S).endFor(),this}for(p,S){return this._for(new l(p),S)}forRange(p,S,I,K,G=this.opts.es5?r.varKinds.var:r.varKinds.let){const ee=this._scope.toName(p);return this._for(new g(G,ee,S,I),()=>K(ee))}forOf(p,S,I,K=r.varKinds.const){const G=this._scope.toName(p);if(this.opts.es5){const ee=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${ee}.length`,Z=>{this.var(G,(0,t._)`${ee}[${Z}]`),I(G)})}return this._for(new u("of",K,G,S),()=>I(G))}forIn(p,S,I,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(p,(0,t._)`Object.keys(${S})`,I);const G=this._scope.toName(p);return this._for(new u("in",K,G,S),()=>I(G))}endFor(){return this._endBlockNode(i)}label(p){return this._leafNode(new m(p))}break(p){return this._leafNode(new y(p))}return(p){const S=new T;if(this._blockNode(S),this.code(p),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(p,S,I){if(!S&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new k;if(this._blockNode(K),this.code(p),S){const G=this.name("e");this._currNode=K.catch=new j(G),S(G)}return I&&(this._currNode=K.finally=new F,this.code(I)),this._endBlockNode(j,F)}throw(p){return this._leafNode(new E(p))}block(p,S){return this._blockStarts.push(this._nodes.length),p&&this.code(p).endBlock(S),this}endBlock(p){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-S;if(I<0||p!==void 0&&I!==p)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${p} expected`);return this._nodes.length=S,this}func(p,S=t.nil,I,K){return this._blockNode(new v(p,S,I)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(v)}optimize(p=1){for(;p-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(p){return this._currNode.nodes.push(p),this}_blockNode(p){this._currNode.nodes.push(p),this._nodes.push(p)}_endBlockNode(p,S){const I=this._currNode;if(I instanceof p||S&&I instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${p.kind}/${S.kind}`:p.kind}"`)}_elseNode(p){const S=this._currNode;if(!(S instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=p,this}get _root(){return this._nodes[0]}get _currNode(){const p=this._nodes;return p[p.length-1]}set _currNode(p){const S=this._nodes;S[S.length-1]=p}}e.CodeGen=C;function U(R,p){for(const S in p)R[S]=(R[S]||0)+(p[S]||0);return R}function V(R,p){return p instanceof t._CodeOrName?U(R,p.names):R}function H(R,p,S){if(R instanceof t.Name)return I(R);if(!K(R))return R;return new t._Code(R._items.reduce((G,ee)=>(ee instanceof t.Name&&(ee=I(ee)),ee instanceof t._Code?G.push(...ee._items):G.push(ee),G),[]));function I(G){const ee=S[G.str];return ee===void 0||p[G.str]!==1?G:(delete p[G.str],ee)}function K(G){return G instanceof t._Code&&G._items.some(ee=>ee instanceof t.Name&&p[ee.str]===1&&S[ee.str]!==void 0)}}function te(R,p){for(const S in p)R[S]=(R[S]||0)-(p[S]||0)}function ge(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${M(R)}`}e.not=ge;const ye=N(e.operators.AND);function ne(...R){return R.reduce(ye)}e.and=ne;const Oe=N(e.operators.OR);function q(...R){return R.reduce(Oe)}e.or=q;function N(R){return(p,S)=>p===t.nil?S:S===t.nil?p:(0,t._)`${M(p)} ${R} ${M(S)}`}function M(R){return R instanceof t.Name?R:(0,t._)`(${R})`}})(Hr)),Hr}var Y={},Ln;function re(){if(Ln)return Y;Ln=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.checkStrictMode=Y.getErrorPath=Y.Type=Y.useFunc=Y.setEvaluated=Y.evaluatedPropsToName=Y.mergeEvaluated=Y.eachItem=Y.unescapeJsonPointer=Y.escapeJsonPointer=Y.escapeFragment=Y.unescapeFragment=Y.schemaRefOrVal=Y.schemaHasRulesButRef=Y.schemaHasRules=Y.checkUnknownRules=Y.alwaysValidSchema=Y.toHash=void 0;const e=X(),t=Pr();function r(u){const v={};for(const T of u)v[T]=!0;return v}Y.toHash=r;function n(u,v){return typeof v=="boolean"?v:Object.keys(v).length===0?!0:(o(u,v),!s(v,u.self.RULES.all))}Y.alwaysValidSchema=n;function o(u,v=u.schema){const{opts:T,self:k}=u;if(!T.strictSchema||typeof v=="boolean")return;const j=k.RULES.keywords;for(const F in v)j[F]||g(u,`unknown keyword: "${F}"`)}Y.checkUnknownRules=o;function s(u,v){if(typeof u=="boolean")return!u;for(const T in u)if(v[T])return!0;return!1}Y.schemaHasRules=s;function c(u,v){if(typeof u=="boolean")return!u;for(const T in u)if(T!=="$ref"&&v.all[T])return!0;return!1}Y.schemaHasRulesButRef=c;function a({topSchemaRef:u,schemaPath:v},T,k,j){if(!j){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${u}${v}${(0,e.getProperty)(k)}`}Y.schemaRefOrVal=a;function d(u){return E(decodeURIComponent(u))}Y.unescapeFragment=d;function m(u){return encodeURIComponent(y(u))}Y.escapeFragment=m;function y(u){return typeof u=="number"?`${u}`:u.replace(/~/g,"~0").replace(/\//g,"~1")}Y.escapeJsonPointer=y;function E(u){return u.replace(/~1/g,"/").replace(/~0/g,"~")}Y.unescapeJsonPointer=E;function w(u,v){if(Array.isArray(u))for(const T of u)v(T);else v(u)}Y.eachItem=w;function $({mergeNames:u,mergeToName:v,mergeValues:T,resultToName:k}){return(j,F,C,U)=>{const V=C===void 0?F:C instanceof e.Name?(F instanceof e.Name?u(j,F,C):v(j,F,C),C):F instanceof e.Name?(v(j,C,F),F):T(F,C);return U===e.Name&&!(V instanceof e.Name)?k(j,V):V}}Y.mergeEvaluated={props:$({mergeNames:(u,v,T)=>u.if((0,e._)`${T} !== true && ${v} !== undefined`,()=>{u.if((0,e._)`${v} === true`,()=>u.assign(T,!0),()=>u.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${v})`))}),mergeToName:(u,v,T)=>u.if((0,e._)`${T} !== true`,()=>{v===!0?u.assign(T,!0):(u.assign(T,(0,e._)`${T} || {}`),b(u,T,v))}),mergeValues:(u,v)=>u===!0?!0:{...u,...v},resultToName:_}),items:$({mergeNames:(u,v,T)=>u.if((0,e._)`${T} !== true && ${v} !== undefined`,()=>u.assign(T,(0,e._)`${v} === true ? true : ${T} > ${v} ? ${T} : ${v}`)),mergeToName:(u,v,T)=>u.if((0,e._)`${T} !== true`,()=>u.assign(T,v===!0?!0:(0,e._)`${T} > ${v} ? ${T} : ${v}`)),mergeValues:(u,v)=>u===!0?!0:Math.max(u,v),resultToName:(u,v)=>u.var("items",v)})};function _(u,v){if(v===!0)return u.var("props",!0);const T=u.var("props",(0,e._)`{}`);return v!==void 0&&b(u,T,v),T}Y.evaluatedPropsToName=_;function b(u,v,T){Object.keys(T).forEach(k=>u.assign((0,e._)`${v}${(0,e.getProperty)(k)}`,!0))}Y.setEvaluated=b;const f={};function h(u,v){return u.scopeValue("func",{ref:v,code:f[v.code]||(f[v.code]=new t._Code(v.code))})}Y.useFunc=h;var i;(function(u){u[u.Num=0]="Num",u[u.Str=1]="Str"})(i||(Y.Type=i={}));function l(u,v,T){if(u instanceof e.Name){const k=v===i.Num;return T?k?(0,e._)`"[" + ${u} + "]"`:(0,e._)`"['" + ${u} + "']"`:k?(0,e._)`"/" + ${u}`:(0,e._)`"/" + ${u}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(u).toString():"/"+y(u)}Y.getErrorPath=l;function g(u,v,T=u.opts.strictSchema){if(T){if(v=`strict mode: ${v}`,T===!0)throw new Error(v);u.self.logger.warn(v)}}return Y.checkStrictMode=g,Y}var Ct={},qn;function et(){if(qn)return Ct;qn=1,Object.defineProperty(Ct,"__esModule",{value:!0});const e=X(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Ct.default=t,Ct}var zn;function Or(){return zn||(zn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=X(),r=re(),n=et();e.keywordError={message:({keyword:f})=>(0,t.str)`must pass "${f}" keyword validation`},e.keyword$DataError={message:({keyword:f,schemaType:h})=>h?(0,t.str)`"${f}" keyword must be ${h} ($data)`:(0,t.str)`"${f}" keyword is invalid ($data)`};function o(f,h=e.keywordError,i,l){const{it:g}=f,{gen:u,compositeRule:v,allErrors:T}=g,k=E(f,h,i);l??(v||T)?d(u,k):m(g,(0,t._)`[${k}]`)}e.reportError=o;function s(f,h=e.keywordError,i){const{it:l}=f,{gen:g,compositeRule:u,allErrors:v}=l,T=E(f,h,i);d(g,T),u||v||m(l,n.default.vErrors)}e.reportExtraError=s;function c(f,h){f.assign(n.default.errors,h),f.if((0,t._)`${n.default.vErrors} !== null`,()=>f.if(h,()=>f.assign((0,t._)`${n.default.vErrors}.length`,h),()=>f.assign(n.default.vErrors,null)))}e.resetErrorsCount=c;function a({gen:f,keyword:h,schemaValue:i,data:l,errsCount:g,it:u}){if(g===void 0)throw new Error("ajv implementation error");const v=f.name("err");f.forRange("i",g,n.default.errors,T=>{f.const(v,(0,t._)`${n.default.vErrors}[${T}]`),f.if((0,t._)`${v}.instancePath === undefined`,()=>f.assign((0,t._)`${v}.instancePath`,(0,t.strConcat)(n.default.instancePath,u.errorPath))),f.assign((0,t._)`${v}.schemaPath`,(0,t.str)`${u.errSchemaPath}/${h}`),u.opts.verbose&&(f.assign((0,t._)`${v}.schema`,i),f.assign((0,t._)`${v}.data`,l))})}e.extendErrors=a;function d(f,h){const i=f.const("err",h);f.if((0,t._)`${n.default.vErrors} === null`,()=>f.assign(n.default.vErrors,(0,t._)`[${i}]`),(0,t._)`${n.default.vErrors}.push(${i})`),f.code((0,t._)`${n.default.errors}++`)}function m(f,h){const{gen:i,validateName:l,schemaEnv:g}=f;g.$async?i.throw((0,t._)`new ${f.ValidationError}(${h})`):(i.assign((0,t._)`${l}.errors`,h),i.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function E(f,h,i){const{createErrors:l}=f.it;return l===!1?(0,t._)`{}`:w(f,h,i)}function w(f,h,i={}){const{gen:l,it:g}=f,u=[$(g,i),_(f,i)];return b(f,h,u),l.object(...u)}function $({errorPath:f},{instancePath:h}){const i=h?(0,t.str)`${f}${(0,r.getErrorPath)(h,r.Type.Str)}`:f;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,i)]}function _({keyword:f,it:{errSchemaPath:h}},{schemaPath:i,parentSchema:l}){let g=l?h:(0,t.str)`${h}/${f}`;return i&&(g=(0,t.str)`${g}${(0,r.getErrorPath)(i,r.Type.Str)}`),[y.schemaPath,g]}function b(f,{params:h,message:i},l){const{keyword:g,data:u,schemaValue:v,it:T}=f,{opts:k,propertyName:j,topSchemaRef:F,schemaPath:C}=T;l.push([y.keyword,g],[y.params,typeof h=="function"?h(f):h||(0,t._)`{}`]),k.messages&&l.push([y.message,typeof i=="function"?i(f):i]),k.verbose&&l.push([y.schema,v],[y.parentSchema,(0,t._)`${F}${C}`],[n.default.data,u]),j&&l.push([y.propertyName,j])}})(Vr)),Vr}var Un;function mo(){if(Un)return nt;Un=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.boolOrEmptySchema=nt.topBoolOrEmptySchema=void 0;const e=Or(),t=X(),r=et(),n={message:"boolean schema is false"};function o(a){const{gen:d,schema:m,validateName:y}=a;m===!1?c(a,!1):typeof m=="object"&&m.$async===!0?d.return(r.default.data):(d.assign((0,t._)`${y}.errors`,null),d.return(!0))}nt.topBoolOrEmptySchema=o;function s(a,d){const{gen:m,schema:y}=a;y===!1?(m.var(d,!1),c(a)):m.var(d,!0)}nt.boolOrEmptySchema=s;function c(a,d){const{gen:m,data:y}=a,E={gen:m,keyword:"false schema",data:y,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(E,n,void 0,d)}return nt}var ve={},st={},Fn;function ha(){if(Fn)return st;Fn=1,Object.defineProperty(st,"__esModule",{value:!0}),st.getRules=st.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(o){return typeof o=="string"&&t.has(o)}st.isJSONType=r;function n(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}return st.getRules=n,st}var Ke={},Vn;function ma(){if(Vn)return Ke;Vn=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.shouldUseRule=Ke.shouldUseGroup=Ke.schemaHasRulesForType=void 0;function e({schema:n,self:o},s){const c=o.RULES.types[s];return c&&c!==!0&&t(n,c)}Ke.schemaHasRulesForType=e;function t(n,o){return o.rules.some(s=>r(n,s))}Ke.shouldUseGroup=t;function r(n,o){var s;return n[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(c=>n[c]!==void 0))}return Ke.shouldUseRule=r,Ke}var Hn;function Nr(){if(Hn)return ve;Hn=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.reportTypeError=ve.checkDataTypes=ve.checkDataType=ve.coerceAndCheckDataType=ve.getJSONTypes=ve.getSchemaTypes=ve.DataType=void 0;const e=ha(),t=ma(),r=Or(),n=X(),o=re();var s;(function(i){i[i.Correct=0]="Correct",i[i.Wrong=1]="Wrong"})(s||(ve.DataType=s={}));function c(i){const l=a(i.type);if(l.includes("null")){if(i.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!l.length&&i.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');i.nullable===!0&&l.push("null")}return l}ve.getSchemaTypes=c;function a(i){const l=Array.isArray(i)?i:i?[i]:[];if(l.every(e.isJSONType))return l;throw new Error("type must be JSONType or JSONType[]: "+l.join(","))}ve.getJSONTypes=a;function d(i,l){const{gen:g,data:u,opts:v}=i,T=y(l,v.coerceTypes),k=l.length>0&&!(T.length===0&&l.length===1&&(0,t.schemaHasRulesForType)(i,l[0]));if(k){const j=_(l,u,v.strictNumbers,s.Wrong);g.if(j,()=>{T.length?E(i,l,T):f(i)})}return k}ve.coerceAndCheckDataType=d;const m=new Set(["string","number","integer","boolean","null"]);function y(i,l){return l?i.filter(g=>m.has(g)||l==="array"&&g==="array"):[]}function E(i,l,g){const{gen:u,data:v,opts:T}=i,k=u.let("dataType",(0,n._)`typeof ${v}`),j=u.let("coerced",(0,n._)`undefined`);T.coerceTypes==="array"&&u.if((0,n._)`${k} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>u.assign(v,(0,n._)`${v}[0]`).assign(k,(0,n._)`typeof ${v}`).if(_(l,v,T.strictNumbers),()=>u.assign(j,v))),u.if((0,n._)`${j} !== undefined`);for(const C of g)(m.has(C)||C==="array"&&T.coerceTypes==="array")&&F(C);u.else(),f(i),u.endIf(),u.if((0,n._)`${j} !== undefined`,()=>{u.assign(v,j),w(i,j)});function F(C){switch(C){case"string":u.elseIf((0,n._)`${k} == "number" || ${k} == "boolean"`).assign(j,(0,n._)`"" + ${v}`).elseIf((0,n._)`${v} === null`).assign(j,(0,n._)`""`);return;case"number":u.elseIf((0,n._)`${k} == "boolean" || ${v} === null
              || (${k} == "string" && ${v} && ${v} == +${v})`).assign(j,(0,n._)`+${v}`);return;case"integer":u.elseIf((0,n._)`${k} === "boolean" || ${v} === null
              || (${k} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(j,(0,n._)`+${v}`);return;case"boolean":u.elseIf((0,n._)`${v} === "false" || ${v} === 0 || ${v} === null`).assign(j,!1).elseIf((0,n._)`${v} === "true" || ${v} === 1`).assign(j,!0);return;case"null":u.elseIf((0,n._)`${v} === "" || ${v} === 0 || ${v} === false`),u.assign(j,null);return;case"array":u.elseIf((0,n._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${v} === null`).assign(j,(0,n._)`[${v}]`)}}}function w({gen:i,parentData:l,parentDataProperty:g},u){i.if((0,n._)`${l} !== undefined`,()=>i.assign((0,n._)`${l}[${g}]`,u))}function $(i,l,g,u=s.Correct){const v=u===s.Correct?n.operators.EQ:n.operators.NEQ;let T;switch(i){case"null":return(0,n._)`${l} ${v} null`;case"array":T=(0,n._)`Array.isArray(${l})`;break;case"object":T=(0,n._)`${l} && typeof ${l} == "object" && !Array.isArray(${l})`;break;case"integer":T=k((0,n._)`!(${l} % 1) && !isNaN(${l})`);break;case"number":T=k();break;default:return(0,n._)`typeof ${l} ${v} ${i}`}return u===s.Correct?T:(0,n.not)(T);function k(j=n.nil){return(0,n.and)((0,n._)`typeof ${l} == "number"`,j,g?(0,n._)`isFinite(${l})`:n.nil)}}ve.checkDataType=$;function _(i,l,g,u){if(i.length===1)return $(i[0],l,g,u);let v;const T=(0,o.toHash)(i);if(T.array&&T.object){const k=(0,n._)`typeof ${l} != "object"`;v=T.null?k:(0,n._)`!${l} || ${k}`,delete T.null,delete T.array,delete T.object}else v=n.nil;T.number&&delete T.integer;for(const k in T)v=(0,n.and)(v,$(k,l,g,u));return v}ve.checkDataTypes=_;const b={message:({schema:i})=>`must be ${i}`,params:({schema:i,schemaValue:l})=>typeof i=="string"?(0,n._)`{type: ${i}}`:(0,n._)`{type: ${l}}`};function f(i){const l=h(i);(0,r.reportError)(l,b)}ve.reportTypeError=f;function h(i){const{gen:l,data:g,schema:u}=i,v=(0,o.schemaRefOrVal)(i,u,"type");return{gen:l,keyword:"type",data:g,schema:u.type,schemaCode:v,schemaValue:v,parentSchema:u,params:{},it:i}}return ve}var gt={},xn;function po(){if(xn)return gt;xn=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.assignDefaults=void 0;const e=X(),t=re();function r(o,s){const{properties:c,items:a}=o.schema;if(s==="object"&&c)for(const d in c)n(o,d,c[d].default);else s==="array"&&Array.isArray(a)&&a.forEach((d,m)=>n(o,m,d.default))}gt.assignDefaults=r;function n(o,s,c){const{gen:a,compositeRule:d,data:m,opts:y}=o;if(c===void 0)return;const E=(0,e._)`${m}${(0,e.getProperty)(s)}`;if(d){(0,t.checkStrictMode)(o,`default is ignored for: ${E}`);return}let w=(0,e._)`${E} === undefined`;y.useDefaults==="empty"&&(w=(0,e._)`${w} || ${E} === null || ${E} === ""`),a.if(w,(0,e._)`${E} = ${(0,e.stringify)(c)}`)}return gt}var De={},se={},Kn;function je(){if(Kn)return se;Kn=1,Object.defineProperty(se,"__esModule",{value:!0}),se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;const e=X(),t=re(),r=et(),n=re();function o(i,l){const{gen:g,data:u,it:v}=i;g.if(y(g,u,l,v.opts.ownProperties),()=>{i.setParams({missingProperty:(0,e._)`${l}`},!0),i.error()})}se.checkReportMissingProp=o;function s({gen:i,data:l,it:{opts:g}},u,v){return(0,e.or)(...u.map(T=>(0,e.and)(y(i,l,T,g.ownProperties),(0,e._)`${v} = ${T}`)))}se.checkMissingProp=s;function c(i,l){i.setParams({missingProperty:l},!0),i.error()}se.reportMissingProp=c;function a(i){return i.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=a;function d(i,l,g){return(0,e._)`${a(i)}.call(${l}, ${g})`}se.isOwnProperty=d;function m(i,l,g,u){const v=(0,e._)`${l}${(0,e.getProperty)(g)} !== undefined`;return u?(0,e._)`${v} && ${d(i,l,g)}`:v}se.propertyInData=m;function y(i,l,g,u){const v=(0,e._)`${l}${(0,e.getProperty)(g)} === undefined`;return u?(0,e.or)(v,(0,e.not)(d(i,l,g))):v}se.noPropertyInData=y;function E(i){return i?Object.keys(i).filter(l=>l!=="__proto__"):[]}se.allSchemaProperties=E;function w(i,l){return E(l).filter(g=>!(0,t.alwaysValidSchema)(i,l[g]))}se.schemaProperties=w;function $({schemaCode:i,data:l,it:{gen:g,topSchemaRef:u,schemaPath:v,errorPath:T},it:k},j,F,C){const U=C?(0,e._)`${i}, ${l}, ${u}${v}`:l,V=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,T)],[r.default.parentData,k.parentData],[r.default.parentDataProperty,k.parentDataProperty],[r.default.rootData,r.default.rootData]];k.opts.dynamicRef&&V.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const H=(0,e._)`${U}, ${g.object(...V)}`;return F!==e.nil?(0,e._)`${j}.call(${F}, ${H})`:(0,e._)`${j}(${H})`}se.callValidateCode=$;const _=(0,e._)`new RegExp`;function b({gen:i,it:{opts:l}},g){const u=l.unicodeRegExp?"u":"",{regExp:v}=l.code,T=v(g,u);return i.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${v.code==="new RegExp"?_:(0,n.useFunc)(i,v)}(${g}, ${u})`})}se.usePattern=b;function f(i){const{gen:l,data:g,keyword:u,it:v}=i,T=l.name("valid");if(v.allErrors){const j=l.let("valid",!0);return k(()=>l.assign(j,!1)),j}return l.var(T,!0),k(()=>l.break()),T;function k(j){const F=l.const("len",(0,e._)`${g}.length`);l.forRange("i",0,F,C=>{i.subschema({keyword:u,dataProp:C,dataPropType:t.Type.Num},T),l.if((0,e.not)(T),j)})}}se.validateArray=f;function h(i){const{gen:l,schema:g,keyword:u,it:v}=i;if(!Array.isArray(g))throw new Error("ajv implementation error");if(g.some(F=>(0,t.alwaysValidSchema)(v,F))&&!v.opts.unevaluated)return;const k=l.let("valid",!1),j=l.name("_valid");l.block(()=>g.forEach((F,C)=>{const U=i.subschema({keyword:u,schemaProp:C,compositeRule:!0},j);l.assign(k,(0,e._)`${k} || ${j}`),i.mergeValidEvaluated(U,j)||l.if((0,e.not)(k))})),i.result(k,()=>i.reset(),()=>i.error(!0))}return se.validateUnion=h,se}var Gn;function go(){if(Gn)return De;Gn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.validateKeywordUsage=De.validSchemaType=De.funcKeywordCode=De.macroKeywordCode=void 0;const e=X(),t=et(),r=je(),n=Or();function o(w,$){const{gen:_,keyword:b,schema:f,parentSchema:h,it:i}=w,l=$.macro.call(i.self,f,h,i),g=m(_,b,l);i.opts.validateSchema!==!1&&i.self.validateSchema(l,!0);const u=_.name("valid");w.subschema({schema:l,schemaPath:e.nil,errSchemaPath:`${i.errSchemaPath}/${b}`,topSchemaRef:g,compositeRule:!0},u),w.pass(u,()=>w.error(!0))}De.macroKeywordCode=o;function s(w,$){var _;const{gen:b,keyword:f,schema:h,parentSchema:i,$data:l,it:g}=w;d(g,$);const u=!l&&$.compile?$.compile.call(g.self,h,i,g):$.validate,v=m(b,f,u),T=b.let("valid");w.block$data(T,k),w.ok((_=$.valid)!==null&&_!==void 0?_:T);function k(){if($.errors===!1)C(),$.modifying&&c(w),U(()=>w.error());else{const V=$.async?j():F();$.modifying&&c(w),U(()=>a(w,V))}}function j(){const V=b.let("ruleErrs",null);return b.try(()=>C((0,e._)`await `),H=>b.assign(T,!1).if((0,e._)`${H} instanceof ${g.ValidationError}`,()=>b.assign(V,(0,e._)`${H}.errors`),()=>b.throw(H))),V}function F(){const V=(0,e._)`${v}.errors`;return b.assign(V,null),C(e.nil),V}function C(V=$.async?(0,e._)`await `:e.nil){const H=g.opts.passContext?t.default.this:t.default.self,te=!("compile"in $&&!l||$.schema===!1);b.assign(T,(0,e._)`${V}${(0,r.callValidateCode)(w,v,H,te)}`,$.modifying)}function U(V){var H;b.if((0,e.not)((H=$.valid)!==null&&H!==void 0?H:T),V)}}De.funcKeywordCode=s;function c(w){const{gen:$,data:_,it:b}=w;$.if(b.parentData,()=>$.assign(_,(0,e._)`${b.parentData}[${b.parentDataProperty}]`))}function a(w,$){const{gen:_}=w;_.if((0,e._)`Array.isArray(${$})`,()=>{_.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${$} : ${t.default.vErrors}.concat(${$})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(w)},()=>w.error())}function d({schemaEnv:w},$){if($.async&&!w.$async)throw new Error("async keyword in sync schema")}function m(w,$,_){if(_===void 0)throw new Error(`keyword "${$}" failed to compile`);return w.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,e.stringify)(_)})}function y(w,$,_=!1){return!$.length||$.some(b=>b==="array"?Array.isArray(w):b==="object"?w&&typeof w=="object"&&!Array.isArray(w):typeof w==b||_&&typeof w>"u")}De.validSchemaType=y;function E({schema:w,opts:$,self:_,errSchemaPath:b},f,h){if(Array.isArray(f.keyword)?!f.keyword.includes(h):f.keyword!==h)throw new Error("ajv implementation error");const i=f.dependencies;if(i?.some(l=>!Object.prototype.hasOwnProperty.call(w,l)))throw new Error(`parent schema must have dependencies of ${h}: ${i.join(",")}`);if(f.validateSchema&&!f.validateSchema(w[h])){const g=`keyword "${h}" value is invalid at path "${b}": `+_.errorsText(f.validateSchema.errors);if($.validateSchema==="log")_.logger.error(g);else throw new Error(g)}}return De.validateKeywordUsage=E,De}var Ge={},Wn;function yo(){if(Wn)return Ge;Wn=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.extendSubschemaMode=Ge.extendSubschemaData=Ge.getSubschema=void 0;const e=X(),t=re();function r(s,{keyword:c,schemaProp:a,schema:d,schemaPath:m,errSchemaPath:y,topSchemaRef:E}){if(c!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(c!==void 0){const w=s.schema[c];return a===void 0?{schema:w,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(c)}`,errSchemaPath:`${s.errSchemaPath}/${c}`}:{schema:w[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(c)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${c}/${(0,t.escapeFragment)(a)}`}}if(d!==void 0){if(m===void 0||y===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:m,topSchemaRef:E,errSchemaPath:y}}throw new Error('either "keyword" or "schema" must be passed')}Ge.getSubschema=r;function n(s,c,{dataProp:a,dataPropType:d,data:m,dataTypes:y,propertyName:E}){if(m!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:w}=c;if(a!==void 0){const{errorPath:_,dataPathArr:b,opts:f}=c,h=w.let("data",(0,e._)`${c.data}${(0,e.getProperty)(a)}`,!0);$(h),s.errorPath=(0,e.str)`${_}${(0,t.getErrorPath)(a,d,f.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...b,s.parentDataProperty]}if(m!==void 0){const _=m instanceof e.Name?m:w.let("data",m,!0);$(_),E!==void 0&&(s.propertyName=E)}y&&(s.dataTypes=y);function $(_){s.data=_,s.dataLevel=c.dataLevel+1,s.dataTypes=[],c.definedProperties=new Set,s.parentData=c.data,s.dataNames=[...c.dataNames,_]}}Ge.extendSubschemaData=n;function o(s,{jtdDiscriminator:c,jtdMetadata:a,compositeRule:d,createErrors:m,allErrors:y}){d!==void 0&&(s.compositeRule=d),m!==void 0&&(s.createErrors=m),y!==void 0&&(s.allErrors=y),s.jtdDiscriminator=c,s.jtdMetadata=a}return Ge.extendSubschemaMode=o,Ge}var Ee={},Gr,Bn;function pa(){return Bn||(Bn=1,Gr=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var c=s[o];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),Gr}var Wr={exports:{}},Jn;function _o(){if(Jn)return Wr.exports;Jn=1;var e=Wr.exports=function(n,o,s){typeof o=="function"&&(s=o,o={}),s=o.cb||s;var c=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};t(o,c,a,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,o,s,c,a,d,m,y,E,w){if(c&&typeof c=="object"&&!Array.isArray(c)){o(c,a,d,m,y,E,w);for(var $ in c){var _=c[$];if(Array.isArray(_)){if($ in e.arrayKeywords)for(var b=0;b<_.length;b++)t(n,o,s,_[b],a+"/"+$+"/"+b,d,a,$,c,b)}else if($ in e.propsKeywords){if(_&&typeof _=="object")for(var f in _)t(n,o,s,_[f],a+"/"+$+"/"+r(f),d,a,$,c,f)}else($ in e.keywords||n.allKeys&&!($ in e.skipKeywords))&&t(n,o,s,_,a+"/"+$,d,a,$,c)}s(c,a,d,m,y,E,w)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Wr.exports}var Yn;function kr(){if(Yn)return Ee;Yn=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;const e=re(),t=pa(),r=_o(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(b,f=!0){return typeof b=="boolean"?!0:f===!0?!c(b):f?a(b)<=f:!1}Ee.inlineRef=o;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(b){for(const f in b){if(s.has(f))return!0;const h=b[f];if(Array.isArray(h)&&h.some(c)||typeof h=="object"&&c(h))return!0}return!1}function a(b){let f=0;for(const h in b){if(h==="$ref")return 1/0;if(f++,!n.has(h)&&(typeof b[h]=="object"&&(0,e.eachItem)(b[h],i=>f+=a(i)),f===1/0))return 1/0}return f}function d(b,f="",h){h!==!1&&(f=E(f));const i=b.parse(f);return m(b,i)}Ee.getFullPath=d;function m(b,f){return b.serialize(f).split("#")[0]+"#"}Ee._getFullPath=m;const y=/#\/?$/;function E(b){return b?b.replace(y,""):""}Ee.normalizeId=E;function w(b,f,h){return h=E(h),b.resolve(f,h)}Ee.resolveUrl=w;const $=/^[a-z_][-a-z0-9._]*$/i;function _(b,f){if(typeof b=="boolean")return{};const{schemaId:h,uriResolver:i}=this.opts,l=E(b[h]||f),g={"":l},u=d(i,l,!1),v={},T=new Set;return r(b,{allKeys:!0},(F,C,U,V)=>{if(V===void 0)return;const H=u+C;let te=g[V];typeof F[h]=="string"&&(te=ge.call(this,F[h])),ye.call(this,F.$anchor),ye.call(this,F.$dynamicAnchor),g[C]=te;function ge(ne){const Oe=this.opts.uriResolver.resolve;if(ne=E(te?Oe(te,ne):ne),T.has(ne))throw j(ne);T.add(ne);let q=this.refs[ne];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?k(F,q.schema,ne):ne!==E(H)&&(ne[0]==="#"?(k(F,v[ne],ne),v[ne]=F):this.refs[ne]=H),ne}function ye(ne){if(typeof ne=="string"){if(!$.test(ne))throw new Error(`invalid anchor "${ne}"`);ge.call(this,`#${ne}`)}}}),v;function k(F,C,U){if(C!==void 0&&!t(F,C))throw j(U)}function j(F){return new Error(`reference "${F}" resolves to more than one schema`)}}return Ee.getSchemaRefs=_,Ee}var Xn;function Ir(){if(Xn)return xe;Xn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.getData=xe.KeywordCxt=xe.validateFunctionCode=void 0;const e=mo(),t=Nr(),r=ma(),n=Nr(),o=po(),s=go(),c=yo(),a=X(),d=et(),m=kr(),y=re(),E=Or();function w(A){if(u(A)&&(T(A),g(A))){f(A);return}$(A,()=>(0,e.topBoolOrEmptySchema)(A))}xe.validateFunctionCode=w;function $({gen:A,validateName:O,schema:D,schemaEnv:z,opts:x},J){x.code.es5?A.func(O,(0,a._)`${d.default.data}, ${d.default.valCxt}`,z.$async,()=>{A.code((0,a._)`"use strict"; ${i(D,x)}`),b(A,x),A.code(J)}):A.func(O,(0,a._)`${d.default.data}, ${_(x)}`,z.$async,()=>A.code(i(D,x)).code(J))}function _(A){return(0,a._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${A.dynamicRef?(0,a._)`, ${d.default.dynamicAnchors}={}`:a.nil}}={}`}function b(A,O){A.if(d.default.valCxt,()=>{A.var(d.default.instancePath,(0,a._)`${d.default.valCxt}.${d.default.instancePath}`),A.var(d.default.parentData,(0,a._)`${d.default.valCxt}.${d.default.parentData}`),A.var(d.default.parentDataProperty,(0,a._)`${d.default.valCxt}.${d.default.parentDataProperty}`),A.var(d.default.rootData,(0,a._)`${d.default.valCxt}.${d.default.rootData}`),O.dynamicRef&&A.var(d.default.dynamicAnchors,(0,a._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{A.var(d.default.instancePath,(0,a._)`""`),A.var(d.default.parentData,(0,a._)`undefined`),A.var(d.default.parentDataProperty,(0,a._)`undefined`),A.var(d.default.rootData,d.default.data),O.dynamicRef&&A.var(d.default.dynamicAnchors,(0,a._)`{}`)})}function f(A){const{schema:O,opts:D,gen:z}=A;$(A,()=>{D.$comment&&O.$comment&&V(A),F(A),z.let(d.default.vErrors,null),z.let(d.default.errors,0),D.unevaluated&&h(A),k(A),H(A)})}function h(A){const{gen:O,validateName:D}=A;A.evaluated=O.const("evaluated",(0,a._)`${D}.evaluated`),O.if((0,a._)`${A.evaluated}.dynamicProps`,()=>O.assign((0,a._)`${A.evaluated}.props`,(0,a._)`undefined`)),O.if((0,a._)`${A.evaluated}.dynamicItems`,()=>O.assign((0,a._)`${A.evaluated}.items`,(0,a._)`undefined`))}function i(A,O){const D=typeof A=="object"&&A[O.schemaId];return D&&(O.code.source||O.code.process)?(0,a._)`/*# sourceURL=${D} */`:a.nil}function l(A,O){if(u(A)&&(T(A),g(A))){v(A,O);return}(0,e.boolOrEmptySchema)(A,O)}function g({schema:A,self:O}){if(typeof A=="boolean")return!A;for(const D in A)if(O.RULES.all[D])return!0;return!1}function u(A){return typeof A.schema!="boolean"}function v(A,O){const{schema:D,gen:z,opts:x}=A;x.$comment&&D.$comment&&V(A),C(A),U(A);const J=z.const("_errs",d.default.errors);k(A,J),z.var(O,(0,a._)`${J} === ${d.default.errors}`)}function T(A){(0,y.checkUnknownRules)(A),j(A)}function k(A,O){if(A.opts.jtd)return ge(A,[],!1,O);const D=(0,t.getSchemaTypes)(A.schema),z=(0,t.coerceAndCheckDataType)(A,D);ge(A,D,!z,O)}function j(A){const{schema:O,errSchemaPath:D,opts:z,self:x}=A;O.$ref&&z.ignoreKeywordsWithRef&&(0,y.schemaHasRulesButRef)(O,x.RULES)&&x.logger.warn(`$ref: keywords ignored in schema at path "${D}"`)}function F(A){const{schema:O,opts:D}=A;O.default!==void 0&&D.useDefaults&&D.strictSchema&&(0,y.checkStrictMode)(A,"default is ignored in the schema root")}function C(A){const O=A.schema[A.opts.schemaId];O&&(A.baseId=(0,m.resolveUrl)(A.opts.uriResolver,A.baseId,O))}function U(A){if(A.schema.$async&&!A.schemaEnv.$async)throw new Error("async schema in sync schema")}function V({gen:A,schemaEnv:O,schema:D,errSchemaPath:z,opts:x}){const J=D.$comment;if(x.$comment===!0)A.code((0,a._)`${d.default.self}.logger.log(${J})`);else if(typeof x.$comment=="function"){const oe=(0,a.str)`${z}/$comment`,me=A.scopeValue("root",{ref:O.root});A.code((0,a._)`${d.default.self}.opts.$comment(${J}, ${oe}, ${me}.schema)`)}}function H(A){const{gen:O,schemaEnv:D,validateName:z,ValidationError:x,opts:J}=A;D.$async?O.if((0,a._)`${d.default.errors} === 0`,()=>O.return(d.default.data),()=>O.throw((0,a._)`new ${x}(${d.default.vErrors})`)):(O.assign((0,a._)`${z}.errors`,d.default.vErrors),J.unevaluated&&te(A),O.return((0,a._)`${d.default.errors} === 0`))}function te({gen:A,evaluated:O,props:D,items:z}){D instanceof a.Name&&A.assign((0,a._)`${O}.props`,D),z instanceof a.Name&&A.assign((0,a._)`${O}.items`,z)}function ge(A,O,D,z){const{gen:x,schema:J,data:oe,allErrors:me,opts:le,self:fe}=A,{RULES:ie}=fe;if(J.$ref&&(le.ignoreKeywordsWithRef||!(0,y.schemaHasRulesButRef)(J,ie))){x.block(()=>K(A,"$ref",ie.all.$ref.definition));return}le.jtd||ne(A,O),x.block(()=>{for(const Ne of ie.rules)ze(Ne);ze(ie.post)});function ze(Ne){(0,r.shouldUseGroup)(J,Ne)&&(Ne.type?(x.if((0,n.checkDataType)(Ne.type,oe,le.strictNumbers)),ye(A,Ne),O.length===1&&O[0]===Ne.type&&D&&(x.else(),(0,n.reportTypeError)(A)),x.endIf()):ye(A,Ne),me||x.if((0,a._)`${d.default.errors} === ${z||0}`))}}function ye(A,O){const{gen:D,schema:z,opts:{useDefaults:x}}=A;x&&(0,o.assignDefaults)(A,O.type),D.block(()=>{for(const J of O.rules)(0,r.shouldUseRule)(z,J)&&K(A,J.keyword,J.definition,O.type)})}function ne(A,O){A.schemaEnv.meta||!A.opts.strictTypes||(Oe(A,O),A.opts.allowUnionTypes||q(A,O),N(A,A.dataTypes))}function Oe(A,O){if(O.length){if(!A.dataTypes.length){A.dataTypes=O;return}O.forEach(D=>{R(A.dataTypes,D)||S(A,`type "${D}" not allowed by context "${A.dataTypes.join(",")}"`)}),p(A,O)}}function q(A,O){O.length>1&&!(O.length===2&&O.includes("null"))&&S(A,"use allowUnionTypes to allow union type keyword")}function N(A,O){const D=A.self.RULES.all;for(const z in D){const x=D[z];if(typeof x=="object"&&(0,r.shouldUseRule)(A.schema,x)){const{type:J}=x.definition;J.length&&!J.some(oe=>M(O,oe))&&S(A,`missing type "${J.join(",")}" for keyword "${z}"`)}}}function M(A,O){return A.includes(O)||O==="number"&&A.includes("integer")}function R(A,O){return A.includes(O)||O==="integer"&&A.includes("number")}function p(A,O){const D=[];for(const z of A.dataTypes)R(O,z)?D.push(z):O.includes("integer")&&z==="number"&&D.push("integer");A.dataTypes=D}function S(A,O){const D=A.schemaEnv.baseId+A.errSchemaPath;O+=` at "${D}" (strictTypes)`,(0,y.checkStrictMode)(A,O,A.opts.strictTypes)}class I{constructor(O,D,z){if((0,s.validateKeywordUsage)(O,D,z),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=z,this.data=O.data,this.schema=O.schema[z],this.$data=D.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,y.schemaRefOrVal)(O,this.schema,z,this.$data),this.schemaType=D.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=D,this.$data)this.schemaCode=O.gen.const("vSchema",Z(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${z} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=O.gen.const("_errs",d.default.errors))}result(O,D,z){this.failResult((0,a.not)(O),D,z)}failResult(O,D,z){this.gen.if(O),z?z():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,D){this.failResult((0,a.not)(O),void 0,D)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:D}=this;this.fail((0,a._)`${D} !== undefined && (${(0,a.or)(this.invalid$data(),O)})`)}error(O,D,z){if(D){this.setParams(D),this._error(O,z),this.setParams({});return}this._error(O,z)}_error(O,D){(O?E.reportExtraError:E.reportError)(this,this.def.error,D)}$dataError(){(0,E.reportError)(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,E.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,D){D?Object.assign(this.params,O):this.params=O}block$data(O,D,z=a.nil){this.gen.block(()=>{this.check$data(O,z),D()})}check$data(O=a.nil,D=a.nil){if(!this.$data)return;const{gen:z,schemaCode:x,schemaType:J,def:oe}=this;z.if((0,a.or)((0,a._)`${x} === undefined`,D)),O!==a.nil&&z.assign(O,!0),(J.length||oe.validateSchema)&&(z.elseIf(this.invalid$data()),this.$dataError(),O!==a.nil&&z.assign(O,!1)),z.else()}invalid$data(){const{gen:O,schemaCode:D,schemaType:z,def:x,it:J}=this;return(0,a.or)(oe(),me());function oe(){if(z.length){if(!(D instanceof a.Name))throw new Error("ajv implementation error");const le=Array.isArray(z)?z:[z];return(0,a._)`${(0,n.checkDataTypes)(le,D,J.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function me(){if(x.validateSchema){const le=O.scopeValue("validate$data",{ref:x.validateSchema});return(0,a._)`!${le}(${D})`}return a.nil}}subschema(O,D){const z=(0,c.getSubschema)(this.it,O);(0,c.extendSubschemaData)(z,this.it,O),(0,c.extendSubschemaMode)(z,O);const x={...this.it,...z,items:void 0,props:void 0};return l(x,D),x}mergeEvaluated(O,D){const{it:z,gen:x}=this;z.opts.unevaluated&&(z.props!==!0&&O.props!==void 0&&(z.props=y.mergeEvaluated.props(x,O.props,z.props,D)),z.items!==!0&&O.items!==void 0&&(z.items=y.mergeEvaluated.items(x,O.items,z.items,D)))}mergeValidEvaluated(O,D){const{it:z,gen:x}=this;if(z.opts.unevaluated&&(z.props!==!0||z.items!==!0))return x.if(D,()=>this.mergeEvaluated(O,a.Name)),!0}}xe.KeywordCxt=I;function K(A,O,D,z){const x=new I(A,D,O);"code"in D?D.code(x,z):x.$data&&D.validate?(0,s.funcKeywordCode)(x,D):"macro"in D?(0,s.macroKeywordCode)(x,D):(D.compile||D.validate)&&(0,s.funcKeywordCode)(x,D)}const G=/^\/(?:[^~]|~0|~1)*$/,ee=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z(A,{dataLevel:O,dataNames:D,dataPathArr:z}){let x,J;if(A==="")return d.default.rootData;if(A[0]==="/"){if(!G.test(A))throw new Error(`Invalid JSON-pointer: ${A}`);x=A,J=d.default.rootData}else{const fe=ee.exec(A);if(!fe)throw new Error(`Invalid JSON-pointer: ${A}`);const ie=+fe[1];if(x=fe[2],x==="#"){if(ie>=O)throw new Error(le("property/index",ie));return z[O-ie]}if(ie>O)throw new Error(le("data",ie));if(J=D[O-ie],!x)return J}let oe=J;const me=x.split("/");for(const fe of me)fe&&(J=(0,a._)`${J}${(0,a.getProperty)((0,y.unescapeJsonPointer)(fe))}`,oe=(0,a._)`${oe} && ${J}`);return oe;function le(fe,ie){return`Cannot access ${fe} ${ie} levels up, current level is ${O}`}}return xe.getData=Z,xe}var Dt={},Zn;function hn(){if(Zn)return Dt;Zn=1,Object.defineProperty(Dt,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return Dt.default=e,Dt}var Mt={},Qn;function Cr(){if(Qn)return Mt;Qn=1,Object.defineProperty(Mt,"__esModule",{value:!0});const e=kr();class t extends Error{constructor(n,o,s,c){super(c||`can't resolve reference ${s} from id ${o}`),this.missingRef=(0,e.resolveUrl)(n,o,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Mt.default=t,Mt}var ke={},es;function mn(){if(es)return ke;es=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.resolveSchema=ke.getCompilingSchema=ke.resolveRef=ke.compileSchema=ke.SchemaEnv=void 0;const e=X(),t=hn(),r=et(),n=kr(),o=re(),s=Ir();class c{constructor(h){var i;this.refs={},this.dynamicAnchors={};let l;typeof h.schema=="object"&&(l=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(i=h.baseId)!==null&&i!==void 0?i:(0,n.normalizeId)(l?.[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=l?.$async,this.refs={}}}ke.SchemaEnv=c;function a(f){const h=y.call(this,f);if(h)return h;const i=(0,n.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:l,lines:g}=this.opts.code,{ownProperties:u}=this.opts,v=new e.CodeGen(this.scope,{es5:l,lines:g,ownProperties:u});let T;f.$async&&(T=v.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=v.scopeName("validate");f.validateName=k;const j={gen:v,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,e.stringify)(f.schema)}:{ref:f.schema}),validateName:k,ValidationError:T,schema:f.schema,schemaEnv:f,rootId:i,baseId:f.baseId||i,schemaPath:e.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let F;try{this._compilations.add(f),(0,s.validateFunctionCode)(j),v.optimize(this.opts.code.optimize);const C=v.toString();F=`${v.scopeRefs(r.default.scope)}return ${C}`,this.opts.code.process&&(F=this.opts.code.process(F,f));const V=new Function(`${r.default.self}`,`${r.default.scope}`,F)(this,this.scope.get());if(this.scope.value(k,{ref:V}),V.errors=null,V.schema=f.schema,V.schemaEnv=f,f.$async&&(V.$async=!0),this.opts.code.source===!0&&(V.source={validateName:k,validateCode:C,scopeValues:v._values}),this.opts.unevaluated){const{props:H,items:te}=j;V.evaluated={props:H instanceof e.Name?void 0:H,items:te instanceof e.Name?void 0:te,dynamicProps:H instanceof e.Name,dynamicItems:te instanceof e.Name},V.source&&(V.source.evaluated=(0,e.stringify)(V.evaluated))}return f.validate=V,f}catch(C){throw delete f.validate,delete f.validateName,F&&this.logger.error("Error compiling schema, function code:",F),C}finally{this._compilations.delete(f)}}ke.compileSchema=a;function d(f,h,i){var l;i=(0,n.resolveUrl)(this.opts.uriResolver,h,i);const g=f.refs[i];if(g)return g;let u=w.call(this,f,i);if(u===void 0){const v=(l=f.localRefs)===null||l===void 0?void 0:l[i],{schemaId:T}=this.opts;v&&(u=new c({schema:v,schemaId:T,root:f,baseId:h}))}if(u!==void 0)return f.refs[i]=m.call(this,u)}ke.resolveRef=d;function m(f){return(0,n.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:a.call(this,f)}function y(f){for(const h of this._compilations)if(E(h,f))return h}ke.getCompilingSchema=y;function E(f,h){return f.schema===h.schema&&f.root===h.root&&f.baseId===h.baseId}function w(f,h){let i;for(;typeof(i=this.refs[h])=="string";)h=i;return i||this.schemas[h]||$.call(this,f,h)}function $(f,h){const i=this.opts.uriResolver.parse(h),l=(0,n._getFullPath)(this.opts.uriResolver,i);let g=(0,n.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&l===g)return b.call(this,i,f);const u=(0,n.normalizeId)(l),v=this.refs[u]||this.schemas[u];if(typeof v=="string"){const T=$.call(this,f,v);return typeof T?.schema!="object"?void 0:b.call(this,i,T)}if(typeof v?.schema=="object"){if(v.validate||a.call(this,v),u===(0,n.normalizeId)(h)){const{schema:T}=v,{schemaId:k}=this.opts,j=T[k];return j&&(g=(0,n.resolveUrl)(this.opts.uriResolver,g,j)),new c({schema:T,schemaId:k,root:f,baseId:g})}return b.call(this,i,v)}}ke.resolveSchema=$;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(f,{baseId:h,schema:i,root:l}){var g;if(((g=f.fragment)===null||g===void 0?void 0:g[0])!=="/")return;for(const T of f.fragment.slice(1).split("/")){if(typeof i=="boolean")return;const k=i[(0,o.unescapeFragment)(T)];if(k===void 0)return;i=k;const j=typeof i=="object"&&i[this.opts.schemaId];!_.has(T)&&j&&(h=(0,n.resolveUrl)(this.opts.uriResolver,h,j))}let u;if(typeof i!="boolean"&&i.$ref&&!(0,o.schemaHasRulesButRef)(i,this.RULES)){const T=(0,n.resolveUrl)(this.opts.uriResolver,h,i.$ref);u=$.call(this,l,T)}const{schemaId:v}=this.opts;if(u=u||new c({schema:i,schemaId:v,root:l,baseId:h}),u.schema!==u.root.schema)return u}return ke}const vo="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$o="Meta-schema for $data reference (JSON AnySchema extension proposal)",wo="object",Eo=["$data"],bo={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},So=!1,To={$id:vo,description:$o,type:wo,required:Eo,properties:bo,additionalProperties:So};var jt={},yt={exports:{}},Br,ts;function ga(){if(ts)return Br;ts=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(w){let $="",_=0,b=0;for(b=0;b<w.length;b++)if(_=w[b].charCodeAt(0),_!==48){if(!(_>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102))return"";$+=w[b];break}for(b+=1;b<w.length;b++){if(_=w[b].charCodeAt(0),!(_>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102))return"";$+=w[b]}return $}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function o(w){return w.length=0,!0}function s(w,$,_){if(w.length){const b=r(w);if(b!=="")$.push(b);else return _.error=!0,!1;w.length=0}return!0}function c(w){let $=0;const _={error:!1,address:"",zone:""},b=[],f=[];let h=!1,i=!1,l=s;for(let g=0;g<w.length;g++){const u=w[g];if(!(u==="["||u==="]"))if(u===":"){if(h===!0&&(i=!0),!l(f,b,_))break;if(++$>7){_.error=!0;break}g>0&&w[g-1]===":"&&(h=!0),b.push(":");continue}else if(u==="%"){if(!l(f,b,_))break;l=o}else{f.push(u);continue}}return f.length&&(l===o?_.zone=f.join(""):i?b.push(f.join("")):b.push(r(f))),_.address=b.join(""),_}function a(w){if(d(w,":")<2)return{host:w,isIPV6:!1};const $=c(w);if($.error)return{host:w,isIPV6:!1};{let _=$.address,b=$.address;return $.zone&&(_+="%"+$.zone,b+="%25"+$.zone),{host:_,isIPV6:!0,escapedHost:b}}}function d(w,$){let _=0;for(let b=0;b<w.length;b++)w[b]===$&&_++;return _}function m(w){let $=w;const _=[];let b=-1,f=0;for(;f=$.length;){if(f===1){if($===".")break;if($==="/"){_.push("/");break}else{_.push($);break}}else if(f===2){if($[0]==="."){if($[1]===".")break;if($[1]==="/"){$=$.slice(2);continue}}else if($[0]==="/"&&($[1]==="."||$[1]==="/")){_.push("/");break}}else if(f===3&&$==="/.."){_.length!==0&&_.pop(),_.push("/");break}if($[0]==="."){if($[1]==="."){if($[2]==="/"){$=$.slice(3);continue}}else if($[1]==="/"){$=$.slice(2);continue}}else if($[0]==="/"&&$[1]==="."){if($[2]==="/"){$=$.slice(2);continue}else if($[2]==="."&&$[3]==="/"){$=$.slice(3),_.length!==0&&_.pop();continue}}if((b=$.indexOf("/",1))===-1){_.push($);break}else _.push($.slice(0,b)),$=$.slice(b)}return _.join("")}function y(w,$){const _=$!==!0?escape:unescape;return w.scheme!==void 0&&(w.scheme=_(w.scheme)),w.userinfo!==void 0&&(w.userinfo=_(w.userinfo)),w.host!==void 0&&(w.host=_(w.host)),w.path!==void 0&&(w.path=_(w.path)),w.query!==void 0&&(w.query=_(w.query)),w.fragment!==void 0&&(w.fragment=_(w.fragment)),w}function E(w){const $=[];if(w.userinfo!==void 0&&($.push(w.userinfo),$.push("@")),w.host!==void 0){let _=unescape(w.host);if(!t(_)){const b=a(_);b.isIPV6===!0?_=`[${b.escapedHost}]`:_=w.host}$.push(_)}return(typeof w.port=="number"||typeof w.port=="string")&&($.push(":"),$.push(String(w.port))),$.length?$.join(""):void 0}return Br={nonSimpleDomain:n,recomposeAuthority:E,normalizeComponentEncoding:y,removeDotSegments:m,isIPv4:t,isUUID:e,normalizeIPv6:a,stringArrayToHexStripped:r},Br}var Jr,rs;function Po(){if(rs)return Jr;rs=1;const{isUUID:e}=ga(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(u){return r.indexOf(u)!==-1}function o(u){return u.secure===!0?!0:u.secure===!1?!1:u.scheme?u.scheme.length===3&&(u.scheme[0]==="w"||u.scheme[0]==="W")&&(u.scheme[1]==="s"||u.scheme[1]==="S")&&(u.scheme[2]==="s"||u.scheme[2]==="S"):!1}function s(u){return u.host||(u.error=u.error||"HTTP URIs must have a host."),u}function c(u){const v=String(u.scheme).toLowerCase()==="https";return(u.port===(v?443:80)||u.port==="")&&(u.port=void 0),u.path||(u.path="/"),u}function a(u){return u.secure=o(u),u.resourceName=(u.path||"/")+(u.query?"?"+u.query:""),u.path=void 0,u.query=void 0,u}function d(u){if((u.port===(o(u)?443:80)||u.port==="")&&(u.port=void 0),typeof u.secure=="boolean"&&(u.scheme=u.secure?"wss":"ws",u.secure=void 0),u.resourceName){const[v,T]=u.resourceName.split("?");u.path=v&&v!=="/"?v:void 0,u.query=T,u.resourceName=void 0}return u.fragment=void 0,u}function m(u,v){if(!u.path)return u.error="URN can not be parsed",u;const T=u.path.match(t);if(T){const k=v.scheme||u.scheme||"urn";u.nid=T[1].toLowerCase(),u.nss=T[2];const j=`${k}:${v.nid||u.nid}`,F=g(j);u.path=void 0,F&&(u=F.parse(u,v))}else u.error=u.error||"URN can not be parsed.";return u}function y(u,v){if(u.nid===void 0)throw new Error("URN without nid cannot be serialized");const T=v.scheme||u.scheme||"urn",k=u.nid.toLowerCase(),j=`${T}:${v.nid||k}`,F=g(j);F&&(u=F.serialize(u,v));const C=u,U=u.nss;return C.path=`${k||v.nid}:${U}`,v.skipEscape=!0,C}function E(u,v){const T=u;return T.uuid=T.nss,T.nss=void 0,!v.tolerant&&(!T.uuid||!e(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function w(u){const v=u;return v.nss=(u.uuid||"").toLowerCase(),v}const $={scheme:"http",domainHost:!0,parse:s,serialize:c},_={scheme:"https",domainHost:$.domainHost,parse:s,serialize:c},b={scheme:"ws",domainHost:!0,parse:a,serialize:d},f={scheme:"wss",domainHost:b.domainHost,parse:b.parse,serialize:b.serialize},l={http:$,https:_,ws:b,wss:f,urn:{scheme:"urn",parse:m,serialize:y,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:E,serialize:w,skipNormalize:!0}};Object.setPrototypeOf(l,null);function g(u){return u&&(l[u]||l[u.toLowerCase()])||void 0}return Jr={wsIsSecure:o,SCHEMES:l,isValidSchemeName:n,getSchemeHandler:g},Jr}var ns;function No(){if(ns)return yt.exports;ns=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:o,nonSimpleDomain:s}=ga(),{SCHEMES:c,getSchemeHandler:a}=Po();function d(f,h){return typeof f=="string"?f=w(_(f,h),h):typeof f=="object"&&(f=_(w(f,h),h)),f}function m(f,h,i){const l=i?Object.assign({scheme:"null"},i):{scheme:"null"},g=y(_(f,l),_(h,l),l,!0);return l.skipEscape=!0,w(g,l)}function y(f,h,i,l){const g={};return l||(f=_(w(f,i),i),h=_(w(h,i),i)),i=i||{},!i.tolerant&&h.scheme?(g.scheme=h.scheme,g.userinfo=h.userinfo,g.host=h.host,g.port=h.port,g.path=t(h.path||""),g.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(g.userinfo=h.userinfo,g.host=h.host,g.port=h.port,g.path=t(h.path||""),g.query=h.query):(h.path?(h.path[0]==="/"?g.path=t(h.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?g.path="/"+h.path:f.path?g.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+h.path:g.path=h.path,g.path=t(g.path)),g.query=h.query):(g.path=f.path,h.query!==void 0?g.query=h.query:g.query=f.query),g.userinfo=f.userinfo,g.host=f.host,g.port=f.port),g.scheme=f.scheme),g.fragment=h.fragment,g}function E(f,h,i){return typeof f=="string"?(f=unescape(f),f=w(n(_(f,i),!0),{...i,skipEscape:!0})):typeof f=="object"&&(f=w(n(f,!0),{...i,skipEscape:!0})),typeof h=="string"?(h=unescape(h),h=w(n(_(h,i),!0),{...i,skipEscape:!0})):typeof h=="object"&&(h=w(n(h,!0),{...i,skipEscape:!0})),f.toLowerCase()===h.toLowerCase()}function w(f,h){const i={host:f.host,scheme:f.scheme,userinfo:f.userinfo,port:f.port,path:f.path,query:f.query,nid:f.nid,nss:f.nss,uuid:f.uuid,fragment:f.fragment,reference:f.reference,resourceName:f.resourceName,secure:f.secure,error:""},l=Object.assign({},h),g=[],u=a(l.scheme||i.scheme);u&&u.serialize&&u.serialize(i,l),i.path!==void 0&&(l.skipEscape?i.path=unescape(i.path):(i.path=escape(i.path),i.scheme!==void 0&&(i.path=i.path.split("%3A").join(":")))),l.reference!=="suffix"&&i.scheme&&g.push(i.scheme,":");const v=r(i);if(v!==void 0&&(l.reference!=="suffix"&&g.push("//"),g.push(v),i.path&&i.path[0]!=="/"&&g.push("/")),i.path!==void 0){let T=i.path;!l.absolutePath&&(!u||!u.absolutePath)&&(T=t(T)),v===void 0&&T[0]==="/"&&T[1]==="/"&&(T="/%2F"+T.slice(2)),g.push(T)}return i.query!==void 0&&g.push("?",i.query),i.fragment!==void 0&&g.push("#",i.fragment),g.join("")}const $=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function _(f,h){const i=Object.assign({},h),l={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let g=!1;i.reference==="suffix"&&(i.scheme?f=i.scheme+":"+f:f="//"+f);const u=f.match($);if(u){if(l.scheme=u[1],l.userinfo=u[3],l.host=u[4],l.port=parseInt(u[5],10),l.path=u[6]||"",l.query=u[7],l.fragment=u[8],isNaN(l.port)&&(l.port=u[5]),l.host)if(o(l.host)===!1){const k=e(l.host);l.host=k.host.toLowerCase(),g=k.isIPV6}else g=!0;l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&l.query===void 0&&!l.path?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==l.reference&&(l.error=l.error||"URI is not a "+i.reference+" reference.");const v=a(i.scheme||l.scheme);if(!i.unicodeSupport&&(!v||!v.unicodeSupport)&&l.host&&(i.domainHost||v&&v.domainHost)&&g===!1&&s(l.host))try{l.host=URL.domainToASCII(l.host.toLowerCase())}catch(T){l.error=l.error||"Host's domain name can not be converted to ASCII: "+T}(!v||v&&!v.skipNormalize)&&(f.indexOf("%")!==-1&&(l.scheme!==void 0&&(l.scheme=unescape(l.scheme)),l.host!==void 0&&(l.host=unescape(l.host))),l.path&&(l.path=escape(unescape(l.path))),l.fragment&&(l.fragment=encodeURI(decodeURIComponent(l.fragment)))),v&&v.parse&&v.parse(l,i)}else l.error=l.error||"URI can not be parsed.";return l}const b={SCHEMES:c,normalize:d,resolve:m,resolveComponent:y,equal:E,serialize:w,parse:_};return yt.exports=b,yt.exports.default=b,yt.exports.fastUri=b,yt.exports}var ss;function Ao(){if(ss)return jt;ss=1,Object.defineProperty(jt,"__esModule",{value:!0});const e=No();return e.code='require("ajv/dist/runtime/uri").default',jt.default=e,jt}var as;function Ro(){return as||(as=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ir();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=X();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=hn(),o=Cr(),s=ha(),c=mn(),a=X(),d=kr(),m=Nr(),y=re(),E=To,w=Ao(),$=(q,N)=>new RegExp(q,N);$.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},i=200;function l(q){var N,M,R,p,S,I,K,G,ee,Z,A,O,D,z,x,J,oe,me,le,fe,ie,ze,Ne,tt,Ue;const Ie=q.strict,Le=(N=q.code)===null||N===void 0?void 0:N.optimize,ht=Le===!0||Le===void 0?1:Le||0,mt=(R=(M=q.code)===null||M===void 0?void 0:M.regExp)!==null&&R!==void 0?R:$,Nt=(p=q.uriResolver)!==null&&p!==void 0?p:w.default;return{strictSchema:(I=(S=q.strictSchema)!==null&&S!==void 0?S:Ie)!==null&&I!==void 0?I:!0,strictNumbers:(G=(K=q.strictNumbers)!==null&&K!==void 0?K:Ie)!==null&&G!==void 0?G:!0,strictTypes:(Z=(ee=q.strictTypes)!==null&&ee!==void 0?ee:Ie)!==null&&Z!==void 0?Z:"log",strictTuples:(O=(A=q.strictTuples)!==null&&A!==void 0?A:Ie)!==null&&O!==void 0?O:"log",strictRequired:(z=(D=q.strictRequired)!==null&&D!==void 0?D:Ie)!==null&&z!==void 0?z:!1,code:q.code?{...q.code,optimize:ht,regExp:mt}:{optimize:ht,regExp:mt},loopRequired:(x=q.loopRequired)!==null&&x!==void 0?x:i,loopEnum:(J=q.loopEnum)!==null&&J!==void 0?J:i,meta:(oe=q.meta)!==null&&oe!==void 0?oe:!0,messages:(me=q.messages)!==null&&me!==void 0?me:!0,inlineRefs:(le=q.inlineRefs)!==null&&le!==void 0?le:!0,schemaId:(fe=q.schemaId)!==null&&fe!==void 0?fe:"$id",addUsedSchema:(ie=q.addUsedSchema)!==null&&ie!==void 0?ie:!0,validateSchema:(ze=q.validateSchema)!==null&&ze!==void 0?ze:!0,validateFormats:(Ne=q.validateFormats)!==null&&Ne!==void 0?Ne:!0,unicodeRegExp:(tt=q.unicodeRegExp)!==null&&tt!==void 0?tt:!0,int32range:(Ue=q.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:Nt}}class g{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...l(N)};const{es5:M,lines:R}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:b,es5:M,lines:R}),this.logger=U(N.logger);const p=N.validateFormats;N.validateFormats=!1,this.RULES=(0,s.getRules)(),u.call(this,f,N,"NOT SUPPORTED"),u.call(this,h,N,"DEPRECATED","warn"),this._metaOpts=F.call(this),N.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&j.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),T.call(this),N.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:M,schemaId:R}=this.opts;let p=E;R==="id"&&(p={...E},p.id=p.$id,delete p.$id),M&&N&&this.addMetaSchema(p,p[R],!1)}defaultMeta(){const{meta:N,schemaId:M}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[M]||N:void 0}validate(N,M){let R;if(typeof N=="string"){if(R=this.getSchema(N),!R)throw new Error(`no schema with key or ref "${N}"`)}else R=this.compile(N);const p=R(M);return"$async"in R||(this.errors=R.errors),p}compile(N,M){const R=this._addSchema(N,M);return R.validate||this._compileSchemaEnv(R)}compileAsync(N,M){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:R}=this.opts;return p.call(this,N,M);async function p(Z,A){await S.call(this,Z.$schema);const O=this._addSchema(Z,A);return O.validate||I.call(this,O)}async function S(Z){Z&&!this.getSchema(Z)&&await p.call(this,{$ref:Z},!0)}async function I(Z){try{return this._compileSchemaEnv(Z)}catch(A){if(!(A instanceof o.default))throw A;return K.call(this,A),await G.call(this,A.missingSchema),I.call(this,Z)}}function K({missingSchema:Z,missingRef:A}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${A} cannot be resolved`)}async function G(Z){const A=await ee.call(this,Z);this.refs[Z]||await S.call(this,A.$schema),this.refs[Z]||this.addSchema(A,Z,M)}async function ee(Z){const A=this._loading[Z];if(A)return A;try{return await(this._loading[Z]=R(Z))}finally{delete this._loading[Z]}}}addSchema(N,M,R,p=this.opts.validateSchema){if(Array.isArray(N)){for(const I of N)this.addSchema(I,void 0,R,p);return this}let S;if(typeof N=="object"){const{schemaId:I}=this.opts;if(S=N[I],S!==void 0&&typeof S!="string")throw new Error(`schema ${I} must be string`)}return M=(0,d.normalizeId)(M||S),this._checkUnique(M),this.schemas[M]=this._addSchema(N,R,M,p,!0),this}addMetaSchema(N,M,R=this.opts.validateSchema){return this.addSchema(N,M,!0,R),this}validateSchema(N,M){if(typeof N=="boolean")return!0;let R;if(R=N.$schema,R!==void 0&&typeof R!="string")throw new Error("$schema must be a string");if(R=R||this.opts.defaultMeta||this.defaultMeta(),!R)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(R,N);if(!p&&M){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return p}getSchema(N){let M;for(;typeof(M=v.call(this,N))=="string";)N=M;if(M===void 0){const{schemaId:R}=this.opts,p=new c.SchemaEnv({schema:{},schemaId:R});if(M=c.resolveSchema.call(this,p,N),!M)return;this.refs[N]=M}return M.validate||this._compileSchemaEnv(M)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const M=v.call(this,N);return typeof M=="object"&&this._cache.delete(M.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const M=N;this._cache.delete(M);let R=N[this.opts.schemaId];return R&&(R=(0,d.normalizeId)(R),delete this.schemas[R],delete this.refs[R]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const M of N)this.addKeyword(M);return this}addKeyword(N,M){let R;if(typeof N=="string")R=N,typeof M=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),M.keyword=R);else if(typeof N=="object"&&M===void 0){if(M=N,R=M.keyword,Array.isArray(R)&&!R.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,R,M),!M)return(0,y.eachItem)(R,S=>te.call(this,S)),this;ye.call(this,M);const p={...M,type:(0,m.getJSONTypes)(M.type),schemaType:(0,m.getJSONTypes)(M.schemaType)};return(0,y.eachItem)(R,p.type.length===0?S=>te.call(this,S,p):S=>p.type.forEach(I=>te.call(this,S,p,I))),this}getKeyword(N){const M=this.RULES.all[N];return typeof M=="object"?M.definition:!!M}removeKeyword(N){const{RULES:M}=this;delete M.keywords[N],delete M.all[N];for(const R of M.rules){const p=R.rules.findIndex(S=>S.keyword===N);p>=0&&R.rules.splice(p,1)}return this}addFormat(N,M){return typeof M=="string"&&(M=new RegExp(M)),this.formats[N]=M,this}errorsText(N=this.errors,{separator:M=", ",dataVar:R="data"}={}){return!N||N.length===0?"No errors":N.map(p=>`${R}${p.instancePath} ${p.message}`).reduce((p,S)=>p+M+S)}$dataMetaSchema(N,M){const R=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const p of M){const S=p.split("/").slice(1);let I=N;for(const K of S)I=I[K];for(const K in R){const G=R[K];if(typeof G!="object")continue;const{$data:ee}=G.definition,Z=I[K];ee&&Z&&(I[K]=Oe(Z))}}return N}_removeAllSchemas(N,M){for(const R in N){const p=N[R];(!M||M.test(R))&&(typeof p=="string"?delete N[R]:p&&!p.meta&&(this._cache.delete(p.schema),delete N[R]))}}_addSchema(N,M,R,p=this.opts.validateSchema,S=this.opts.addUsedSchema){let I;const{schemaId:K}=this.opts;if(typeof N=="object")I=N[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(N);if(G!==void 0)return G;R=(0,d.normalizeId)(I||R);const ee=d.getSchemaRefs.call(this,N,R);return G=new c.SchemaEnv({schema:N,schemaId:K,meta:M,baseId:R,localRefs:ee}),this._cache.set(G.schema,G),S&&!R.startsWith("#")&&(R&&this._checkUnique(R),this.refs[R]=G),p&&this.validateSchema(N,!0),G}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):c.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const M=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,N)}finally{this.opts=M}}}g.ValidationError=n.default,g.MissingRefError=o.default,e.default=g;function u(q,N,M,R="error"){for(const p in q){const S=p;S in N&&this.logger[R](`${M}: option ${p}. ${q[S]}`)}}function v(q){return q=(0,d.normalizeId)(q),this.schemas[q]||this.refs[q]}function T(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const N in q)this.addSchema(q[N],N)}function k(){for(const q in this.opts.formats){const N=this.opts.formats[q];N&&this.addFormat(q,N)}}function j(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in q){const M=q[N];M.keyword||(M.keyword=N),this.addKeyword(M)}}function F(){const q={...this.opts};for(const N of _)delete q[N];return q}const C={log(){},warn(){},error(){}};function U(q){if(q===!1)return C;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function H(q,N){const{RULES:M}=this;if((0,y.eachItem)(q,R=>{if(M.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!V.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function te(q,N,M){var R;const p=N?.post;if(M&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let I=p?S.post:S.rules.find(({type:G})=>G===M);if(I||(I={type:M,rules:[]},S.rules.push(I)),S.keywords[q]=!0,!N)return;const K={keyword:q,definition:{...N,type:(0,m.getJSONTypes)(N.type),schemaType:(0,m.getJSONTypes)(N.schemaType)}};N.before?ge.call(this,I,K,N.before):I.rules.push(K),S.all[q]=K,(R=N.implements)===null||R===void 0||R.forEach(G=>this.addKeyword(G))}function ge(q,N,M){const R=q.rules.findIndex(p=>p.keyword===M);R>=0?q.rules.splice(R,0,N):(q.rules.push(N),this.logger.warn(`rule ${M} is not defined`))}function ye(q){let{metaSchema:N}=q;N!==void 0&&(q.$data&&this.opts.$data&&(N=Oe(N)),q.validateSchema=this.compile(N,!0))}const ne={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(q){return{anyOf:[q,ne]}}})(Fr)),Fr}var Lt={},qt={},zt={},os;function Oo(){if(os)return zt;os=1,Object.defineProperty(zt,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return zt.default=e,zt}var Ye={},is;function ko(){if(is)return Ye;is=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.callRef=Ye.getValidate=void 0;const e=Cr(),t=je(),r=X(),n=et(),o=mn(),s=re(),c={keyword:"$ref",schemaType:"string",code(m){const{gen:y,schema:E,it:w}=m,{baseId:$,schemaEnv:_,validateName:b,opts:f,self:h}=w,{root:i}=_;if((E==="#"||E==="#/")&&$===i.baseId)return g();const l=o.resolveRef.call(h,i,$,E);if(l===void 0)throw new e.default(w.opts.uriResolver,$,E);if(l instanceof o.SchemaEnv)return u(l);return v(l);function g(){if(_===i)return d(m,b,_,_.$async);const T=y.scopeValue("root",{ref:i});return d(m,(0,r._)`${T}.validate`,i,i.$async)}function u(T){const k=a(m,T);d(m,k,T,T.$async)}function v(T){const k=y.scopeValue("schema",f.code.source===!0?{ref:T,code:(0,r.stringify)(T)}:{ref:T}),j=y.name("valid"),F=m.subschema({schema:T,dataTypes:[],schemaPath:r.nil,topSchemaRef:k,errSchemaPath:E},j);m.mergeEvaluated(F),m.ok(j)}}};function a(m,y){const{gen:E}=m;return y.validate?E.scopeValue("validate",{ref:y.validate}):(0,r._)`${E.scopeValue("wrapper",{ref:y})}.validate`}Ye.getValidate=a;function d(m,y,E,w){const{gen:$,it:_}=m,{allErrors:b,schemaEnv:f,opts:h}=_,i=h.passContext?n.default.this:r.nil;w?l():g();function l(){if(!f.$async)throw new Error("async schema referenced by sync schema");const T=$.let("valid");$.try(()=>{$.code((0,r._)`await ${(0,t.callValidateCode)(m,y,i)}`),v(y),b||$.assign(T,!0)},k=>{$.if((0,r._)`!(${k} instanceof ${_.ValidationError})`,()=>$.throw(k)),u(k),b||$.assign(T,!1)}),m.ok(T)}function g(){m.result((0,t.callValidateCode)(m,y,i),()=>v(y),()=>u(y))}function u(T){const k=(0,r._)`${T}.errors`;$.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${k} : ${n.default.vErrors}.concat(${k})`),$.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function v(T){var k;if(!_.opts.unevaluated)return;const j=(k=E?.validate)===null||k===void 0?void 0:k.evaluated;if(_.props!==!0)if(j&&!j.dynamicProps)j.props!==void 0&&(_.props=s.mergeEvaluated.props($,j.props,_.props));else{const F=$.var("props",(0,r._)`${T}.evaluated.props`);_.props=s.mergeEvaluated.props($,F,_.props,r.Name)}if(_.items!==!0)if(j&&!j.dynamicItems)j.items!==void 0&&(_.items=s.mergeEvaluated.items($,j.items,_.items));else{const F=$.var("items",(0,r._)`${T}.evaluated.items`);_.items=s.mergeEvaluated.items($,F,_.items,r.Name)}}}return Ye.callRef=d,Ye.default=c,Ye}var cs;function Io(){if(cs)return qt;cs=1,Object.defineProperty(qt,"__esModule",{value:!0});const e=Oo(),t=ko(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return qt.default=r,qt}var Ut={},Ft={},us;function Co(){if(us)return Ft;us=1,Object.defineProperty(Ft,"__esModule",{value:!0});const e=X(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:s,schemaCode:c})=>(0,e.str)`must be ${r[s].okStr} ${c}`,params:({keyword:s,schemaCode:c})=>(0,e._)`{comparison: ${r[s].okStr}, limit: ${c}}`},o={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:c,data:a,schemaCode:d}=s;s.fail$data((0,e._)`${a} ${r[c].fail} ${d} || isNaN(${a})`)}};return Ft.default=o,Ft}var Vt={},ls;function Do(){if(ls)return Vt;ls=1,Object.defineProperty(Vt,"__esModule",{value:!0});const e=X(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:o,data:s,schemaCode:c,it:a}=n,d=a.opts.multipleOfPrecision,m=o.let("res"),y=d?(0,e._)`Math.abs(Math.round(${m}) - ${m}) > 1e-${d}`:(0,e._)`${m} !== parseInt(${m})`;n.fail$data((0,e._)`(${c} === 0 || (${m} = ${s}/${c}, ${y}))`)}};return Vt.default=r,Vt}var Ht={},xt={},fs;function Mo(){if(fs)return xt;fs=1,Object.defineProperty(xt,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,o=0,s;for(;o<r;)n++,s=t.charCodeAt(o++),s>=55296&&s<=56319&&o<r&&(s=t.charCodeAt(o),(s&64512)===56320&&o++);return n}return xt.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',xt}var ds;function jo(){if(ds)return Ht;ds=1,Object.defineProperty(Ht,"__esModule",{value:!0});const e=X(),t=re(),r=Mo(),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:c}){const a=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${c} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:c,data:a,schemaCode:d,it:m}=s,y=c==="maxLength"?e.operators.GT:e.operators.LT,E=m.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(s.gen,r.default)}(${a})`;s.fail$data((0,e._)`${E} ${y} ${d}`)}};return Ht.default=o,Ht}var Kt={},hs;function Lo(){if(hs)return Kt;hs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const e=je(),t=X(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,t.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,t._)`{pattern: ${o}}`},code(o){const{data:s,$data:c,schema:a,schemaCode:d,it:m}=o,y=m.opts.unicodeRegExp?"u":"",E=c?(0,t._)`(new RegExp(${d}, ${y}))`:(0,e.usePattern)(o,a);o.fail$data((0,t._)`!${E}.test(${s})`)}};return Kt.default=n,Kt}var Gt={},ms;function qo(){if(ms)return Gt;ms=1,Object.defineProperty(Gt,"__esModule",{value:!0});const e=X(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:o}){const s=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:o,data:s,schemaCode:c}=n,a=o==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${s}).length ${a} ${c}`)}};return Gt.default=r,Gt}var Wt={},ps;function zo(){if(ps)return Wt;ps=1,Object.defineProperty(Wt,"__esModule",{value:!0});const e=je(),t=X(),r=re(),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:c,schema:a,schemaCode:d,data:m,$data:y,it:E}=s,{opts:w}=E;if(!y&&a.length===0)return;const $=a.length>=w.loopRequired;if(E.allErrors?_():b(),w.strictRequired){const i=s.parentSchema.properties,{definedProperties:l}=s.it;for(const g of a)if(i?.[g]===void 0&&!l.has(g)){const u=E.schemaEnv.baseId+E.errSchemaPath,v=`required property "${g}" is not defined at "${u}" (strictRequired)`;(0,r.checkStrictMode)(E,v,E.opts.strictRequired)}}function _(){if($||y)s.block$data(t.nil,f);else for(const i of a)(0,e.checkReportMissingProp)(s,i)}function b(){const i=c.let("missing");if($||y){const l=c.let("valid",!0);s.block$data(l,()=>h(i,l)),s.ok(l)}else c.if((0,e.checkMissingProp)(s,a,i)),(0,e.reportMissingProp)(s,i),c.else()}function f(){c.forOf("prop",d,i=>{s.setParams({missingProperty:i}),c.if((0,e.noPropertyInData)(c,m,i,w.ownProperties),()=>s.error())})}function h(i,l){s.setParams({missingProperty:i}),c.forOf(i,d,()=>{c.assign(l,(0,e.propertyInData)(c,m,i,w.ownProperties)),c.if((0,t.not)(l),()=>{s.error(),c.break()})},t.nil)}}};return Wt.default=o,Wt}var Bt={},gs;function Uo(){if(gs)return Bt;gs=1,Object.defineProperty(Bt,"__esModule",{value:!0});const e=X(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:o}){const s=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:o,data:s,schemaCode:c}=n,a=o==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${s}.length ${a} ${c}`)}};return Bt.default=r,Bt}var Jt={},Yt={},ys;function pn(){if(ys)return Yt;ys=1,Object.defineProperty(Yt,"__esModule",{value:!0});const e=pa();return e.code='require("ajv/dist/runtime/equal").default',Yt.default=e,Yt}var _s;function Fo(){if(_s)return Jt;_s=1,Object.defineProperty(Jt,"__esModule",{value:!0});const e=Nr(),t=X(),r=re(),n=pn(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:c,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${c} are identical)`,params:({params:{i:c,j:a}})=>(0,t._)`{i: ${c}, j: ${a}}`},code(c){const{gen:a,data:d,$data:m,schema:y,parentSchema:E,schemaCode:w,it:$}=c;if(!m&&!y)return;const _=a.let("valid"),b=E.items?(0,e.getSchemaTypes)(E.items):[];c.block$data(_,f,(0,t._)`${w} === false`),c.ok(_);function f(){const g=a.let("i",(0,t._)`${d}.length`),u=a.let("j");c.setParams({i:g,j:u}),a.assign(_,!0),a.if((0,t._)`${g} > 1`,()=>(h()?i:l)(g,u))}function h(){return b.length>0&&!b.some(g=>g==="object"||g==="array")}function i(g,u){const v=a.name("item"),T=(0,e.checkDataTypes)(b,v,$.opts.strictNumbers,e.DataType.Wrong),k=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${g}--;`,()=>{a.let(v,(0,t._)`${d}[${g}]`),a.if(T,(0,t._)`continue`),b.length>1&&a.if((0,t._)`typeof ${v} == "string"`,(0,t._)`${v} += "_"`),a.if((0,t._)`typeof ${k}[${v}] == "number"`,()=>{a.assign(u,(0,t._)`${k}[${v}]`),c.error(),a.assign(_,!1).break()}).code((0,t._)`${k}[${v}] = ${g}`)})}function l(g,u){const v=(0,r.useFunc)(a,n.default),T=a.name("outer");a.label(T).for((0,t._)`;${g}--;`,()=>a.for((0,t._)`${u} = ${g}; ${u}--;`,()=>a.if((0,t._)`${v}(${d}[${g}], ${d}[${u}])`,()=>{c.error(),a.assign(_,!1).break(T)})))}}};return Jt.default=s,Jt}var Xt={},vs;function Vo(){if(vs)return Xt;vs=1,Object.defineProperty(Xt,"__esModule",{value:!0});const e=X(),t=re(),r=pn(),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:c,data:a,$data:d,schemaCode:m,schema:y}=s;d||y&&typeof y=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(c,r.default)}(${a}, ${m})`):s.fail((0,e._)`${y} !== ${a}`)}};return Xt.default=o,Xt}var Zt={},$s;function Ho(){if($s)return Zt;$s=1,Object.defineProperty(Zt,"__esModule",{value:!0});const e=X(),t=re(),r=pn(),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:c,data:a,$data:d,schema:m,schemaCode:y,it:E}=s;if(!d&&m.length===0)throw new Error("enum must have non-empty array");const w=m.length>=E.opts.loopEnum;let $;const _=()=>$??($=(0,t.useFunc)(c,r.default));let b;if(w||d)b=c.let("valid"),s.block$data(b,f);else{if(!Array.isArray(m))throw new Error("ajv implementation error");const i=c.const("vSchema",y);b=(0,e.or)(...m.map((l,g)=>h(i,g)))}s.pass(b);function f(){c.assign(b,!1),c.forOf("v",y,i=>c.if((0,e._)`${_()}(${a}, ${i})`,()=>c.assign(b,!0).break()))}function h(i,l){const g=m[l];return typeof g=="object"&&g!==null?(0,e._)`${_()}(${a}, ${i}[${l}])`:(0,e._)`${a} === ${g}`}}};return Zt.default=o,Zt}var ws;function xo(){if(ws)return Ut;ws=1,Object.defineProperty(Ut,"__esModule",{value:!0});const e=Co(),t=Do(),r=jo(),n=Lo(),o=qo(),s=zo(),c=Uo(),a=Fo(),d=Vo(),m=Ho(),y=[e.default,t.default,r.default,n.default,o.default,s.default,c.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,m.default];return Ut.default=y,Ut}var Qt={},lt={},Es;function ya(){if(Es)return lt;Es=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.validateAdditionalItems=void 0;const e=X(),t=re(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:c,it:a}=s,{items:d}=c;if(!Array.isArray(d)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,d)}};function o(s,c){const{gen:a,schema:d,data:m,keyword:y,it:E}=s;E.items=!0;const w=a.const("len",(0,e._)`${m}.length`);if(d===!1)s.setParams({len:c.length}),s.pass((0,e._)`${w} <= ${c.length}`);else if(typeof d=="object"&&!(0,t.alwaysValidSchema)(E,d)){const _=a.var("valid",(0,e._)`${w} <= ${c.length}`);a.if((0,e.not)(_),()=>$(_)),s.ok(_)}function $(_){a.forRange("i",c.length,w,b=>{s.subschema({keyword:y,dataProp:b,dataPropType:t.Type.Num},_),E.allErrors||a.if((0,e.not)(_),()=>a.break())})}}return lt.validateAdditionalItems=o,lt.default=n,lt}var er={},ft={},bs;function _a(){if(bs)return ft;bs=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.validateTuple=void 0;const e=X(),t=re(),r=je(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:c,it:a}=s;if(Array.isArray(c))return o(s,"additionalItems",c);a.items=!0,!(0,t.alwaysValidSchema)(a,c)&&s.ok((0,r.validateArray)(s))}};function o(s,c,a=s.schema){const{gen:d,parentSchema:m,data:y,keyword:E,it:w}=s;b(m),w.opts.unevaluated&&a.length&&w.items!==!0&&(w.items=t.mergeEvaluated.items(d,a.length,w.items));const $=d.name("valid"),_=d.const("len",(0,e._)`${y}.length`);a.forEach((f,h)=>{(0,t.alwaysValidSchema)(w,f)||(d.if((0,e._)`${_} > ${h}`,()=>s.subschema({keyword:E,schemaProp:h,dataProp:h},$)),s.ok($))});function b(f){const{opts:h,errSchemaPath:i}=w,l=a.length,g=l===f.minItems&&(l===f.maxItems||f[c]===!1);if(h.strictTuples&&!g){const u=`"${E}" is ${l}-tuple, but minItems or maxItems/${c} are not specified or different at path "${i}"`;(0,t.checkStrictMode)(w,u,h.strictTuples)}}}return ft.validateTuple=o,ft.default=n,ft}var Ss;function Ko(){if(Ss)return er;Ss=1,Object.defineProperty(er,"__esModule",{value:!0});const e=_a(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return er.default=t,er}var tr={},Ts;function Go(){if(Ts)return tr;Ts=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=X(),t=re(),r=je(),n=ya(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:c}})=>(0,e.str)`must NOT have more than ${c} items`,params:({params:{len:c}})=>(0,e._)`{limit: ${c}}`},code(c){const{schema:a,parentSchema:d,it:m}=c,{prefixItems:y}=d;m.items=!0,!(0,t.alwaysValidSchema)(m,a)&&(y?(0,n.validateAdditionalItems)(c,y):c.ok((0,r.validateArray)(c)))}};return tr.default=s,tr}var rr={},Ps;function Wo(){if(Ps)return rr;Ps=1,Object.defineProperty(rr,"__esModule",{value:!0});const e=X(),t=re(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:o,max:s}})=>s===void 0?(0,e.str)`must contain at least ${o} valid item(s)`:(0,e.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,e._)`{minContains: ${o}}`:(0,e._)`{minContains: ${o}, maxContains: ${s}}`},code(o){const{gen:s,schema:c,parentSchema:a,data:d,it:m}=o;let y,E;const{minContains:w,maxContains:$}=a;m.opts.next?(y=w===void 0?1:w,E=$):y=1;const _=s.const("len",(0,e._)`${d}.length`);if(o.setParams({min:y,max:E}),E===void 0&&y===0){(0,t.checkStrictMode)(m,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(E!==void 0&&y>E){(0,t.checkStrictMode)(m,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,t.alwaysValidSchema)(m,c)){let l=(0,e._)`${_} >= ${y}`;E!==void 0&&(l=(0,e._)`${l} && ${_} <= ${E}`),o.pass(l);return}m.items=!0;const b=s.name("valid");E===void 0&&y===1?h(b,()=>s.if(b,()=>s.break())):y===0?(s.let(b,!0),E!==void 0&&s.if((0,e._)`${d}.length > 0`,f)):(s.let(b,!1),f()),o.result(b,()=>o.reset());function f(){const l=s.name("_valid"),g=s.let("count",0);h(l,()=>s.if(l,()=>i(g)))}function h(l,g){s.forRange("i",0,_,u=>{o.subschema({keyword:"contains",dataProp:u,dataPropType:t.Type.Num,compositeRule:!0},l),g()})}function i(l){s.code((0,e._)`${l}++`),E===void 0?s.if((0,e._)`${l} >= ${y}`,()=>s.assign(b,!0).break()):(s.if((0,e._)`${l} > ${E}`,()=>s.assign(b,!1).break()),y===1?s.assign(b,!0):s.if((0,e._)`${l} >= ${y}`,()=>s.assign(b,!0)))}}};return rr.default=n,rr}var Yr={},Ns;function Bo(){return Ns||(Ns=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=X(),r=re(),n=je();e.error={message:({params:{property:d,depsCount:m,deps:y}})=>{const E=m===1?"property":"properties";return(0,t.str)`must have ${E} ${y} when property ${d} is present`},params:({params:{property:d,depsCount:m,deps:y,missingProperty:E}})=>(0,t._)`{property: ${d},
    missingProperty: ${E},
    depsCount: ${m},
    deps: ${y}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(d){const[m,y]=s(d);c(d,m),a(d,y)}};function s({schema:d}){const m={},y={};for(const E in d){if(E==="__proto__")continue;const w=Array.isArray(d[E])?m:y;w[E]=d[E]}return[m,y]}function c(d,m=d.schema){const{gen:y,data:E,it:w}=d;if(Object.keys(m).length===0)return;const $=y.let("missing");for(const _ in m){const b=m[_];if(b.length===0)continue;const f=(0,n.propertyInData)(y,E,_,w.opts.ownProperties);d.setParams({property:_,depsCount:b.length,deps:b.join(", ")}),w.allErrors?y.if(f,()=>{for(const h of b)(0,n.checkReportMissingProp)(d,h)}):(y.if((0,t._)`${f} && (${(0,n.checkMissingProp)(d,b,$)})`),(0,n.reportMissingProp)(d,$),y.else())}}e.validatePropertyDeps=c;function a(d,m=d.schema){const{gen:y,data:E,keyword:w,it:$}=d,_=y.name("valid");for(const b in m)(0,r.alwaysValidSchema)($,m[b])||(y.if((0,n.propertyInData)(y,E,b,$.opts.ownProperties),()=>{const f=d.subschema({keyword:w,schemaProp:b},_);d.mergeValidEvaluated(f,_)},()=>y.var(_,!0)),d.ok(_))}e.validateSchemaDeps=a,e.default=o})(Yr)),Yr}var nr={},As;function Jo(){if(As)return nr;As=1,Object.defineProperty(nr,"__esModule",{value:!0});const e=X(),t=re(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:o})=>(0,e._)`{propertyName: ${o.propertyName}}`},code(o){const{gen:s,schema:c,data:a,it:d}=o;if((0,t.alwaysValidSchema)(d,c))return;const m=s.name("valid");s.forIn("key",a,y=>{o.setParams({propertyName:y}),o.subschema({keyword:"propertyNames",data:y,dataTypes:["string"],propertyName:y,compositeRule:!0},m),s.if((0,e.not)(m),()=>{o.error(!0),d.allErrors||s.break()})}),o.ok(m)}};return nr.default=n,nr}var sr={},Rs;function va(){if(Rs)return sr;Rs=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=je(),t=X(),r=et(),n=re(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:c})=>(0,t._)`{additionalProperty: ${c.additionalProperty}}`},code(c){const{gen:a,schema:d,parentSchema:m,data:y,errsCount:E,it:w}=c;if(!E)throw new Error("ajv implementation error");const{allErrors:$,opts:_}=w;if(w.props=!0,_.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(w,d))return;const b=(0,e.allSchemaProperties)(m.properties),f=(0,e.allSchemaProperties)(m.patternProperties);h(),c.ok((0,t._)`${E} === ${r.default.errors}`);function h(){a.forIn("key",y,v=>{!b.length&&!f.length?g(v):a.if(i(v),()=>g(v))})}function i(v){let T;if(b.length>8){const k=(0,n.schemaRefOrVal)(w,m.properties,"properties");T=(0,e.isOwnProperty)(a,k,v)}else b.length?T=(0,t.or)(...b.map(k=>(0,t._)`${v} === ${k}`)):T=t.nil;return f.length&&(T=(0,t.or)(T,...f.map(k=>(0,t._)`${(0,e.usePattern)(c,k)}.test(${v})`))),(0,t.not)(T)}function l(v){a.code((0,t._)`delete ${y}[${v}]`)}function g(v){if(_.removeAdditional==="all"||_.removeAdditional&&d===!1){l(v);return}if(d===!1){c.setParams({additionalProperty:v}),c.error(),$||a.break();return}if(typeof d=="object"&&!(0,n.alwaysValidSchema)(w,d)){const T=a.name("valid");_.removeAdditional==="failing"?(u(v,T,!1),a.if((0,t.not)(T),()=>{c.reset(),l(v)})):(u(v,T),$||a.if((0,t.not)(T),()=>a.break()))}}function u(v,T,k){const j={keyword:"additionalProperties",dataProp:v,dataPropType:n.Type.Str};k===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),c.subschema(j,T)}}};return sr.default=s,sr}var ar={},Os;function Yo(){if(Os)return ar;Os=1,Object.defineProperty(ar,"__esModule",{value:!0});const e=Ir(),t=je(),r=re(),n=va(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:c,schema:a,parentSchema:d,data:m,it:y}=s;y.opts.removeAdditional==="all"&&d.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(y,n.default,"additionalProperties"));const E=(0,t.allSchemaProperties)(a);for(const f of E)y.definedProperties.add(f);y.opts.unevaluated&&E.length&&y.props!==!0&&(y.props=r.mergeEvaluated.props(c,(0,r.toHash)(E),y.props));const w=E.filter(f=>!(0,r.alwaysValidSchema)(y,a[f]));if(w.length===0)return;const $=c.name("valid");for(const f of w)_(f)?b(f):(c.if((0,t.propertyInData)(c,m,f,y.opts.ownProperties)),b(f),y.allErrors||c.else().var($,!0),c.endIf()),s.it.definedProperties.add(f),s.ok($);function _(f){return y.opts.useDefaults&&!y.compositeRule&&a[f].default!==void 0}function b(f){s.subschema({keyword:"properties",schemaProp:f,dataProp:f},$)}}};return ar.default=o,ar}var or={},ks;function Xo(){if(ks)return or;ks=1,Object.defineProperty(or,"__esModule",{value:!0});const e=je(),t=X(),r=re(),n=re(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:c,schema:a,data:d,parentSchema:m,it:y}=s,{opts:E}=y,w=(0,e.allSchemaProperties)(a),$=w.filter(g=>(0,r.alwaysValidSchema)(y,a[g]));if(w.length===0||$.length===w.length&&(!y.opts.unevaluated||y.props===!0))return;const _=E.strictSchema&&!E.allowMatchingProperties&&m.properties,b=c.name("valid");y.props!==!0&&!(y.props instanceof t.Name)&&(y.props=(0,n.evaluatedPropsToName)(c,y.props));const{props:f}=y;h();function h(){for(const g of w)_&&i(g),y.allErrors?l(g):(c.var(b,!0),l(g),c.if(b))}function i(g){for(const u in _)new RegExp(g).test(u)&&(0,r.checkStrictMode)(y,`property ${u} matches pattern ${g} (use allowMatchingProperties)`)}function l(g){c.forIn("key",d,u=>{c.if((0,t._)`${(0,e.usePattern)(s,g)}.test(${u})`,()=>{const v=$.includes(g);v||s.subschema({keyword:"patternProperties",schemaProp:g,dataProp:u,dataPropType:n.Type.Str},b),y.opts.unevaluated&&f!==!0?c.assign((0,t._)`${f}[${u}]`,!0):!v&&!y.allErrors&&c.if((0,t.not)(b),()=>c.break())})})}}};return or.default=o,or}var ir={},Is;function Zo(){if(Is)return ir;Is=1,Object.defineProperty(ir,"__esModule",{value:!0});const e=re(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:o,it:s}=r;if((0,e.alwaysValidSchema)(s,o)){r.fail();return}const c=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},c),r.failResult(c,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return ir.default=t,ir}var cr={},Cs;function Qo(){if(Cs)return cr;Cs=1,Object.defineProperty(cr,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:je().validateUnion,error:{message:"must match a schema in anyOf"}};return cr.default=t,cr}var ur={},Ds;function ei(){if(Ds)return ur;Ds=1,Object.defineProperty(ur,"__esModule",{value:!0});const e=X(),t=re(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:o})=>(0,e._)`{passingSchemas: ${o.passing}}`},code(o){const{gen:s,schema:c,parentSchema:a,it:d}=o;if(!Array.isArray(c))throw new Error("ajv implementation error");if(d.opts.discriminator&&a.discriminator)return;const m=c,y=s.let("valid",!1),E=s.let("passing",null),w=s.name("_valid");o.setParams({passing:E}),s.block($),o.result(y,()=>o.reset(),()=>o.error(!0));function $(){m.forEach((_,b)=>{let f;(0,t.alwaysValidSchema)(d,_)?s.var(w,!0):f=o.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},w),b>0&&s.if((0,e._)`${w} && ${y}`).assign(y,!1).assign(E,(0,e._)`[${E}, ${b}]`).else(),s.if(w,()=>{s.assign(y,!0),s.assign(E,b),f&&o.mergeEvaluated(f,e.Name)})})}}};return ur.default=n,ur}var lr={},Ms;function ti(){if(Ms)return lr;Ms=1,Object.defineProperty(lr,"__esModule",{value:!0});const e=re(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:o,it:s}=r;if(!Array.isArray(o))throw new Error("ajv implementation error");const c=n.name("valid");o.forEach((a,d)=>{if((0,e.alwaysValidSchema)(s,a))return;const m=r.subschema({keyword:"allOf",schemaProp:d},c);r.ok(c),r.mergeEvaluated(m)})}};return lr.default=t,lr}var fr={},js;function ri(){if(js)return fr;js=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=X(),t=re(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:c,parentSchema:a,it:d}=s;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(d,'"if" without "then" and "else" is ignored');const m=o(d,"then"),y=o(d,"else");if(!m&&!y)return;const E=c.let("valid",!0),w=c.name("_valid");if($(),s.reset(),m&&y){const b=c.let("ifClause");s.setParams({ifClause:b}),c.if(w,_("then",b),_("else",b))}else m?c.if(w,_("then")):c.if((0,e.not)(w),_("else"));s.pass(E,()=>s.error(!0));function $(){const b=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},w);s.mergeEvaluated(b)}function _(b,f){return()=>{const h=s.subschema({keyword:b},w);c.assign(E,w),s.mergeValidEvaluated(h,E),f?c.assign(f,(0,e._)`${b}`):s.setParams({ifClause:b})}}}};function o(s,c){const a=s.schema[c];return a!==void 0&&!(0,t.alwaysValidSchema)(s,a)}return fr.default=n,fr}var dr={},Ls;function ni(){if(Ls)return dr;Ls=1,Object.defineProperty(dr,"__esModule",{value:!0});const e=re(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:o}){n.if===void 0&&(0,e.checkStrictMode)(o,`"${r}" without "if" is ignored`)}};return dr.default=t,dr}var qs;function si(){if(qs)return Qt;qs=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e=ya(),t=Ko(),r=_a(),n=Go(),o=Wo(),s=Bo(),c=Jo(),a=va(),d=Yo(),m=Xo(),y=Zo(),E=Qo(),w=ei(),$=ti(),_=ri(),b=ni();function f(h=!1){const i=[y.default,E.default,w.default,$.default,_.default,b.default,c.default,a.default,s.default,d.default,m.default];return h?i.push(t.default,n.default):i.push(e.default,r.default),i.push(o.default),i}return Qt.default=f,Qt}var hr={},mr={},zs;function ai(){if(zs)return mr;zs=1,Object.defineProperty(mr,"__esModule",{value:!0});const e=X(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,o){const{gen:s,data:c,$data:a,schema:d,schemaCode:m,it:y}=n,{opts:E,errSchemaPath:w,schemaEnv:$,self:_}=y;if(!E.validateFormats)return;a?b():f();function b(){const h=s.scopeValue("formats",{ref:_.formats,code:E.code.formats}),i=s.const("fDef",(0,e._)`${h}[${m}]`),l=s.let("fType"),g=s.let("format");s.if((0,e._)`typeof ${i} == "object" && !(${i} instanceof RegExp)`,()=>s.assign(l,(0,e._)`${i}.type || "string"`).assign(g,(0,e._)`${i}.validate`),()=>s.assign(l,(0,e._)`"string"`).assign(g,i)),n.fail$data((0,e.or)(u(),v()));function u(){return E.strictSchema===!1?e.nil:(0,e._)`${m} && !${g}`}function v(){const T=$.$async?(0,e._)`(${i}.async ? await ${g}(${c}) : ${g}(${c}))`:(0,e._)`${g}(${c})`,k=(0,e._)`(typeof ${g} == "function" ? ${T} : ${g}.test(${c}))`;return(0,e._)`${g} && ${g} !== true && ${l} === ${o} && !${k}`}}function f(){const h=_.formats[d];if(!h){u();return}if(h===!0)return;const[i,l,g]=v(h);i===o&&n.pass(T());function u(){if(E.strictSchema===!1){_.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${d}" ignored in schema at path "${w}"`}}function v(k){const j=k instanceof RegExp?(0,e.regexpCode)(k):E.code.formats?(0,e._)`${E.code.formats}${(0,e.getProperty)(d)}`:void 0,F=s.scopeValue("formats",{key:d,ref:k,code:j});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${F}.validate`]:["string",k,F]}function T(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!$.$async)throw new Error("async format in sync schema");return(0,e._)`await ${g}(${c})`}return typeof l=="function"?(0,e._)`${g}(${c})`:(0,e._)`${g}.test(${c})`}}}};return mr.default=r,mr}var Us;function oi(){if(Us)return hr;Us=1,Object.defineProperty(hr,"__esModule",{value:!0});const t=[ai().default];return hr.default=t,hr}var at={},Fs;function ii(){return Fs||(Fs=1,Object.defineProperty(at,"__esModule",{value:!0}),at.contentVocabulary=at.metadataVocabulary=void 0,at.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],at.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),at}var Vs;function ci(){if(Vs)return Lt;Vs=1,Object.defineProperty(Lt,"__esModule",{value:!0});const e=Io(),t=xo(),r=si(),n=oi(),o=ii(),s=[e.default,t.default,(0,r.default)(),n.default,o.metadataVocabulary,o.contentVocabulary];return Lt.default=s,Lt}var pr={},_t={},Hs;function ui(){if(Hs)return _t;Hs=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(_t.DiscrError=e={})),_t}var xs;function li(){if(xs)return pr;xs=1,Object.defineProperty(pr,"__esModule",{value:!0});const e=X(),t=ui(),r=mn(),n=Cr(),o=re(),c={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:d}})=>a===t.DiscrError.Tag?`tag "${d}" must be string`:`value of tag "${d}" must be in oneOf`,params:({params:{discrError:a,tag:d,tagName:m}})=>(0,e._)`{error: ${a}, tag: ${m}, tagValue: ${d}}`},code(a){const{gen:d,data:m,schema:y,parentSchema:E,it:w}=a,{oneOf:$}=E;if(!w.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=y.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(y.mapping)throw new Error("discriminator: mapping is not supported");if(!$)throw new Error("discriminator: requires oneOf keyword");const b=d.let("valid",!1),f=d.const("tag",(0,e._)`${m}${(0,e.getProperty)(_)}`);d.if((0,e._)`typeof ${f} == "string"`,()=>h(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:_})),a.ok(b);function h(){const g=l();d.if(!1);for(const u in g)d.elseIf((0,e._)`${f} === ${u}`),d.assign(b,i(g[u]));d.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:_}),d.endIf()}function i(g){const u=d.name("valid"),v=a.subschema({keyword:"oneOf",schemaProp:g},u);return a.mergeEvaluated(v,e.Name),u}function l(){var g;const u={},v=k(E);let T=!0;for(let C=0;C<$.length;C++){let U=$[C];if(U?.$ref&&!(0,o.schemaHasRulesButRef)(U,w.self.RULES)){const H=U.$ref;if(U=r.resolveRef.call(w.self,w.schemaEnv.root,w.baseId,H),U instanceof r.SchemaEnv&&(U=U.schema),U===void 0)throw new n.default(w.opts.uriResolver,w.baseId,H)}const V=(g=U?.properties)===null||g===void 0?void 0:g[_];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);T=T&&(v||k(U)),j(V,C)}if(!T)throw new Error(`discriminator: "${_}" must be required`);return u;function k({required:C}){return Array.isArray(C)&&C.includes(_)}function j(C,U){if(C.const)F(C.const,U);else if(C.enum)for(const V of C.enum)F(V,U);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function F(C,U){if(typeof C!="string"||C in u)throw new Error(`discriminator: "${_}" values must be unique strings`);u[C]=U}}}};return pr.default=c,pr}const fi="http://json-schema.org/draft-07/schema#",di="http://json-schema.org/draft-07/schema#",hi="Core schema meta-schema",mi={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},pi=["object","boolean"],gi={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},yi={$schema:fi,$id:di,title:hi,definitions:mi,type:pi,properties:gi,default:!0};var Ks;function $a(){return Ks||(Ks=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Ro(),n=ci(),o=li(),s=yi,c=["/properties"],a="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,c):s;this.addMetaSchema(_,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=d,e.exports=t=d,e.exports.Ajv=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var m=Ir();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var y=X();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var E=hn();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return E.default}});var w=Cr();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})})(It,It.exports)),It.exports}var _i=$a();const vi=da(_i);var gr={exports:{}},Xr={},Gs;function $i(){return Gs||(Gs=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,U){return{validate:C,compare:U}}e.fullFormats={date:t(s,c),time:t(d(!0),m),"date-time":t(w(!0),$),"iso-time":t(d(),y),"iso-date-time":t(w(),_),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:F,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:l,int32:{type:"number",validate:v},int64:{type:"number",validate:T},float:{type:"number",validate:k},double:{type:"number",validate:k},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,c),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,$),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,_),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(C){const U=n.exec(C);if(!U)return!1;const V=+U[1],H=+U[2],te=+U[3];return H>=1&&H<=12&&te>=1&&te<=(H===2&&r(V)?29:o[H])}function c(C,U){if(C&&U)return C>U?1:C<U?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function d(C){return function(V){const H=a.exec(V);if(!H)return!1;const te=+H[1],ge=+H[2],ye=+H[3],ne=H[4],Oe=H[5]==="-"?-1:1,q=+(H[6]||0),N=+(H[7]||0);if(q>23||N>59||C&&!ne)return!1;if(te<=23&&ge<=59&&ye<60)return!0;const M=ge-N*Oe,R=te-q*Oe-(M<0?1:0);return(R===23||R===-1)&&(M===59||M===-1)&&ye<61}}function m(C,U){if(!(C&&U))return;const V=new Date("2020-01-01T"+C).valueOf(),H=new Date("2020-01-01T"+U).valueOf();if(V&&H)return V-H}function y(C,U){if(!(C&&U))return;const V=a.exec(C),H=a.exec(U);if(V&&H)return C=V[1]+V[2]+V[3],U=H[1]+H[2]+H[3],C>U?1:C<U?-1:0}const E=/t|\s/i;function w(C){const U=d(C);return function(H){const te=H.split(E);return te.length===2&&s(te[0])&&U(te[1])}}function $(C,U){if(!(C&&U))return;const V=new Date(C).valueOf(),H=new Date(U).valueOf();if(V&&H)return V-H}function _(C,U){if(!(C&&U))return;const[V,H]=C.split(E),[te,ge]=U.split(E),ye=c(V,te);if(ye!==void 0)return ye||m(H,ge)}const b=/\/|:/,f=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(C){return b.test(C)&&f.test(C)}const i=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function l(C){return i.lastIndex=0,i.test(C)}const g=-2147483648,u=2**31-1;function v(C){return Number.isInteger(C)&&C<=u&&C>=g}function T(C){return Number.isInteger(C)}function k(){return!0}const j=/[^\\]\\Z/;function F(C){if(j.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(Xr)),Xr}var Zr={},Ws;function wi(){return Ws||(Ws=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=$a(),r=X(),n=r.operators,o={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:d})=>(0,r.str)`should be ${o[a].okStr} ${d}`,params:({keyword:a,schemaCode:d})=>(0,r._)`{comparison: ${o[a].okStr}, limit: ${d}}`};e.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:d,data:m,schemaCode:y,keyword:E,it:w}=a,{opts:$,self:_}=w;if(!$.validateFormats)return;const b=new t.KeywordCxt(w,_.RULES.all.format.definition,"format");b.$data?f():h();function f(){const l=d.scopeValue("formats",{ref:_.formats,code:$.code.formats}),g=d.const("fmt",(0,r._)`${l}[${b.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${g} != "object"`,(0,r._)`${g} instanceof RegExp`,(0,r._)`typeof ${g}.compare != "function"`,i(g)))}function h(){const l=b.schema,g=_.formats[l];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${E}": format "${l}" does not define "compare" function`);const u=d.scopeValue("formats",{key:l,ref:g,code:$.code.formats?(0,r._)`${$.code.formats}${(0,r.getProperty)(l)}`:void 0});a.fail$data(i(u))}function i(l){return(0,r._)`${l}.compare(${m}, ${y}) ${o[E].fail} 0`}},dependencies:["format"]};const c=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=c})(Zr)),Zr}var Bs;function Ei(){return Bs||(Bs=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=$i(),n=wi(),o=X(),s=new o.Name("fullFormats"),c=new o.Name("fastFormats"),a=(m,y={keywords:!0})=>{if(Array.isArray(y))return d(m,y,r.fullFormats,s),m;const[E,w]=y.mode==="fast"?[r.fastFormats,c]:[r.fullFormats,s],$=y.formats||r.formatNames;return d(m,$,E,w),y.keywords&&(0,n.default)(m),m};a.get=(m,y="full")=>{const w=(y==="fast"?r.fastFormats:r.fullFormats)[m];if(!w)throw new Error(`Unknown format "${m}"`);return w};function d(m,y,E,w){var $,_;($=(_=m.opts.code).formats)!==null&&$!==void 0||(_.formats=(0,o._)`require("ajv-formats/dist/formats").${w}`);for(const b of y)m.addFormat(b,E[b])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(gr,gr.exports)),gr.exports}var bi=Ei();const Si=da(bi),cn=new vi({strict:!1,validateSchema:!1,addUsedSchema:!1});Si(cn);function Ti(e){return e.startsWith("iglu:")?e.slice(5):null}function Pi(e){return e.includes("simplybusiness")}function Js(e){const t=e.split("-");if(t.length!==3)return null;const r=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10);return isNaN(r)||isNaN(n)||isNaN(o)?null:{major:r,minor:n,patch:o}}function Ni(e,t){return e.major!==t.major?e.major-t.major:e.minor!==t.minor?e.minor-t.minor:e.patch-t.patch}async function Ai(e){try{const t=e.split("/");if(t.length<2)return null;const r=t[0],n=t[1],o=t[3],s=Js(o);if(!s)return null;const c=await fetch(`/api/schema-latest?vendor=${encodeURIComponent(r)}&name=${encodeURIComponent(n)}`);if(!c.ok)return null;const d=(await c.json()).latestVersion;if(!d)return null;const m=Js(d);return m&&Ni(m,s)>0?`Newer schema version ${d} is available (currently using ${o})`:null}catch{return null}}async function Ri(e){try{const t=await fetch(`/schemas/${e}`);if(!t.ok)return null;const r=await t.json();return r.$schema&&delete r.$schema,r}catch(t){return console.warn(`Failed to load schema: ${e}`,t),null}}function Oi(e,t){try{const r=cn.compile(t);return r(e)?{isValid:!0}:{isValid:!1,error:r.errors?cn.errorsText(r.errors):"Validation failed"}}catch(r){return{isValid:!1,error:`Schema compilation error: ${r instanceof Error?r.message:"Unknown error"}`}}}async function wa(e,t=!1){const r=[];if(!e||typeof e!="object")return r;const n=t||e.kind==="Self-Describing Event";if(e.schema&&typeof e.schema=="string"&&n&&Pi(e.schema)){const o=Ti(e.schema);if(o){const s=await Ri(o);if(s)if(e.data!==void 0){const c=Oi(e.data,s);if(c.isValid){const a=await Ai(o);a&&(c.warning=a)}r.push(c)}else r.push({isValid:!1,error:"No data found to validate against schema"});else r.push({isValid:"unknown"})}else r.push({isValid:!1,error:"Invalid schema URI format"})}for(const[o,s]of Object.entries(e))if(s&&typeof s=="object"){const c=await wa(s,n);r.push(...c)}return r}async function ki(e){const t=r=>{if(!r||typeof r!="object")return!1;if(r.kind==="Self-Describing Event")return!0;for(const n of Object.values(r))if(t(n))return!0;return!1};return t(e)?await wa(e,!1):[]}async function Ii(e){const t=await ki(e);if(t.length===0)return{isValid:!0};const r=t.find(o=>o.isValid===!1);if(r)return r;const n=t.find(o=>o.isValid===!0&&o.warning);return n||t[0]}const Ci=e=>{const[t,r]=Xe("unknown"),[n,o]=Xe(null),[s,c]=Xe(null),a=(d,m=null,y=null)=>{r(d),o(m),c(y)};return oa(async()=>{const d=e();if(d)try{const m=await Ii(d);m.isValid===!0?a(m.warning?"warning":"valid",null,m.warning||null):m.isValid===!1?a("invalid",m.error||"Validation failed"):a("unknown")}catch(m){console.error("Validation error:",m),a("invalid","Failed to validate event")}}),{validationStatus:t,validationError:n,validationWarning:s}};var Di=Pe("<div>");const Mi=e=>{const t=()=>{switch(e.status){case"valid":return"bg-green-500";case"invalid":return"bg-red-500";case"warning":return"bg-orange-500";case"unknown":default:return"bg-gray-400 animate-pulse shadow-lg"}};return(()=>{var r=Di();return Je(()=>Rr(r,`w-4 h-4 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-sm ${t()}`)),r})()};var ji=Pe('<div><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">');const Li=e=>(()=>{var t=ji();return Je(r=>{var n=`transition-transform duration-100 flex-shrink-0 ${e.class||""}`,o=!!e.isOpen;return n!==r.e&&Rr(t,r.e=n),o!==r.t&&t.classList.toggle("rotate-90",r.t=o),r},{e:void 0,t:void 0}),t})();var qi=Pe('<button class="w-full flex items-center gap-4 p-4 hover:bg-card transition-colors duration-100 cursor-pointer"><span class="flex-grow text-left">');const zi=e=>(()=>{var t=qi(),r=t.firstChild;return Za(t,"click",e.onToggle),he(t,Re(Mi,{get status(){return e.status}}),r),he(r,()=>e.title),he(t,Re(Li,{get isOpen(){return e.isOpen}}),null),t})();Xa(["click"]);var Ui=Pe('<div><strong class=font-bold>: </strong><span class="block sm:inline">');const Fi=e=>{const t=()=>{switch(e.type){case"error":return"bg-red-600 border-red-500";case"warning":return"bg-orange-600 border-orange-500";case"info":return"bg-blue-600 border-blue-500";case"success":return"bg-green-600 border-green-500";default:return"bg-gray-600 border-gray-500"}};return(()=>{var r=Ui(),n=r.firstChild,o=n.firstChild,s=n.nextSibling;return he(n,()=>e.title,o),he(s,()=>e.message),Je(()=>Rr(r,`${t()} border text-white px-4 py-3 rounded-lg ${e.class||""}`)),r})()};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Ea,setPrototypeOf:Ys,isFrozen:Vi,getPrototypeOf:Hi,getOwnPropertyDescriptor:xi}=Object;let{freeze:Se,seal:Ce,create:un}=Object,{apply:ln,construct:fn}=typeof Reflect<"u"&&Reflect;Se||(Se=function(t){return t});Ce||(Ce=function(t){return t});ln||(ln=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];return t.apply(r,o)});fn||(fn=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return new t(...n)});const yr=Te(Array.prototype.forEach),Ki=Te(Array.prototype.lastIndexOf),Xs=Te(Array.prototype.pop),vt=Te(Array.prototype.push),Gi=Te(Array.prototype.splice),$r=Te(String.prototype.toLowerCase),Qr=Te(String.prototype.toString),en=Te(String.prototype.match),$t=Te(String.prototype.replace),Wi=Te(String.prototype.indexOf),Bi=Te(String.prototype.trim),Me=Te(Object.prototype.hasOwnProperty),be=Te(RegExp.prototype.test),wt=Ji(TypeError);function Te(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return ln(e,t,n)}}function Ji(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fn(e,r)}}function Q(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$r;Ys&&Ys(e,null);let n=t.length;for(;n--;){let o=t[n];if(typeof o=="string"){const s=r(o);s!==o&&(Vi(t)||(t[n]=s),o=s)}e[o]=!0}return e}function Yi(e){for(let t=0;t<e.length;t++)Me(e,t)||(e[t]=null);return e}function We(e){const t=un(null);for(const[r,n]of Ea(e))Me(e,r)&&(Array.isArray(n)?t[r]=Yi(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=We(n):t[r]=n);return t}function Et(e,t){for(;e!==null;){const n=xi(e,t);if(n){if(n.get)return Te(n.get);if(typeof n.value=="function")return Te(n.value)}e=Hi(e)}function r(){return null}return r}const Zs=Se(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tn=Se(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rn=Se(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xi=Se(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nn=Se(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Zi=Se(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qs=Se(["#text"]),ea=Se(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sn=Se(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ta=Se(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_r=Se(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qi=Ce(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ec=Ce(/<%[\w\W]*|[\w\W]*%>/gm),tc=Ce(/\$\{[\w\W]*/gm),rc=Ce(/^data-[\-\w.\u00B7-\uFFFF]+$/),nc=Ce(/^aria-[\-\w]+$/),ba=Ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sc=Ce(/^(?:\w+script|data):/i),ac=Ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sa=Ce(/^html$/i),oc=Ce(/^[a-z][.\w]*(-[.\w]+)+$/i);var ra=Object.freeze({__proto__:null,ARIA_ATTR:nc,ATTR_WHITESPACE:ac,CUSTOM_ELEMENT:oc,DATA_ATTR:rc,DOCTYPE_NAME:Sa,ERB_EXPR:ec,IS_ALLOWED_URI:ba,IS_SCRIPT_OR_DATA:sc,MUSTACHE_EXPR:Qi,TMPLIT_EXPR:tc});const bt={element:1,text:3,progressingInstruction:7,comment:8,document:9},ic=function(){return typeof window>"u"?null:window},cc=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const o="data-tt-policy-suffix";r&&r.hasAttribute(o)&&(n=r.getAttribute(o));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},na=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ta(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ic();const t=B=>Ta(B);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==bt.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,o=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:c,Node:a,Element:d,NodeFilter:m,NamedNodeMap:y=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:E,DOMParser:w,trustedTypes:$}=e,_=d.prototype,b=Et(_,"cloneNode"),f=Et(_,"remove"),h=Et(_,"nextSibling"),i=Et(_,"childNodes"),l=Et(_,"parentNode");if(typeof c=="function"){const B=r.createElement("template");B.content&&B.content.ownerDocument&&(r=B.content.ownerDocument)}let g,u="";const{implementation:v,createNodeIterator:T,createDocumentFragment:k,getElementsByTagName:j}=r,{importNode:F}=n;let C=na();t.isSupported=typeof Ea=="function"&&typeof l=="function"&&v&&v.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:V,TMPLIT_EXPR:H,DATA_ATTR:te,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:Oe}=ra;let{IS_ALLOWED_URI:q}=ra,N=null;const M=Q({},[...Zs,...tn,...rn,...nn,...Qs]);let R=null;const p=Q({},[...ea,...sn,...ta,..._r]);let S=Object.seal(un(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),I=null,K=null;const G=Object.seal(un(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ee=!0,Z=!0,A=!1,O=!0,D=!1,z=!0,x=!1,J=!1,oe=!1,me=!1,le=!1,fe=!1,ie=!0,ze=!1;const Ne="user-content-";let tt=!0,Ue=!1,Ie={},Le=null;const ht=Q({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mt=null;const Nt=Q({},["audio","video","img","source","image","track"]);let Dr=null;const gn=Q({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),At="http://www.w3.org/1998/Math/MathML",Rt="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let ot=Fe,Mr=!1,jr=null;const Pa=Q({},[At,Rt,Fe],Qr);let Ot=Q({},["mi","mo","mn","ms","mtext"]),kt=Q({},["annotation-xml"]);const Na=Q({},["title","style","font","a","script"]);let pt=null;const Aa=["application/xhtml+xml","text/html"],Ra="text/html";let pe=null,it=null;const Oa=r.createElement("form"),yn=function(P){return P instanceof RegExp||P instanceof Function},Lr=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(it&&it===P)){if((!P||typeof P!="object")&&(P={}),P=We(P),pt=Aa.indexOf(P.PARSER_MEDIA_TYPE)===-1?Ra:P.PARSER_MEDIA_TYPE,pe=pt==="application/xhtml+xml"?Qr:$r,N=Me(P,"ALLOWED_TAGS")?Q({},P.ALLOWED_TAGS,pe):M,R=Me(P,"ALLOWED_ATTR")?Q({},P.ALLOWED_ATTR,pe):p,jr=Me(P,"ALLOWED_NAMESPACES")?Q({},P.ALLOWED_NAMESPACES,Qr):Pa,Dr=Me(P,"ADD_URI_SAFE_ATTR")?Q(We(gn),P.ADD_URI_SAFE_ATTR,pe):gn,mt=Me(P,"ADD_DATA_URI_TAGS")?Q(We(Nt),P.ADD_DATA_URI_TAGS,pe):Nt,Le=Me(P,"FORBID_CONTENTS")?Q({},P.FORBID_CONTENTS,pe):ht,I=Me(P,"FORBID_TAGS")?Q({},P.FORBID_TAGS,pe):We({}),K=Me(P,"FORBID_ATTR")?Q({},P.FORBID_ATTR,pe):We({}),Ie=Me(P,"USE_PROFILES")?P.USE_PROFILES:!1,ee=P.ALLOW_ARIA_ATTR!==!1,Z=P.ALLOW_DATA_ATTR!==!1,A=P.ALLOW_UNKNOWN_PROTOCOLS||!1,O=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,D=P.SAFE_FOR_TEMPLATES||!1,z=P.SAFE_FOR_XML!==!1,x=P.WHOLE_DOCUMENT||!1,me=P.RETURN_DOM||!1,le=P.RETURN_DOM_FRAGMENT||!1,fe=P.RETURN_TRUSTED_TYPE||!1,oe=P.FORCE_BODY||!1,ie=P.SANITIZE_DOM!==!1,ze=P.SANITIZE_NAMED_PROPS||!1,tt=P.KEEP_CONTENT!==!1,Ue=P.IN_PLACE||!1,q=P.ALLOWED_URI_REGEXP||ba,ot=P.NAMESPACE||Fe,Ot=P.MATHML_TEXT_INTEGRATION_POINTS||Ot,kt=P.HTML_INTEGRATION_POINTS||kt,S=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&yn(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(S.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&yn(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(S.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(S.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D&&(Z=!1),le&&(me=!0),Ie&&(N=Q({},Qs),R=[],Ie.html===!0&&(Q(N,Zs),Q(R,ea)),Ie.svg===!0&&(Q(N,tn),Q(R,sn),Q(R,_r)),Ie.svgFilters===!0&&(Q(N,rn),Q(R,sn),Q(R,_r)),Ie.mathMl===!0&&(Q(N,nn),Q(R,ta),Q(R,_r))),P.ADD_TAGS&&(typeof P.ADD_TAGS=="function"?G.tagCheck=P.ADD_TAGS:(N===M&&(N=We(N)),Q(N,P.ADD_TAGS,pe))),P.ADD_ATTR&&(typeof P.ADD_ATTR=="function"?G.attributeCheck=P.ADD_ATTR:(R===p&&(R=We(R)),Q(R,P.ADD_ATTR,pe))),P.ADD_URI_SAFE_ATTR&&Q(Dr,P.ADD_URI_SAFE_ATTR,pe),P.FORBID_CONTENTS&&(Le===ht&&(Le=We(Le)),Q(Le,P.FORBID_CONTENTS,pe)),tt&&(N["#text"]=!0),x&&Q(N,["html","head","body"]),N.table&&(Q(N,["tbody"]),delete I.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw wt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=P.TRUSTED_TYPES_POLICY,u=g.createHTML("")}else g===void 0&&(g=cc($,o)),g!==null&&typeof u=="string"&&(u=g.createHTML(""));Se&&Se(P),it=P}},_n=Q({},[...tn,...rn,...Xi]),vn=Q({},[...nn,...Zi]),ka=function(P){let L=l(P);(!L||!L.tagName)&&(L={namespaceURI:ot,tagName:"template"});const W=$r(P.tagName),ae=$r(L.tagName);return jr[P.namespaceURI]?P.namespaceURI===Rt?L.namespaceURI===Fe?W==="svg":L.namespaceURI===At?W==="svg"&&(ae==="annotation-xml"||Ot[ae]):!!_n[W]:P.namespaceURI===At?L.namespaceURI===Fe?W==="math":L.namespaceURI===Rt?W==="math"&&kt[ae]:!!vn[W]:P.namespaceURI===Fe?L.namespaceURI===Rt&&!kt[ae]||L.namespaceURI===At&&!Ot[ae]?!1:!vn[W]&&(Na[W]||!_n[W]):!!(pt==="application/xhtml+xml"&&jr[P.namespaceURI]):!1},qe=function(P){vt(t.removed,{element:P});try{l(P).removeChild(P)}catch{f(P)}},rt=function(P,L){try{vt(t.removed,{attribute:L.getAttributeNode(P),from:L})}catch{vt(t.removed,{attribute:null,from:L})}if(L.removeAttribute(P),P==="is")if(me||le)try{qe(L)}catch{}else try{L.setAttribute(P,"")}catch{}},$n=function(P){let L=null,W=null;if(oe)P="<remove></remove>"+P;else{const ce=en(P,/^[\r\n\t ]+/);W=ce&&ce[0]}pt==="application/xhtml+xml"&&ot===Fe&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const ae=g?g.createHTML(P):P;if(ot===Fe)try{L=new w().parseFromString(ae,pt)}catch{}if(!L||!L.documentElement){L=v.createDocument(ot,"template",null);try{L.documentElement.innerHTML=Mr?u:ae}catch{}}const $e=L.body||L.documentElement;return P&&W&&$e.insertBefore(r.createTextNode(W),$e.childNodes[0]||null),ot===Fe?j.call(L,x?"html":"body")[0]:x?L.documentElement:$e},wn=function(P){return T.call(P.ownerDocument||P,P,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},qr=function(P){return P instanceof E&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof y)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},En=function(P){return typeof a=="function"&&P instanceof a};function Ve(B,P,L){yr(B,W=>{W.call(t,P,L,it)})}const bn=function(P){let L=null;if(Ve(C.beforeSanitizeElements,P,null),qr(P))return qe(P),!0;const W=pe(P.nodeName);if(Ve(C.uponSanitizeElement,P,{tagName:W,allowedTags:N}),z&&P.hasChildNodes()&&!En(P.firstElementChild)&&be(/<[/\w!]/g,P.innerHTML)&&be(/<[/\w!]/g,P.textContent)||P.nodeType===bt.progressingInstruction||z&&P.nodeType===bt.comment&&be(/<[/\w]/g,P.data))return qe(P),!0;if(!(G.tagCheck instanceof Function&&G.tagCheck(W))&&(!N[W]||I[W])){if(!I[W]&&Tn(W)&&(S.tagNameCheck instanceof RegExp&&be(S.tagNameCheck,W)||S.tagNameCheck instanceof Function&&S.tagNameCheck(W)))return!1;if(tt&&!Le[W]){const ae=l(P)||P.parentNode,$e=i(P)||P.childNodes;if($e&&ae){const ce=$e.length;for(let Ae=ce-1;Ae>=0;--Ae){const He=b($e[Ae],!0);He.__removalCount=(P.__removalCount||0)+1,ae.insertBefore(He,h(P))}}}return qe(P),!0}return P instanceof d&&!ka(P)||(W==="noscript"||W==="noembed"||W==="noframes")&&be(/<\/no(script|embed|frames)/i,P.innerHTML)?(qe(P),!0):(D&&P.nodeType===bt.text&&(L=P.textContent,yr([U,V,H],ae=>{L=$t(L,ae," ")}),P.textContent!==L&&(vt(t.removed,{element:P.cloneNode()}),P.textContent=L)),Ve(C.afterSanitizeElements,P,null),!1)},Sn=function(P,L,W){if(ie&&(L==="id"||L==="name")&&(W in r||W in Oa))return!1;if(!(Z&&!K[L]&&be(te,L))){if(!(ee&&be(ge,L))){if(!(G.attributeCheck instanceof Function&&G.attributeCheck(L,P))){if(!R[L]||K[L]){if(!(Tn(P)&&(S.tagNameCheck instanceof RegExp&&be(S.tagNameCheck,P)||S.tagNameCheck instanceof Function&&S.tagNameCheck(P))&&(S.attributeNameCheck instanceof RegExp&&be(S.attributeNameCheck,L)||S.attributeNameCheck instanceof Function&&S.attributeNameCheck(L,P))||L==="is"&&S.allowCustomizedBuiltInElements&&(S.tagNameCheck instanceof RegExp&&be(S.tagNameCheck,W)||S.tagNameCheck instanceof Function&&S.tagNameCheck(W))))return!1}else if(!Dr[L]){if(!be(q,$t(W,ne,""))){if(!((L==="src"||L==="xlink:href"||L==="href")&&P!=="script"&&Wi(W,"data:")===0&&mt[P])){if(!(A&&!be(ye,$t(W,ne,"")))){if(W)return!1}}}}}}}return!0},Tn=function(P){return P!=="annotation-xml"&&en(P,Oe)},Pn=function(P){Ve(C.beforeSanitizeAttributes,P,null);const{attributes:L}=P;if(!L||qr(P))return;const W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R,forceKeepAttr:void 0};let ae=L.length;for(;ae--;){const $e=L[ae],{name:ce,namespaceURI:Ae,value:He}=$e,ct=pe(ce),zr=He;let _e=ce==="value"?zr:Bi(zr);if(W.attrName=ct,W.attrValue=_e,W.keepAttr=!0,W.forceKeepAttr=void 0,Ve(C.uponSanitizeAttribute,P,W),_e=W.attrValue,ze&&(ct==="id"||ct==="name")&&(rt(ce,P),_e=Ne+_e),z&&be(/((--!?|])>)|<\/(style|title|textarea)/i,_e)){rt(ce,P);continue}if(ct==="attributename"&&en(_e,"href")){rt(ce,P);continue}if(W.forceKeepAttr)continue;if(!W.keepAttr){rt(ce,P);continue}if(!O&&be(/\/>/i,_e)){rt(ce,P);continue}D&&yr([U,V,H],An=>{_e=$t(_e,An," ")});const Nn=pe(P.nodeName);if(!Sn(Nn,ct,_e)){rt(ce,P);continue}if(g&&typeof $=="object"&&typeof $.getAttributeType=="function"&&!Ae)switch($.getAttributeType(Nn,ct)){case"TrustedHTML":{_e=g.createHTML(_e);break}case"TrustedScriptURL":{_e=g.createScriptURL(_e);break}}if(_e!==zr)try{Ae?P.setAttributeNS(Ae,ce,_e):P.setAttribute(ce,_e),qr(P)?qe(P):Xs(t.removed)}catch{rt(ce,P)}}Ve(C.afterSanitizeAttributes,P,null)},Ia=function B(P){let L=null;const W=wn(P);for(Ve(C.beforeSanitizeShadowDOM,P,null);L=W.nextNode();)Ve(C.uponSanitizeShadowNode,L,null),bn(L),Pn(L),L.content instanceof s&&B(L.content);Ve(C.afterSanitizeShadowDOM,P,null)};return t.sanitize=function(B){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=null,W=null,ae=null,$e=null;if(Mr=!B,Mr&&(B="<!-->"),typeof B!="string"&&!En(B))if(typeof B.toString=="function"){if(B=B.toString(),typeof B!="string")throw wt("dirty is not a string, aborting")}else throw wt("toString is not a function");if(!t.isSupported)return B;if(J||Lr(P),t.removed=[],typeof B=="string"&&(Ue=!1),Ue){if(B.nodeName){const He=pe(B.nodeName);if(!N[He]||I[He])throw wt("root node is forbidden and cannot be sanitized in-place")}}else if(B instanceof a)L=$n("<!---->"),W=L.ownerDocument.importNode(B,!0),W.nodeType===bt.element&&W.nodeName==="BODY"||W.nodeName==="HTML"?L=W:L.appendChild(W);else{if(!me&&!D&&!x&&B.indexOf("<")===-1)return g&&fe?g.createHTML(B):B;if(L=$n(B),!L)return me?null:fe?u:""}L&&oe&&qe(L.firstChild);const ce=wn(Ue?B:L);for(;ae=ce.nextNode();)bn(ae),Pn(ae),ae.content instanceof s&&Ia(ae.content);if(Ue)return B;if(me){if(le)for($e=k.call(L.ownerDocument);L.firstChild;)$e.appendChild(L.firstChild);else $e=L;return(R.shadowroot||R.shadowrootmode)&&($e=F.call(n,$e,!0)),$e}let Ae=x?L.outerHTML:L.innerHTML;return x&&N["!doctype"]&&L.ownerDocument&&L.ownerDocument.doctype&&L.ownerDocument.doctype.name&&be(Sa,L.ownerDocument.doctype.name)&&(Ae="<!DOCTYPE "+L.ownerDocument.doctype.name+`>
`+Ae),D&&yr([U,V,H],He=>{Ae=$t(Ae,He," ")}),g&&fe?g.createHTML(Ae):Ae},t.setConfig=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Lr(B),J=!0},t.clearConfig=function(){it=null,J=!1},t.isValidAttribute=function(B,P,L){it||Lr({});const W=pe(B),ae=pe(P);return Sn(W,ae,L)},t.addHook=function(B,P){typeof P=="function"&&vt(C[B],P)},t.removeHook=function(B,P){if(P!==void 0){const L=Ki(C[B],P);return L===-1?void 0:Gi(C[B],L,1)[0]}return Xs(C[B])},t.removeHooks=function(B){C[B]=[]},t.removeAllHooks=function(){C=na()},t}var uc=Ta();//! pretty-print-json v3.0.6 ~~ https://pretty-print-json.js.org ~~ MIT License
const lc={version:"3.0.6",toHtml(e,t){const n={...{indent:3,lineNumbers:!1,linkUrls:!0,linksNewTab:!0,quoteKeys:!1,trailingCommas:!0},...t},o=/[<>&]|\\"/g,s=_=>_==="<"?"&lt;":_===">"?"&gt;":_==="&"?"&amp;":"&bsol;&quot;",c=(_,b)=>b?"<span class=json-"+_+">"+b+"</span>":"",a=_=>{const b=/^"/.test(_)&&"string",i=["true","false"].includes(_)&&"boolean"||_==="null"&&"null"||b||"number",l=/https?:\/\/[^\s"]+/g,g=n.linksNewTab?" target=_blank":"",u=T=>`<a class=json-link href="${T}"${g}>${T}</a>`,v=b&&n.linkUrls?_.replace(l,u):_;return c(i,v)},d=(_,...b)=>{const f={indent:b[0],key:b[1],value:b[2],end:b[3]},h=n.quoteKeys?/(.*)(): /:/"([\w$]+)": |(.*): /,i=f.indent||"",l=f.key&&f.key.replace(h,"$1$2"),g=f.key?c("key",l)+c("mark",": "):"",u=f.value?a(f.value):"",v=!f.end||["]","}"].includes(_.at(-1)),T=n.trailingCommas&&_.at(0)===" "&&v,k=c("mark",T?(f.end??"")+",":f.end);return i+g+u+k},m=/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([{}[\],]*)?$/mg,E=(JSON.stringify(e,null,n.indent)||"undefined").replace(o,s).replace(m,d),w=_=>`   <li>${_}</li>`,$=_=>["<ol class=json-lines>",..._.split(`
`).map(w),"</ol>"].join(`
`);return n.lineNumbers?$(E):E}};function fc(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{t=e}let r=lc.toHtml(t);return r=r.replace(/&#10;/g,"<br>"),r=r.replace(/\\n/g,"<br>"),r=r.replace(/\n/g,"<br>"),uc.sanitize(r)}var dc=Pe('<div><pre class="text-sm text-gray-300 overflow-y-auto max-h-80 scrollbar-themed">');const hc=e=>{const t=()=>fc(e.text);return(()=>{var r=dc(),n=r.firstChild;return Je(o=>{var s=`bg-code dark:bg-code p-4 pr-0 rounded-2xl ${e.class||""}`,c=t();return s!==o.e&&Rr(r,o.e=s),c!==o.t&&(n.innerHTML=o.t=c),o},{e:void 0,t:void 0}),r})()};var mc=Pe('<div class="transition-all duration-100 overflow-hidden">');const pc=e=>{const t=()=>e.status==="invalid"&&e.error?{type:"error",title:"Validation Error",message:e.error}:e.status==="warning"&&e.warning?{type:"warning",title:"Schema Warning",message:e.warning}:null;return(()=>{var r=mc();return he(r,()=>{const n=t();return n?Re(Fi,{get type(){return n.type},get title(){return n.title},get message(){return n.message},class:"mb-4 mx-4"}):null},null),he(r,Re(hc,{get text(){return e.codeText},class:"mx-4 mb-4"}),null),Je(n=>{var o=!!e.isOpen,s=!e.isOpen;return o!==n.e&&r.classList.toggle("max-h-[32rem]",n.e=o),s!==n.t&&r.classList.toggle("max-h-0",n.t=s),n},{e:void 0,t:void 0}),r})()};var gc=Pe('<div class="p-4 bg-card dark:bg-card rounded-2xl text-white overflow-hidden transition-all duration-100 shadow-inner-border dark:shadow-inner-border mb-2"style=view-transition-name:event-card>');const yc=e=>{const[t,r]=Xe(!1),n=Ze(()=>{try{const y=JSON.parse(e.event);return lo(y)}catch(y){return console.error("Failed to parse event JSON:",y),null}}),{validationStatus:o,validationError:s,validationWarning:c}=Ci(n),a=n();if(!a)return null;const d=ho(a),m=JSON.stringify(a,null,2);return(()=>{var y=gc();return Qa(y,"animation","slideInFromTop 0.3s ease-out"),he(y,Re(zi,{title:d,get status(){return o()},get isOpen(){return t()},onToggle:()=>r(!t())}),null),he(y,Re(pc,{get isOpen(){return t()},get status(){return o()},get error(){return s()},get warning(){return c()},codeText:m}),null),y})()};var _c=Pe('<div class="grid grid-cols-1 gap-4">'),vc=Pe('<div class="text-center text-gray-400 py-8">'),$c=Pe("<div class=event-card-wrapper>");const wc=e=>(()=>{var t=_c();return he(t,Re(Wa,{get when(){return e.subscription.events().length>0},get fallback(){return(()=>{var r=vc();return he(r,()=>e.subscription.isConnected()?"Waiting for events...":"Connecting..."),r})()},get children(){return Re(Ga,{get each(){return e.subscription.events()},children:(r,n)=>{const o=uo(r),s=n()===0;return(()=>{var c=$c();return c.classList.toggle("animate-slide-in",!!s),he(c,Re(yc,{get kind(){return o.kind},get event(){return o.event}})),c})()}})}})),t})();var Ec=Pe('<div class="min-h-screen bg-main dark:bg-main overflow-hidden text-white flex flex-col overflow-y-auto">');const bc=()=>{const e=to("/api/events");return(()=>{var t=Ec();return he(t,Re(oo,{subscription:e}),null),he(t,Re(co,{get children(){return Re(wc,{subscription:e})}}),null),t})()},Sc=document.getElementById("root");Ya(()=>Re(bc,{}),Sc);
